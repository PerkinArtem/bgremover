var yg=Object.defineProperty;var bg=(w,o,c)=>o in w?yg(w,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):w[o]=c;var Su=(w,o,c)=>(bg(w,typeof o!="symbol"?o+"":o,c),c);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))y(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&y(g)}).observe(document,{childList:!0,subtree:!0});function c(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function y(d){if(d.ep)return;d.ep=!0;const f=c(d);fetch(d.href,f)}})();const common="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ort_min={exports:{}};/*!
* ONNX Runtime Web v1.16.1
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(w,o){module.exports=o()})(self,()=>(()=>{var __webpack_modules__={5716:(w,o,c)=>{o.R=void 0;const y=c(6027),d=c(1723);o.R=new class{async init(){}async createSessionHandler(f,g){const p=new y.Session(g);return await p.loadModel(f),new d.OnnxjsSessionHandler(p)}}},2818:(w,o,c)=>{o.c8=o.rX=void 0;const y=c(2235),d=c(5381),f=c(9544),g=c(6640);o.rX=()=>{if((typeof y.env.wasm.initTimeout!="number"||y.env.wasm.initTimeout<0)&&(y.env.wasm.initTimeout=0),typeof y.env.wasm.simd!="boolean"&&(y.env.wasm.simd=!0),typeof y.env.wasm.proxy!="boolean"&&(y.env.wasm.proxy=!1),typeof y.env.wasm.numThreads!="number"||!Number.isInteger(y.env.wasm.numThreads)||y.env.wasm.numThreads<=0){const p=typeof navigator>"u"?(0,d.cpus)().length:navigator.hardwareConcurrency;y.env.wasm.numThreads=Math.min(4,Math.ceil((p||1)/2))}},o.c8=new class{async init(){(0,o.rX)(),await(0,f.initializeWebAssemblyInstance)()}async createSessionHandler(p,m){const l=new g.OnnxruntimeWebAssemblySessionHandler;return await l.loadModel(p,m),Promise.resolve(l)}}},1057:function(w,o,c){var y=this&&this.__createBinding||(Object.create?function(p,m,l,a){a===void 0&&(a=l);var n=Object.getOwnPropertyDescriptor(m,l);n&&!("get"in n?!m.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return m[l]}}),Object.defineProperty(p,a,n)}:function(p,m,l,a){a===void 0&&(a=l),p[a]=m[l]}),d=this&&this.__exportStar||function(p,m){for(var l in p)l==="default"||Object.prototype.hasOwnProperty.call(m,l)||y(m,p,l)};Object.defineProperty(o,"__esModule",{value:!0}),d(c(2235),o);const f=c(2235),g=c(8408);{const p=c(5716).R;(0,f.registerBackend)("webgl",p,-10)}{const p=c(2818).c8;(0,f.registerBackend)("cpu",p,10),(0,f.registerBackend)("wasm",p,10),(0,f.registerBackend)("xnnpack",p,9),(0,f.registerBackend)("webnn",p,9)}f.env.versions.web=g.version},4910:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createAttributeWithCacheKey=void 0;class c{constructor(d){Object.assign(this,d)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(d=>`${this[d]}`).join(";")),this._cacheKey}}o.createAttributeWithCacheKey=y=>new c(y)},6874:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Attribute=void 0;const y=c(5127),d=c(2446),f=c(9240),g=c(7273);var p=y.onnxruntime.experimental.fbs;class m{constructor(a){if(this._attributes=new Map,a!=null){for(const n of a)n instanceof d.onnx.AttributeProto?this._attributes.set(n.name,[m.getValue(n),m.getType(n)]):n instanceof p.Attribute&&this._attributes.set(n.name(),[m.getValue(n),m.getType(n)]);if(this._attributes.size<a.length)throw new Error("duplicated attribute names")}}set(a,n,e){this._attributes.set(a,[e,n])}delete(a){this._attributes.delete(a)}getFloat(a,n){return this.get(a,"float",n)}getInt(a,n){return this.get(a,"int",n)}getString(a,n){return this.get(a,"string",n)}getTensor(a,n){return this.get(a,"tensor",n)}getFloats(a,n){return this.get(a,"floats",n)}getInts(a,n){return this.get(a,"ints",n)}getStrings(a,n){return this.get(a,"strings",n)}getTensors(a,n){return this.get(a,"tensors",n)}get(a,n,e){const t=this._attributes.get(a);if(t===void 0){if(e!==void 0)return e;throw new Error(`required attribute not found: ${a}`)}if(t[1]!==n)throw new Error(`type mismatch: expected ${n} but got ${t[1]}`);return t[0]}static getType(a){const n=a instanceof d.onnx.AttributeProto?a.type:a.type();switch(n){case d.onnx.AttributeProto.AttributeType.FLOAT:return"float";case d.onnx.AttributeProto.AttributeType.INT:return"int";case d.onnx.AttributeProto.AttributeType.STRING:return"string";case d.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case d.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case d.onnx.AttributeProto.AttributeType.INTS:return"ints";case d.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case d.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${d.onnx.AttributeProto.AttributeType[n]}`)}}static getValue(a){const n=a instanceof d.onnx.AttributeProto?a.type:a.type();if(n===d.onnx.AttributeProto.AttributeType.GRAPH||n===d.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const e=this.getValueNoCheck(a);if(n===d.onnx.AttributeProto.AttributeType.INT&&g.LongUtil.isLong(e))return g.LongUtil.longToNumber(e);if(n===d.onnx.AttributeProto.AttributeType.INTS){const t=e,r=new Array(t.length);for(let u=0;u<t.length;u++){const h=t[u];r[u]=g.LongUtil.longToNumber(h)}return r}if(n===d.onnx.AttributeProto.AttributeType.TENSOR)return a instanceof d.onnx.AttributeProto?f.Tensor.fromProto(e):f.Tensor.fromOrtTensor(e);if(n===d.onnx.AttributeProto.AttributeType.TENSORS){if(a instanceof d.onnx.AttributeProto)return e.map(t=>f.Tensor.fromProto(t));if(a instanceof p.Attribute)return e.map(t=>f.Tensor.fromOrtTensor(t))}if(n===d.onnx.AttributeProto.AttributeType.STRING&&a instanceof d.onnx.AttributeProto){const t=e;return(0,g.decodeUtf8String)(t)}return n===d.onnx.AttributeProto.AttributeType.STRINGS&&a instanceof d.onnx.AttributeProto?e.map(g.decodeUtf8String):e}static getValueNoCheck(a){return a instanceof d.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(a):this.getValueNoCheckFromOrtFormat(a)}static getValueNoCheckFromOnnxFormat(a){switch(a.type){case d.onnx.AttributeProto.AttributeType.FLOAT:return a.f;case d.onnx.AttributeProto.AttributeType.INT:return a.i;case d.onnx.AttributeProto.AttributeType.STRING:return a.s;case d.onnx.AttributeProto.AttributeType.TENSOR:return a.t;case d.onnx.AttributeProto.AttributeType.GRAPH:return a.g;case d.onnx.AttributeProto.AttributeType.FLOATS:return a.floats;case d.onnx.AttributeProto.AttributeType.INTS:return a.ints;case d.onnx.AttributeProto.AttributeType.STRINGS:return a.strings;case d.onnx.AttributeProto.AttributeType.TENSORS:return a.tensors;case d.onnx.AttributeProto.AttributeType.GRAPHS:return a.graphs;default:throw new Error(`unsupported attribute type: ${d.onnx.AttributeProto.AttributeType[a.type]}`)}}static getValueNoCheckFromOrtFormat(a){switch(a.type()){case p.AttributeType.FLOAT:return a.f();case p.AttributeType.INT:return a.i();case p.AttributeType.STRING:return a.s();case p.AttributeType.TENSOR:return a.t();case p.AttributeType.GRAPH:return a.g();case p.AttributeType.FLOATS:return a.floatsArray();case p.AttributeType.INTS:{const n=[];for(let e=0;e<a.intsLength();e++)n.push(a.ints(e));return n}case p.AttributeType.STRINGS:{const n=[];for(let e=0;e<a.stringsLength();e++)n.push(a.strings(e));return n}case p.AttributeType.TENSORS:{const n=[];for(let e=0;e<a.tensorsLength();e++)n.push(a.tensors(e));return n}default:throw new Error(`unsupported attribute type: ${p.AttributeType[a.type()]}`)}}}o.Attribute=m},1975:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveBackend=o.backend=void 0;const y=c(4418),d=new Map;async function f(g){const p=o.backend;if(p[g]!==void 0&&function(m){const l=m;return"initialize"in l&&typeof l.initialize=="function"&&"createSessionHandler"in l&&typeof l.createSessionHandler=="function"&&"dispose"in l&&typeof l.dispose=="function"}(p[g])){const m=p[g];let l=m.initialize();if(typeof l=="object"&&"then"in l&&(l=await l),l)return d.set(g,m),m}}o.backend={webgl:new y.WebGLBackend},o.resolveBackend=async function g(p){if(!p)return g(["webgl"]);{const m=typeof p=="string"?[p]:p;for(const l of m){const a=d.get(l);if(a)return a;const n=await f(l);if(n)return n}}throw new Error("no available backend to use")}},4418:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLBackend=void 0;const y=c(2235),d=c(1315),f=c(2171),g=c(3389);o.WebGLBackend=class{get contextId(){return y.env.webgl.contextId}set contextId(p){y.env.webgl.contextId=p}get matmulMaxBatchSize(){return y.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(p){y.env.webgl.matmulMaxBatchSize=p}get textureCacheMode(){return y.env.webgl.textureCacheMode}set textureCacheMode(p){y.env.webgl.textureCacheMode=p}get pack(){return y.env.webgl.pack}set pack(p){y.env.webgl.pack=p}get async(){return y.env.webgl.async}set async(p){y.env.webgl.async=p}initialize(){try{return this.glContext=(0,g.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),d.Logger.setWithEnv(y.env),d.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(p){return d.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${p}`),!1}}createSessionHandler(p){return new f.WebGLSessionHandler(this,p)}dispose(){this.glContext.dispose()}}},6859:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoordsGlslLib=void 0;const y=c(7273),d=c(1997),f=c(6757),g=c(7618),p=c(432);class m extends d.GlslLib{constructor(a){super(a)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new d.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new d.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const a=this.context.outputTextureLayout;return a.isPacked?this.getPackedOutputSamplingSnippet(a):this.getUnpackedOutputSamplingSnippet(a)}getPackedOutputSamplingSnippet(a){const n=a.unpackedShape,e=[a.width,a.height],t={},r="getOutputCoords";switch(n.length){case 0:t[r]=this.getOutputScalarCoords();break;case 1:t[r]=this.getOutputPacked1DCoords(n,e);break;case 2:t[r]=this.getOutputPacked2DCoords(n,e);break;case 3:t[r]=this.getOutputPacked3DCoords(n,e);break;default:t[r]=this.getOutputPackedNDCoords(n,e)}const u=`
      void setOutput(vec4 val) {
        ${(0,f.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return t.floatTextureSetRGBA=new d.GlslLibRoutine(u),t}getUnpackedOutputSamplingSnippet(a){const n=a.unpackedShape,e=[a.width,a.height],t={},r="getOutputCoords";switch(n.length){case 0:t[r]=this.getOutputScalarCoords();break;case 1:t[r]=this.getOutputUnpacked1DCoords(n,e);break;case 2:t[r]=this.getOutputUnpacked2DCoords(n,e);break;case 3:t[r]=this.getOutputUnpacked3DCoords(n,e);break;case 4:t[r]=this.getOutputUnpacked4DCoords(n,e);break;case 5:t[r]=this.getOutputUnpacked5DCoords(n,e);break;case 6:t[r]=this.getOutputUnpacked6DCoords(n,e);break;default:throw new Error(`Unsupported output dimensionality: ${n.length}`)}const u=`
        void setOutput(float val) {
          ${(0,f.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return t.floatTextureSetR=new d.GlslLibRoutine(u),t}getOutputScalarCoords(){return new d.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(a,n){const e=n;let t="";return e[0]===1?(t=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${e[1]}.0);
          }
        `,new d.GlslLibRoutine(t)):e[1]===1?(t=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${e[0]}.0);
          }
        `,new d.GlslLibRoutine(t)):(t=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${e[0]}, ${e[1]}));
          return 2 * (resTexRC.y * ${e[0]} + resTexRC.x);
        }
      `,new d.GlslLibRoutine(t))}getOutputPacked2DCoords(a,n){let e="";if(y.ArrayUtil.arraysEqual(a,n))return e=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${n[0]}, ${n[1]}));
        }
      `,new d.GlslLibRoutine(e);const t=n,r=Math.ceil(a[1]/2);return e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));

          int index = resTexRC.y * ${t[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${r}) * 2;
          int c = 2 * (index / ${r});

          return ivec2(r, c);
        }
      `,new d.GlslLibRoutine(e)}getOutputPacked3DCoords(a,n){const e=[n[0],n[1]],t=Math.ceil(a[2]/2),r=t*Math.ceil(a[1]/2),u=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;

          int b = index / ${r};
          index -= b * ${r};

          // reverse r and c order for packed texture
          int r = imod(index, ${t}) * 2;
          int c = 2 * (index / ${t});

          return ivec3(b, r, c);
        }
      `;return new d.GlslLibRoutine(u)}getOutputPackedNDCoords(a,n){const e=[n[0],n[1]],t=Math.ceil(a[a.length-1]/2),r=t*Math.ceil(a[a.length-2]/2);let u=r,h="",b="b, r, c";for(let x=2;x<a.length-1;x++)u*=a[a.length-x-1],h=`
      int b${x} = index / ${u};
      index -= b${x} * ${u};
    `+h,b=`b${x}, `+b;const _=`
      ivec${a.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.y * ${e[0]} + resTexRC.x;

        ${h}

        int b = index / ${r};
        index -= b * ${r};

        // reverse r and c order for packed texture
        int r = imod(index, ${t}) * 2;
        int c = 2 * (index / ${t});

        return ivec${a.length}(${b});
      }
    `;return new d.GlslLibRoutine(_)}getOutputUnpacked1DCoords(a,n){const e=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          return resTexRC.y * ${n[0]} + resTexRC.x;
        }
      `;return new d.GlslLibRoutine(e)}getOutputUnpacked2DCoords(a,n){const e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          int r = index / ${a[1]};
          int c = index - r * ${a[1]};
          return ivec2(r, c);
        }
      `;return new d.GlslLibRoutine(e)}getOutputUnpacked3DCoords(a,n){let e="";const t=a.length;let r=null;t<2&&(r=[]),r=new Array(t-1),r[t-2]=a[t-1];for(let b=t-3;b>=0;--b)r[b]=r[b+1]*a[b+1];const u=["r","c","d"],h=r.map((b,_)=>`int ${u[_]} = index / ${b}; ${_===r.length-1?`int ${u[_+1]} = index - ${u[_]} * ${b}`:`index -= ${u[_]} * ${b}`};`).join("");return e=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${h}
          return ivec3(r, c, d);
        }
      `,new d.GlslLibRoutine(e)}getOutputUnpacked4DCoords(a,n){let e="";const t=a.length;let r=null;t<2&&(r=[]),r=new Array(t-1),r[t-2]=a[t-1];for(let b=t-3;b>=0;--b)r[b]=r[b+1]*a[b+1];const u=["r","c","d","d2"],h=r.map((b,_)=>`int ${u[_]} = index / ${b}; ${_===r.length-1?`int ${u[_+1]} = index - ${u[_]} * ${b}`:`index -= ${u[_]} * ${b}`};`).join("");return e=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${h}
          return ivec4(r, c, d, d2);
        }
      `,new d.GlslLibRoutine(e)}getOutputUnpacked5DCoords(a,n){let e="";const t=a.length;let r=null;t<2&&(r=[]),r=new Array(t-1),r[t-2]=a[t-1];for(let b=t-3;b>=0;--b)r[b]=r[b+1]*a[b+1];const u=["r","c","d","d2","d3"],h=r.map((b,_)=>`int ${u[_]} = index / ${b}; ${_===r.length-1?`int ${u[_+1]} = index - ${u[_]} * ${b}`:`index -= ${u[_]} * ${b}`};`).join("");return e=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${h}
          return ivec5(r, c, d, d2, d3);
        }
      `,new d.GlslLibRoutine(e)}getOutputUnpacked6DCoords(a,n){let e="";const t=a.length;let r=null;t<2&&(r=[]),r=new Array(t-1),r[t-2]=a[t-1];for(let b=t-3;b>=0;--b)r[b]=r[b+1]*a[b+1];const u=["r","c","d","d2","d3","d4"],h=r.map((b,_)=>`int ${u[_]} = index / ${b}; ${_===r.length-1?`int ${u[_+1]} = index - ${u[_]} * ${b}`:`index -= ${u[_]} * ${b}`};`).join("");return e=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${n[0]}, ${n[1]}));
         int index = resTexRC.y * ${n[0]} + resTexRC.x;
         ${h}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new d.GlslLibRoutine(e)}getCommonUtilFuncs(){const a={};let n="uvFromFlat";a[n]=new d.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),n="packedUVfrom1D",a[n]=new d.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="packedUVfrom2D",a[n]=new d.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="packedUVfrom3D",a[n]=new d.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="sampleTexture";const e=(0,f.getGlsl)(this.context.glContext.version);return a[n]=new d.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${e.texture2D}(textureSampler, uv).r;
        }`),a}getInputsSamplingSnippets(){const a={},n=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((e,t)=>{const r=this.context.inputTextureLayouts[t],u=(0,p.generateShaderFuncNameFromInputSamplerName)(e);r.isPacked?a[u]=this.getPackedSamplerFromInput(u,e,r):a[u]=this.getUnpackedSamplerFromInput(u,e,r);const h=(0,p.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(e);r.unpackedShape.length<=n.unpackedShape.length&&(r.isPacked?a[h]=this.getPackedSamplerAtOutputCoords(h,r,n,e):a[h]=this.getUnpackedSamplerAtOutputCoords(h,r,n,e))}),a}getPackedSamplerAtOutputCoords(a,n,e,t){const r=n.unpackedShape,u=e.unpackedShape,h=t,b=(0,p.generateShaderFuncNameFromInputSamplerName)(h),_=r.length,x=u.length,O=y.BroadcastUtil.getBroadcastDims(r,u),S=(0,p.getCoordsDataType)(x),I=x-_;let A;const R=(0,p.getGlChannels)();A=_===0?"":x<2&&O.length>=1?"coords = 0;":O.map(Q=>`coords.${R[Q+I]} = 0;`).join(`
`);let j="";j=x<2&&_>0?"coords":r.map((Q,C)=>`coords.${R[C+I]}`).join(", ");let U="return outputValue;";const G=y.ShapeUtil.size(r)===1,X=y.ShapeUtil.size(u)===1;if(_!==1||G||X){if(G&&!X)U=x===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(O.length){const Q=_-2,C=_-1;O.indexOf(Q)>-1&&O.indexOf(C)>-1?U="return vec4(outputValue.x);":O.indexOf(Q)>-1?U="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":O.indexOf(C)>-1&&(U="return vec4(outputValue.xx, outputValue.zz);")}}else U=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const $=`
      vec4 ${a}() {
        ${S} coords = getOutputCoords();
        
        int lastDim = coords.${R[x-1]};
        coords.${R[x-1]} = coords.${R[x-2]};
        coords.${R[x-2]} = lastDim;
      
        ${A}
        vec4 outputValue = ${b}(${j});
        ${U}
      }
    `;return new d.GlslLibRoutine($,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(a,n,e,t){const r=[e.width,e.height],u=[n.width,n.height],h=n.unpackedShape.length,b=e.unpackedShape.length,_=n.unpackedShape,x=e.unpackedShape,O=(0,p.generateShaderFuncNameFromInputSamplerName)(t);if(h===b&&y.ArrayUtil.arraysEqual(u,r)){const X=`
          float ${a}() {
            return sampleTexture(${t}, TexCoords);
          }
        `;return new d.GlslLibRoutine(X,["coordinates.sampleTexture"])}const S=(0,p.getCoordsDataType)(b),I=y.BroadcastUtil.getBroadcastDims(_,x),A=b-h;let R;const j=(0,p.getGlChannels)();R=h===0?"":b<2&&I.length>=1?"coords = 0;":I.map(X=>`coords.${j[X+A]} = 0;`).join(`
`);let U="";U=b<2&&h>0?"coords":n.unpackedShape.map((X,$)=>`coords.${j[$+A]}`).join(", ");const G=`
        float ${a}() {
          ${S} coords = getOutputCoords();
          ${R}
          return ${O}(${U});
        }
      `;return new d.GlslLibRoutine(G,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(a,n,e){switch(e.unpackedShape.length){case 0:return this.getPackedSamplerScalar(a,n);case 1:return this.getPackedSampler1D(a,n,e);case 2:return this.getPackedSampler2D(a,n,e);case 3:return this.getPackedSampler3D(a,n,e);default:return this.getPackedSamplerND(a,n,e)}}getUnpackedSamplerFromInput(a,n,e){const t=e.unpackedShape;switch(t.length){case 0:return this.getUnpackedSamplerScalar(a,n,e);case 1:return this.getUnpackedSampler1D(a,n,e);case 2:return this.getUnpackedSampler2D(a,n,e);case 3:return this.getUnpackedSampler3D(a,n,e);case 4:return this.getUnpackedSampler4D(a,n,e);case 5:return this.getUnpackedSampler5D(a,n,e);case 6:return this.getUnpackedSampler6D(a,n,e);default:throw new Error(`Unsupported dimension ${t.length}-D`)}}getPackedSamplerScalar(a,n){const e=`
          vec4 ${a}() {
            return ${(0,f.getGlsl)(this.context.glContext.version).texture2D}(${n}, halfCR);
          }
        `;return new d.GlslLibRoutine(e)}getPackedSampler1D(a,n,e){const t=[e.width,e.height],r=[t[1],t[0]],u=(0,f.getGlsl)(this.context.glContext.version),h=`vec4 ${a}(int index) {
      vec2 uv = packedUVfrom1D(
      ${r[0]}, ${r[1]}, index);
      return ${u.texture2D}(${n}, uv);
    }`;return new d.GlslLibRoutine(h,["coordinates.packedUVfrom1D"])}getPackedSampler2D(a,n,e){const t=e.unpackedShape,r=[e.width,e.height],u=(0,f.getGlsl)(this.context.glContext.version),h=r[0],b=r[1];if(r!=null&&y.ArrayUtil.arraysEqual(t,r)){const S=`vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${b}.0, ${h}.0);
        return ${u.texture2D}(${n}, uv);
      }`;return new d.GlslLibRoutine(S)}const _=r,x=Math.ceil(t[1]/2),O=`vec4 ${a}(int row, int col) {
      vec2 uv = packedUVfrom2D(${_[1]}, ${_[0]}, ${x}, row, col);
      return ${u.texture2D}(${n}, uv);
    }`;return new d.GlslLibRoutine(O,["coordinates.packedUVfrom2D"])}getPackedSampler3D(a,n,e){const t=e.unpackedShape,r=[e.width,e.height],u=[r[0],r[1]],h=(0,f.getGlsl)(this.context.glContext.version);if(t[0]===1){const S=t.slice(1),I=[1,2],A=(0,p.squeezeInputShape)(t,S),R=["b","row","col"],j=JSON.parse(JSON.stringify(e));j.unpackedShape=A;const U=this.getPackedSamplerFromInput(a,n,j),G=`${U.routineBody}
      vec4 ${a}(int b, int row, int col) {
        return ${a}(${(0,p.getSqueezedParams)(R,I)});
      } `;return new d.GlslLibRoutine(G,U.dependencies)}const b=u[0],_=u[1],x=Math.ceil(t[2]/2),O=`vec4 ${a}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${_}, ${b}, ${x*Math.ceil(t[1]/2)}, ${x}, b, row, col);
      return ${h.texture2D}(${n}, uv);}`;return new d.GlslLibRoutine(O,["coordinates.packedUVfrom3D"])}getPackedSamplerND(a,n,e){const t=e.unpackedShape,r=t.length,u=[e.width,e.height],h=(0,f.getGlsl)(this.context.glContext.version),b=[u[0],u[1]],_=b[1],x=b[0],O=Math.ceil(t[r-1]/2);let S=O*Math.ceil(t[r-2]/2),I="int b, int row, int col",A=`b * ${S} + (row / 2) * ${O} + (col / 2)`;for(let j=2;j<r-1;j++)I=`int b${j}, `+I,S*=t[r-j-1],A=`b${j} * ${S} + `+A;const R=`vec4 ${a}(${I}) {
      int index = ${A};
      int texR = index / ${x};
      int texC = index - texR * ${x};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${x}, ${_});
      return ${h.texture2D}(${n}, uv);
    }`;return new d.GlslLibRoutine(R)}getUnpackedSamplerScalar(a,n,e){const[t,r]=[e.width,e.height];if(t===1&&r===1){const h=`
          float ${a}() {
            return sampleTexture(${n}, halfCR);
          }
        `;return new d.GlslLibRoutine(h,["coordinates.sampleTexture"])}const u=`
        float ${a}() {
          int offset_${n} = coordsToOffset(TexCoords, ${t}, ${r});
          vec2 uv = uvFromFlat(${t}, ${r}, offset_${n});
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(u,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(a,n,e){const t=e.width,r=e.height;if(r===1&&t===1){const h=`
        float ${a}(int index) {
          return sampleTexture(${n}, halfCR);
        }
      `;return new d.GlslLibRoutine(h,["coordinates.sampleTexture"])}if(r===1){const h=`
          float ${a}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${t}.0, 0.5);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(h,["coordinates.sampleTexture"])}if(t===1){const h=`
          float ${a}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${r}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(h,["coordinates.sampleTexture"])}const u=`
        float ${a}(int index) {
          vec2 uv = uvFromFlat(${t}, ${r}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(u,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(a,n,e){const t=e.unpackedShape,r=[e.height,e.width];if(r!=null&&y.ArrayUtil.arraysEqual(t,r)){const S=`
          float ${a}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${r[1]}.0, ${r[0]}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(S,["coordinates.sampleTexture"])}const{newShape:u,keptDims:h}=(0,g.squeezeShape)(t),b=u;if(b.length<t.length){const S=(0,p.squeezeInputShape)(t,b),I=JSON.parse(JSON.stringify(e));I.unpackedShape=S;const A=["col","row"],R=`
          ${this.getUnpackedSamplerFromInput(a,n,I).routineBody}
          float ${a}(int row, int col) {
            return ${a}(${(0,p.getSqueezedParams)(A,h)});
          }
        `;return new d.GlslLibRoutine(R,["coordinates.sampleTexture"])}const _=r[1],x=r[0];if(x===1){const S=`
          float ${a}(int row, int col) {
            int offset_${n} = coordsToOffset(TexCoords, ${_}, ${x});
            float index = dot(vec3(row, col, offset_${n}), vec3(${t[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${_}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(S,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(_===1){const S=`
          float ${a}(int row, int col) {
            int offset_${n} = coordsToOffset(TexCoords, ${_}, ${x});
            float index = dot(vec3(row, col, offset_${n}), vec3(${t[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${x}.0, 0.5);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(S,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const O=`
        float ${a}(int row, int col) {
          int index = col * ${t[1]} + row;
          vec2 uv = uvFromFlat(${_}, ${x}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(O,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(a,n,e){const t=e.unpackedShape,r=t[1]*t[2],u=t[2],{newShape:h,keptDims:b}=(0,g.squeezeShape)(t),_=h;if(_.length<t.length){const O=(0,p.squeezeInputShape)(t,_),S=["batch","col","row"],I=JSON.parse(JSON.stringify(e));I.unpackedShape=O;const A=this.getUnpackedSamplerFromInput(a,n,I),R=b.reverse(),j=`
          ${A.routineBody}
          float ${a}(int batch, int row, int col) {
            return ${a}(${(0,p.getSqueezedParams)(S,R)});
          }
        `;return new d.GlslLibRoutine(j,A.dependencies)}const x=`
          float ${a}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${r} + col * ${u} + row;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${n}, uv);
          }
      `;return new d.GlslLibRoutine(x,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(a,n,e){const t=e.unpackedShape,r=t[3],u=t[2]*r,h=`
        float ${a}(int row, int col, int depth, int depth2) {
          int index = row * ${t[1]*u} + col * ${u} +
              depth2 * ${r} + depth;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(h,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(a,n,e){const t=e.unpackedShape,r=t[4],u=t[3]*r,h=t[2]*u,b=t[1]*h,{newShape:_,keptDims:x}=(0,g.squeezeShape)(t);if(_.length<t.length){const S=(0,p.squeezeInputShape)(t,_),I=["row","col","depth","depth2","depth3"],A=JSON.parse(JSON.stringify(e));A.unpackedShape=S;const R=`
          ${this.getUnpackedSamplerFromInput(a,n,A).routineBody}
          float ${a}(int row, int col, int depth, int depth2, int depth3) {
            return ${a}(${(0,p.getSqueezedParams)(I,x)});
          }
        `;return new d.GlslLibRoutine(R,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const O=`
        float ${a}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${b} + col * ${h} + depth * ${u} +
          depth3 * ${r} + depth2;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(O,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(a,n,e){const t=e.unpackedShape,r=t[5],u=t[4]*r,h=t[3]*u,b=t[2]*h,_=t[1]*b,{newShape:x,keptDims:O}=(0,g.squeezeShape)(t);if(x.length<t.length){const I=(0,p.squeezeInputShape)(t,x),A=["row","col","depth","depth2","depth3","depth4"],R=JSON.parse(JSON.stringify(e));R.unpackedShape=I;const j=`
            ${this.getUnpackedSamplerFromInput(a,n,R).routineBody}
            float ${a}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${a}(${(0,p.getSqueezedParams)(A,O)});
            }
          `;return new d.GlslLibRoutine(j,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const S=`
          float ${a}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${_} + col * ${b} + depth * ${h} +
            depth2 * ${u} + depth3 * ${r} + depth4;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(S,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const a=this.context.outputTextureLayout,n=a.shape.length,e=a.strides,t=a.width,r=a.height,u=[];for(let b=0;b<n-1;++b)u.push(`
        c[${b}] = offset / ${e[b]};`),u.push(`
        offset -= c[${b}] * ${e[b]};`);u.push(`
        c[${n-1}] = offset;`);const h=`
      void toVec(vec2 texCoords, out int c[${n}]) {
        int offset = coordsToOffset(texCoords, ${t}, ${r});
        ${u.join("")}
      }
      void toVec(int offset, out int c[${n}]) {
        ${u.join("")}
      }
    `;return{toVec:new d.GlslLibRoutine(h,["coordinates.coordsToOffset"])}}valueFrom(){const a={};return this.context.programInfo.inputNames.forEach((n,e)=>{const t=this.context.inputTextureLayouts[e],r=(t.unpackedShape.length>0?t.unpackedShape:t.shape).length;let u=`_${n}`;a[u]=new d.GlslLibRoutine(this.getValueFromSingle(n,r,t.width,t.height,!1),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),u+="_T",a[u]=new d.GlslLibRoutine(this.getValueFromSingle(n,r,t.width,t.height,!0),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),a}getValueFromSingle(a,n,e,t,r){let u=`_${a}`;return r&&(u+="_T"),`
        float ${u}(int m[${n}]) {
          int offset = indicesToOffset${u}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${t});
          float value = getColorAsFloat(${(0,f.getGlsl)(this.context.glContext.version).texture2D}(${a}, coords));
          return value;
        }
        `}getPackedValueFrom(a,n,e,t,r){let u=`_${a}_Pack`;return r&&(u+="_T"),`
        vec4 ${u}(int m[${n}]) {
          int offset = indicesToOffset_${a}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${t});
          return ${(0,f.getGlsl)(this.context.glContext.version).texture2D}(${a}, coords);
        }
        `}}o.CoordsGlslLib=m},1997:(w,o)=>{var c;Object.defineProperty(o,"__esModule",{value:!0}),o.TopologicalSortGlslRoutines=o.GlslLibRoutineNode=o.GlslLibRoutine=o.GlslLib=o.GlslContext=o.FunctionType=void 0,(c=o.FunctionType||(o.FunctionType={}))[c.ValueBased=0]="ValueBased",c[c.Positional=1]="Positional",o.GlslContext=class{constructor(y,d,f,g){this.glContext=y,this.programInfo=d,this.inputTextureLayouts=f,this.outputTextureLayout=g}},o.GlslLib=class{constructor(y){this.context=y}},o.GlslLibRoutine=class{constructor(y,d){this.routineBody=y,this.dependencies=d}},o.GlslLibRoutineNode=class{constructor(y,d,f){this.name=y,this.dependencies=f||[],d&&(this.routineBody=d)}addDependency(y){y&&this.dependencies.push(y)}},o.TopologicalSortGlslRoutines=class{static returnOrderedNodes(y){if(!y||y.length===0)return[];if(y.length===1)return y;const d=new Set,f=new Set,g=new Array;return this.createOrderedNodes(y,d,f,g),g}static createOrderedNodes(y,d,f,g){for(let p=0;p<y.length;++p)this.dfsTraverse(y[p],d,f,g)}static dfsTraverse(y,d,f,g){if(!y||f.has(y.name))return;if(d.has(y.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");d.add(y.name);const p=y.dependencies;if(p&&p.length>0)for(let m=0;m<p.length;++m)this.dfsTraverse(p[m],d,f,g);g.push(y),f.add(y.name),d.delete(y.name)}}},1371:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EncodingGlslLib=void 0;const y=c(1997);class d extends y.GlslLib{constructor(g){super(g)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new y.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new y.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const g=d.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new y.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${g}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const g=d.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new y.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${g}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const g=new ArrayBuffer(4),p=new Uint32Array(g),m=new Uint8Array(g);if(p[0]=3735928559,m[0]===239)return!0;if(m[0]===222)return!1;throw new Error("unknown endianness")}}o.EncodingGlslLib=d},2691:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FragColorGlslLib=void 0;const y=c(1997),d=c(6757);class f extends y.GlslLib{constructor(p){super(p)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const p=(0,d.getGlsl)(this.context.glContext.version);return{setFragColor:new y.GlslLibRoutine(`
        void setFragColor(float value) {
            ${p.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new y.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}o.FragColorGlslLib=f},3878:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.replaceInlines=void 0;const c=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;o.replaceInlines=function(y){const d={};let f;for(;(f=c.exec(y))!==null;){const g=f[3].split(",").map(p=>{const m=p.trim().split(" ");return m&&m.length===2?{type:m[0],name:m[1]}:null}).filter(p=>p!==null);d[f[2]]={params:g,body:f[4]}}for(const g in d){const p="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",g),m=new RegExp(p,"gm");for(;(f=m.exec(y))!==null;){const l=f[1],a=f[2],n=f[3].split(","),e=l?`${l} ${a};`:"";let t=d[g].body,r="";d[g].params.forEach((h,b)=>{h&&(r+=`${h.type} ${h.name} = ${n[b]};
`)}),t=`${r}
 ${t}`,t=t.replace("return",`${a} = `);const u=`
      ${e}
      {
        ${t}
      }
      `;y=y.replace(f[0],u)}}return y.replace(c,"")}},8897:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlslPreprocessor=void 0;const y=c(1997),d=c(3878),f=c(1248),g=c(6757);o.GlslPreprocessor=class{constructor(p,m,l,a){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new y.GlslContext(p,m,l,a),Object.keys(f.glslRegistry).forEach(e=>{const t=new f.glslRegistry[e](this.context);this.libs[e]=t});const n=this.glslLibRoutineDependencyGraph;for(const e in this.libs){const t=this.libs[e].getFunctions();for(const r in t){const u=e+"."+r;let h;n[u]?(h=n[u],h.routineBody=t[r].routineBody):(h=new y.GlslLibRoutineNode(u,t[r].routineBody),n[u]=h);const b=t[r].dependencies;if(b)for(let _=0;_<b.length;++_)if(n[b[_]])h.addDependency(n[b[_]]);else{const x=new y.GlslLibRoutineNode(b[_]);n[b[_]]=x,h.addDependency(x)}}}}preprocess(){const p=this.context.programInfo;let m=p.shaderSource;return this.context.programInfo.hasMain||(m=`${m}
      ${(0,g.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),m=(0,d.replaceInlines)(m),`${(0,g.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(p.inputNames,p.variables)}
    ${this.getImports(m)}
    ${m}`}getImports(p){const m=this.selectGlslLibRoutinesToBeIncluded(p);if(m.length===0)return"";let l="";for(let a=0;a<m.length;++a){if(!m[a].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${m[a].name}`);l+=m[a].routineBody+`
`}return l}selectGlslLibRoutinesToBeIncluded(p){const m=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(l=>{const a=l.split(".")[1];p.indexOf(a)!==-1&&m.push(this.glslLibRoutineDependencyGraph[l])}),y.TopologicalSortGlslRoutines.returnOrderedNodes(m)}getUniforms(p,m){const l=[];if(p)for(const a of p)l.push(`uniform sampler2D ${a};`);if(m)for(const a of m)l.push(`uniform ${a.type} ${a.name}${a.arrayLength?`[${a.arrayLength}]`:""};`);return l.join(`
`)}}},1248:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.glslRegistry=void 0;const y=c(6859),d=c(1371),f=c(2691),g=c(9183),p=c(9314);o.glslRegistry={encoding:d.EncodingGlslLib,fragcolor:f.FragColorGlslLib,vec:p.VecGlslLib,shapeUtils:g.ShapeUtilsGlslLib,coordinates:y.CoordsGlslLib}},9183:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ShapeUtilsGlslLib=void 0;const y=c(1997);class d extends y.GlslLib{constructor(g){super(g)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const g=this.context.outputTextureLayout.shape.length,p={};return this.context.programInfo.inputNames.forEach((m,l)=>{const a=this.context.inputTextureLayouts[l].unpackedShape;if(a.length<=g){const n=a.length,e=g-n,t=`bcastIndices_${m}`;let r="";for(let h=0;h<n;++h)r+=`
          realIndices[${h}] = int( mod(float(bcastedIndices[${e+h}]), ${a[h]}.0) );
          `;const u=`
        void ${t} (int bcastedIndices[${g}], out int realIndices[${n}]) {
          ${r}
        }
        `;p[t]=new y.GlslLibRoutine(u)}}),p}bcastMatmulIndex(){const g=this.context.outputTextureLayout.shape.length,p={};return this.context.programInfo.inputNames.forEach((m,l)=>{const a=this.context.inputTextureLayouts[l].shape;if(!(a.length<2||a.length>g)){const n=a.length,e=g-n,t=`bcastMatmulIndices_${m}`;let r="";for(let h=0;h<n-2;++h)r+=`
          realIndices[${h}] = int( mod(float(bcastedIndices[${e+h}]), ${a[h]}.0) );
          `;const u=`
        void ${t}(int bcastedIndices[${g}], out int realIndices[${n}]) {
          ${r}
          realIndices[${n-1}] = bcastedIndices[${g-1}];
          realIndices[${n-2}] = bcastedIndices[${g-2}];
        }
        `;p[t]=new y.GlslLibRoutine(u)}}),p}indicesToOffset(){const g={};return this.context.programInfo.inputNames.forEach((p,m)=>{const l=this.context.inputTextureLayouts[m].shape,a=this.context.inputTextureLayouts[m].strides,n=l.length;let e=`indicesToOffset_${p}`;g[e]=new y.GlslLibRoutine(d.indexToOffsetSingle(e,n,a)),e=`indicesToOffset_${p}_T`,g[e]=new y.GlslLibRoutine(d.indexToOffsetSingle(e,n,a.slice().reverse()))}),g}static indexToOffsetSingle(g,p,m){let l="";for(let a=p-1;a>=0;--a)l+=`
        offset += indices[${a}] * ${m[a]};
        `;return`
      int ${g}(int indices[${p}]) {
        int offset = 0;
        ${l}
        return offset;
      }
      `}offsetToIndices(){const g={};return this.context.programInfo.inputNames.forEach((p,m)=>{const l=this.context.inputTextureLayouts[m].shape,a=this.context.inputTextureLayouts[m].strides,n=l.length;let e=`offsetToIndices_${p}`;g[e]=new y.GlslLibRoutine(d.offsetToIndicesSingle(e,n,a)),e=`offsetToIndices_${p}_T`,g[e]=new y.GlslLibRoutine(d.offsetToIndicesSingle(e,n,a.slice().reverse()))}),g}static offsetToIndicesSingle(g,p,m){const l=[];for(let a=0;a<p-1;++a)l.push(`
      indices[${a}] = offset / ${m[a]};`),l.push(`
        offset -= indices[${a}] * ${m[a]};`);return l.push(`
      indices[${p-1}] = offset;`),`
      void ${g}(int offset, out int indices[${p}]) {
        ${l.join("")}
      }
      `}incrementIndices(){const g={};return this.context.programInfo.inputNames.forEach((p,m)=>{const l=this.context.inputTextureLayouts[m].shape,a=l.length,n=`incrementIndices_${p}`;let e="";for(let r=0;r<a;++r)e+=`
        shape[${r}] = ${l[r]};`;const t=`
        void ${n}(int axis, out int indices[${a}]) {
          int shape[${a}];
          ${e};
          for(int i = ${a} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;g[n]=new y.GlslLibRoutine(t)}),g}}o.ShapeUtilsGlslLib=d},6757:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getDefaultFragShaderMain=o.getFragShaderPreamble=o.getVertexShaderSource=o.getGlsl=void 0;const c={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},y={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function d(f){return f===1?c:y}o.getGlsl=d,o.getVertexShaderSource=function(f){const g=d(f);return`${g.version}
      precision highp float;
      ${g.attribute} vec3 position;
      ${g.attribute} vec2 textureCoord;

      ${g.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},o.getFragShaderPreamble=function(f){const g=d(f);return`${g.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${g.varyingFrag} vec2 TexCoords;
    ${g.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},o.getDefaultFragShaderMain=function(f,g){return`
  void main() {
    int indices[${g}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${d(f).output} = result;
  }
  `}},9314:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VecGlslLib=void 0;const y=c(1997);class d extends y.GlslLib{constructor(g){super(g)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const g=this.context.outputTextureLayout.shape.length,p={add:"+=",sub:"-=",mul:"*=",div:"/="},m={};for(const l in p){const a=`${l}Vec`;let n="";for(let t=0;t<g;++t)n+=`
          dest[${t}] ${p[l]} src[${t}];
          `;const e=`
        void ${a}(int src[${g}], out int dest[${g}]) {
          ${n}
        }
        `;m[a]=new y.GlslLibRoutine(e)}return m}copyVec(){const g=this.context.outputTextureLayout.shape.length;let p="";for(let l=0;l<g;++l)p+=`
        dest[${l}] = src[${l}];
        `;const m=`
      void copyVec(int src[${g}], out int dest[${g}]) {
        ${p}
      }
      `;return{copyVec:new y.GlslLibRoutine(m)}}setVecItem(){const g=this.context.outputTextureLayout.shape.length;let p=`
        if(index < 0)
            index =${g} + index;
        if (index == 0)
            m[0] = value;
        `;for(let l=1;l<g-1;++l)p+=`
        else if (index == ${l})
            m[${l}] = value;
            `;p+=`
        else
            m[${g-1}] = value;
        `;const m=`
      void setVecItem(out int m[${g}], int index, int value) {
        ${p}
      }
        `;return{setVecItem:new y.GlslLibRoutine(m)}}getVecItem(){const g=this.context.outputTextureLayout.shape.length;let p=`
        if(index < 0)
            index = ${g} + index;
        if (index == 0)
            return m[0];
      `;for(let l=1;l<g-1;++l)p+=`
        else if (index == ${l})
            return m[${l}];
      `;p+=`
        else
            return m[${g-1}];
        `;const m=`
      int getVecItem(int m[${g}], int index) {
        ${p}
      }
    `;return{getVecItem:new y.GlslLibRoutine(m)}}}o.VecGlslLib=d},7860:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLInferenceHandler=void 0;const y=c(1315),d=c(9240),f=c(7273),g=c(9),p=c(7379),m=c(2488),l=c(540),a=c(3314),n=c(5639);o.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return(0,a.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const r=[];for(let O=0;O<e.inputNames.length;++O)r[O]=this.getOrCreateTextureData(t[O],e.inputTypes[O]);const u=((O,S)=>{const I=S.map(R=>`${R.unpackedShape.join(",")};${R.width}x${R.height}`).join("_");let A=O.name;return O.cacheHint&&(A+="["+O.cacheHint+"]"),A+=":"+I,A})(e,r);let h=this.session.programManager.getArtifact(u);const b=h?h.programInfo:typeof e.get=="function"?e.get():e,_=(0,a.createTextureLayoutFromTextureType)(this.session.layoutStrategy,b.output.dims,b.output.textureType),x=this.createTextureData(_,b.output.type);return h||(h=this.session.programManager.build(b,r,x),this.session.programManager.setArtifact(u,h)),this.runProgram(h,r,x),x}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,r){for(let u=0;u<t.length;++u)if(!!t[u].isPacked!=(e.programInfo.inputTypes[u]===n.TextureType.packed))throw new Error(`input[${u}] property packed inconsistent`);if(!!r.isPacked!=(e.programInfo.output.textureType===n.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,r)}getOrCreateTextureData(e,t){let r=this.getTextureData(e.dataId,t===n.TextureType.packed);if(!r&&(r=this.getTextureData(e.dataId,t!==n.TextureType.packed),r))return t===n.TextureType.packed?this.pack(r):this.unpack(r);if(!r){const u=(0,a.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,t);if(t===n.TextureType.packedLastDimension){const _=e.dims;if(_.length===4){const x=[_[0],Math.ceil(_[1]*_[2]*_[3]/4)],O=(0,a.createTextureLayoutFromTextureType)(this.session.layoutStrategy,x,t);let S=e.numberData;if(_[1]*_[2]*_[3]%4!=0){const I=_[0],A=_[1]*_[2]*_[3],R=Math.ceil(A*1/4)*4;S=new Float32Array(I*R);for(let j=0;j<I;++j){const U=j*A,G=j*R+j%1*A;S.set(e.numberData.subarray(U,U+A),G)}}return this.createTextureData(O,e.type,S,e,1)}}if(t===n.TextureType.packed){const h=(0,a.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),b=this.createTextureData(h,e.type,e.numberData,e,1);r=this.pack(b)}else r=this.createTextureData(u,e.type,e.numberData,e,1)}return r}createTextureDataFromLayoutBindTensor(e,t,r,u){return this.createTextureData(e,t,r,u,1)}createTextureData(e,t,r,u,h){y.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);const b=this.session.textureManager.createTextureFromLayout(t,e,r,h);return this.createTextureDataFromTexture(e,t,b,u)}reshapeUnpacked(e,t){const r=this.getOrCreateTextureData(e,n.TextureType.unpacked),u={channels:r.channels,height:r.height,width:r.width,shape:t.length!==0?t:[1],strides:f.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(u,e.type,r.texture).tensor}reshapePacked(e,t){const r=this.getOrCreateTextureData(e,n.TextureType.packed);if((0,p.isReshapeCheap)(e.dims,t)){const x={channels:r.channels,height:r.height,width:r.width,shape:t.length!==0?t:[1],strides:f.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(x,e.type,r.texture).tensor}const u=(0,p.processDims3D)(e.dims),h=(0,p.processDims3D)(t),b=this.reshapePacked(e,u),_=this.run((0,p.createPackedReshape3DProgramInfoLoader)(this,b,h),[b]);return this.reshapePacked(_,t)}cast(e,t){const r=this.getOrCreateTextureData(e,n.TextureType.unpacked);return this.createTextureDataFromTexture(r,t,r.texture).tensor}createTextureDataFromTexture(e,t,r,u,h){const b=Object.assign(Object.assign({},e),{tensor:u||new d.Tensor(e.unpackedShape,t,_=>this.readTexture(b),async _=>this.readTextureAsync(b),void 0,h),texture:r});return this.setTextureData(b.tensor.dataId,b,e.isPacked),b}getTextureData(e,t=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,r=!1){this.session.isInitializer(e)?this.session.setTextureData(e,t,r):(r?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e,t=!1){return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,m.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,m.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,g.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,l.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},4110:function(w,o,c){var y=this&&this.__createBinding||(Object.create?function(ge,ce,ye,_e){_e===void 0&&(_e=ye);var Ie=Object.getOwnPropertyDescriptor(ce,ye);Ie&&!("get"in Ie?!ce.__esModule:Ie.writable||Ie.configurable)||(Ie={enumerable:!0,get:function(){return ce[ye]}}),Object.defineProperty(ge,_e,Ie)}:function(ge,ce,ye,_e){_e===void 0&&(_e=ye),ge[_e]=ce[ye]}),d=this&&this.__setModuleDefault||(Object.create?function(ge,ce){Object.defineProperty(ge,"default",{enumerable:!0,value:ce})}:function(ge,ce){ge.default=ce}),f=this&&this.__importStar||function(ge){if(ge&&ge.__esModule)return ge;var ce={};if(ge!=null)for(var ye in ge)ye!=="default"&&Object.prototype.hasOwnProperty.call(ge,ye)&&y(ce,ge,ye);return d(ce,ge),ce};Object.defineProperty(o,"__esModule",{value:!0}),o.WEBGL_OP_RESOLVE_RULES=void 0;const g=c(8817),p=f(c(5194)),m=c(4752),l=c(6668),a=c(9754),n=c(5042),e=c(6742),t=c(4125),r=c(6149),u=c(5378),h=c(6981),b=c(7413),_=c(7006),x=c(8276),O=c(5565),S=c(2834),I=c(1010),A=c(8126),R=c(2801),j=c(565),U=c(2444),G=c(815),X=c(564),$=c(5416),Q=c(1240),C=c(5944),F=c(5707),Z=f(c(9087)),le=c(7862),se=c(3980);o.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",Z.abs],["Acos","","7+",Z.acos],["Add","","7+",p.add],["And","","7+",p.and],["Asin","","7+",Z.asin],["Atan","","7+",Z.atan],["AveragePool","","7+",S.averagePool,S.parseAveragePoolAttributes],["BatchNormalization","","7+",g.batchNormalization,g.parseBatchNormalizationAttributes],["Cast","","6+",m.cast,m.parseCastAttributes],["Ceil","","6+",Z.ceil],["Clip","","6-10",Z.clip,Z.parseClipAttributes],["Clip","","11+",Z.clipV11],["Concat","","4+",l.concat,l.parseConcatAttributes],["Conv","","1+",a.conv,a.parseConvAttributes],["ConvTranspose","","1+",n.convTranspose,n.parseConvTransposeAttributes],["Cos","","7+",Z.cos],["Div","","7+",p.div],["Dropout","","7+",Z.identity],["DepthToSpace","","1+",e.depthToSpace,e.parseDepthToSpaceAttributes],["Equal","","7+",p.equal],["Elu","","6+",Z.elu,Z.parseEluAttributes],["Exp","","6+",Z.exp],["Flatten","","1+",t.flatten,t.parseFlattenAttributes],["Floor","","6+",Z.floor],["FusedConv","com.microsoft","1+",a.conv,a.parseConvAttributes],["Gather","","1+",r.gather,r.parseGatherAttributes],["Gemm","","7-10",u.gemm,u.parseGemmAttributesV7],["Gemm","","11+",u.gemm,u.parseGemmAttributesV11],["GlobalAveragePool","","1+",S.globalAveragePool,S.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",S.globalMaxPool],["Greater","","7+",p.greater],["Identity","","1+",Z.identity],["ImageScaler","","1+",h.imageScaler,h.parseImageScalerAttributes],["InstanceNormalization","","6+",b.instanceNormalization,b.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",Z.leakyRelu,Z.parseLeakyReluAttributes],["Less","","7+",p.less],["LRN","","1+",_.lrn,_.parseLrnAttributes],["Log","","6+",Z.log],["MatMul","","1+",x.matMul,x.parseMatMulAttributes],["MaxPool","","1+",S.maxPool,S.parseMaxPoolAttributes],["Mul","","7+",p.mul],["Neg","","6+",Z.neg],["Not","","1+",Z.not],["Or","","7+",p.or],["Pad","","2-10",O.padV2,O.parsePadAttributesV2],["Pad","","11+",O.padV11,O.parsePadAttributesV11],["Pow","","7+",p.pow],["PRelu","","7+",p.pRelu],["ReduceLogSum","","1+",I.reduceLogSum,I.parseReduceAttributes],["ReduceMax","","1+",I.reduceMax,I.parseReduceAttributes],["ReduceMean","","1+",I.reduceMean,I.parseReduceAttributes],["ReduceMin","","1+",I.reduceMin,I.parseReduceAttributes],["ReduceProd","","1+",I.reduceProd,I.parseReduceAttributes],["ReduceSum","","1-12",I.reduceSum,I.parseReduceAttributes],["ReduceSumSquare","","1+",I.reduceLogSumSquare,I.parseReduceAttributes],["Relu","","6+",Z.relu],["Reshape","","5+",A.reshape],["Resize","","10",R.resize,R.parseResizeAttributesV10],["Resize","","11+",R.resize,R.parseResizeAttributesV11],["Shape","","1+",j.shape],["Sigmoid","","6+",Z.sigmoid],["Sin","","7+",Z.sin],["Slice","","10+",U.sliceV10],["Slice","","1-9",U.slice,U.parseSliceAttributes],["Softmax","","1-12",G.softmax,G.parseSoftmaxAttributes],["Softmax","","13+",G.softmaxV13,G.parseSoftmaxAttributesV13],["Split","","2-12",X.split,X.parseSplitAttributes],["Sqrt","","6+",Z.sqrt],["Squeeze","","1-12",$.squeeze,$.parseSqueezeAttributes],["Squeeze","","13+",$.squeezeV13],["Sub","","7+",p.sub],["Sum","","6+",Q.sum],["Tan","","7+",Z.tan],["Tanh","","6+",Z.tanh],["Tile","","6+",C.tile],["Transpose","","1+",F.transpose,F.parseTransposeAttributes],["Upsample","","7-8",se.upsample,se.parseUpsampleAttributesV7],["Upsample","","9",se.upsample,se.parseUpsampleAttributesV9],["Unsqueeze","","1-12",le.unsqueeze,le.parseUnsqueezeAttributes],["Unsqueeze","","13+",le.unsqueezeV13],["Xor","","7+",p.xor]]},8817:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseBatchNormalizationAttributes=o.batchNormalization=void 0;const y=c(4910),d=c(6757),f=c(5639),g={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]};o.batchNormalization=(l,a,n)=>(m(a),[l.run(Object.assign(Object.assign({},g),{cacheHint:n.cacheKey,get:()=>p(l,a,n)}),a)]),o.parseBatchNormalizationAttributes=l=>{const a=l.attributes.getFloat("epsilon",1e-5),n=l.attributes.getFloat("momentum",.9),e=l.attributes.getInt("spatial",1);return(0,y.createAttributeWithCacheKey)({epsilon:a,momentum:n,spatial:e})};const p=(l,a,n)=>{const e=(0,d.getGlsl)(l.session.backend.glContext.version),t=a[0].dims.length,[r,u]=l.calculateTextureWidthAndHeight(a[1].dims,f.TextureType.unpacked),h=`
  float process(int[${t}] indices) {
    vec2 position = offsetToCoords(indices[1], ${r}, ${u});
    float scale = getColorAsFloat(${e.texture2D}(Scale, position));
    float mean = getColorAsFloat(${e.texture2D}(Mean, position));
    float variance = getColorAsFloat(${e.texture2D}(Variance, position));
    float b = getColorAsFloat(${e.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},g),{output:{dims:a[0].dims,type:a[0].type,textureType:f.TextureType.unpacked},shaderSource:h})},m=l=>{if(!l||l.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const a=l[0],n=l[1],e=l[2],t=l[3],r=l[4];if(a.dims.length<3||n.dims.length!==1||e.dims.length!==1||t.dims.length!==1||r.dims.length!==1)throw new Error("invalid input shape.");if(n.dims[0]!==a.dims[1]||e.dims[0]!==a.dims[1]||t.dims[0]!==a.dims[1]||r.dims[0]!==a.dims[1])throw new Error("invalid input shape.");if(a.type!=="float32"&&a.type!=="float64"||n.type!=="float32"&&n.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||t.type!=="float32"&&t.type!=="float64"||r.type!=="float32"&&r.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.xor=o.sub=o.pRelu=o.pow=o.or=o.mul=o.less=o.greater=o.equal=o.div=o.and=o.add=o.glslPRelu=o.glslPow=o.glslXor=o.glslOr=o.glslAnd=o.glslLess=o.glslGreater=o.glslEqual=o.glslSub=o.glslMul=o.glslDiv=o.glslAdd=void 0;const y=c(7273),d=c(1997),f=c(6757),g=c(5639);function p(){const S="add_";return{body:`
  float ${S}(float a, float b) {
    return a + b;
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:S,type:d.FunctionType.ValueBased}}function m(){const S="div_";return{body:`
  float ${S}(float a, float b) {
    return a / b;
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:S,type:d.FunctionType.ValueBased}}function l(){const S="mul_";return{body:`
  float ${S}(float a, float b) {
    return a * b;
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:S,type:d.FunctionType.ValueBased}}function a(){const S="sub_";return{body:`
  float ${S}(float a, float b) {
    return a - b;
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:S,type:d.FunctionType.ValueBased}}function n(){const S="equal_";return{body:`
  float ${S}(float a, float b) {
    return float(a == b);
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:S,type:d.FunctionType.ValueBased}}function e(){const S="greater_";return{body:`
  float ${S}(float a, float b) {
    return float(a > b);
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:S,type:d.FunctionType.ValueBased}}function t(){const S="less_";return{body:`
  float ${S}(float a, float b) {
    return float(a < b);
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:S,type:d.FunctionType.ValueBased}}function r(){const S="and_";return{body:`
  float ${S}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:S,type:d.FunctionType.ValueBased}}function u(){const S="or_";return{body:`
  float ${S}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:S,type:d.FunctionType.ValueBased}}function h(){const S="xor_";return{body:`
  float ${S}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:S,type:d.FunctionType.ValueBased}}function b(){return function(S){const I=`${S}_`;return{body:`
  float ${I}(float a, float b) {
    return ${S}(a, b);
  }
  vec4 ${I}(vec4 v1, vec4 v2) {
    return ${S}(v1, v2);
  }
  `,name:I,type:d.FunctionType.ValueBased}}("pow")}function _(){const S="prelu_";return{body:`
  float ${S}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${S}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:S,type:d.FunctionType.ValueBased}}o.glslAdd=p,o.glslDiv=m,o.glslMul=l,o.glslSub=a,o.glslEqual=n,o.glslGreater=e,o.glslLess=t,o.glslAnd=r,o.glslOr=u,o.glslXor=h,o.glslPow=b,o.glslPRelu=_;const x=(S,I,A,R=I[0].type,j)=>{const U=S.session.pack?g.TextureType.packed:g.TextureType.unpacked;return{name:A.name,inputNames:["A","B"],inputTypes:[U,U],cacheHint:j,get:()=>O(S,I,A,R)}},O=(S,I,A,R=I[0].type)=>{const j=S.session.pack?g.TextureType.packed:g.TextureType.unpacked,U=!y.ShapeUtil.areEqual(I[0].dims,I[1].dims);let G=I[0].dims;const X=S.session.pack;if(U){const C=y.BroadcastUtil.calcShape(I[0].dims,I[1].dims,!1);if(!C)throw new Error("Can't perform binary op on the given tensors");G=C;const F=G.length,Z=I[0].dims.length!==0?I[0].dims.length:1,le=I[1].dims.length!==0?I[1].dims.length:1,se=I[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",ge=I[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",ce=(0,f.getGlsl)(S.session.backend.glContext.version),ye=X?`
      ${A.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${A.name}(a, b);
        ${ce.output} = result;
      }`:`
      ${A.body}
      float process(int indices[${F}]) {
        int aindices[${Z}];
        int bindices[${le}];
        ${se}
        ${ge}
        return ${A.name}(_A(aindices), _B(bindices));
      }`;return{name:A.name,inputNames:["A","B"],inputTypes:[j,j],output:{dims:G,type:R,textureType:j},shaderSource:ye,hasMain:X}}const $=(0,f.getGlsl)(S.session.backend.glContext.version),Q=`
    ${A.body}
    void main() {
      vec4 v1 = ${$.texture2D}(A, TexCoords);
      vec4 v2 = ${$.texture2D}(B, TexCoords);
      vec4 result = ${A.name}(v1, v2);
      ${$.output} = result;
    }
    `;return{name:A.name,inputNames:["A","B"],inputTypes:[j,j],output:{dims:I[0].dims,type:R,textureType:j},shaderSource:Q,hasMain:!0}};o.add=(S,I)=>[S.run(x(S,I,p()),I)],o.and=(S,I)=>[S.run(x(S,I,r(),"bool"),I)],o.div=(S,I)=>[S.run(x(S,I,m()),I)],o.equal=(S,I)=>[S.run(x(S,I,n(),"bool"),I)],o.greater=(S,I)=>[S.run(x(S,I,e(),"bool"),I)],o.less=(S,I)=>[S.run(x(S,I,t(),"bool"),I)],o.mul=(S,I)=>[S.run(x(S,I,l()),I)],o.or=(S,I)=>[S.run(x(S,I,u(),"bool"),I)],o.pow=(S,I)=>[S.run(x(S,I,b()),I)],o.pRelu=(S,I)=>[S.run(x(S,I,_()),I)],o.sub=(S,I)=>[S.run(x(S,I,a()),I)],o.xor=(S,I)=>[S.run(x(S,I,h(),"bool"),I)]},4752:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseCastAttributes=o.cast=void 0;const y=c(7273);o.cast=(f,g,p)=>(d(g),[f.cast(g[0],p)]),o.parseCastAttributes=f=>y.ProtoUtil.tensorDataTypeFromProto(f.attributes.getInt("to"));const d=f=>{if(!f||f.length!==1)throw new Error("Cast requires 1 input.");if(f[0].type==="string")throw new Error("Invalid input type.")}},4595:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedConcatProgramInfoLoader=void 0;const y=c(6757),d=c(5639),f=c(432),g=c(5614);o.createPackedConcatProgramInfoLoader=(m,l,a)=>{const n=(e=l.length,t=a.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:e},(r,u)=>`X${u}`),inputTypes:Array(e).fill(d.TextureType.packed),cacheHint:t});var e,t;return Object.assign(Object.assign({},n),{get:()=>((r,u,h,b)=>{const _=h[0].dims.slice();if(b>=_.length||b<-1*_.length)throw new Error("axis specified for concat doesn't match input dimensionality");b<0&&(b=_.length+b);const x=_.slice(0);for(let se=1;se<h.length;se++){const ge=h[se].dims.slice();for(let ce=0;ce<_.length;ce++)if(ce===b)x[b]+=ge[ce];else if(_[ce]!==ge[ce])throw new Error("non concat dimensions must match")}const O=x.length,S=(0,g.getChannels)("coords",O),I=(0,f.getCoordsDataType)(O),A=(0,g.unpackFromChannel)(),R=h.map(se=>se.dims),j=(0,f.getGlChannels)(O),U=new Array(R.length-1);U[0]=R[0][b];for(let se=1;se<U.length;se++)U[se]=U[se-1]+R[se][b];const G=j[b],X=j.slice(-2),$=j.join();let Q=`if (${G} < ${U[0]}) {
        return getChannel(
            getX0(${$}), vec2(${X.join()}));
        }`;for(let se=1;se<U.length;se++){const ge=U[se-1];Q+=`
            if (${G} < ${U[se]}  && ${G} >= ${U[se-1]}) {
              return getChannel(
                getX${se}(${p(j,G,ge)}),
                vec2(${p(X,G,ge)}));
            }`}const C=U.length,F=U[U.length-1];Q+=`
            return getChannel(
              getX${C}(${p(j,G,F)}),
              vec2(${p(X,G,F)}));`;const Z=(0,y.getGlsl)(r.session.backend.glContext.version),le=`
          ${A}
          float getValue(${j.map(se=>"int "+se)}) {
            ${Q}
          }

          void main() {
            ${I} coords = getOutputCoords();
            int lastDim = coords.${j[O-1]};
            coords.${j[O-1]} = coords.${j[O-2]};
            coords.${j[O-2]} = lastDim;

            vec4 result = vec4(getValue(${S}), 0., 0., 0.);

            ${S[O-1]} = ${S[O-1]} + 1;
            if (${S[O-1]} < ${x[O-1]}) {
              result.g = getValue(${S});
            }

            ${S[O-2]} = ${S[O-2]} + 1;
            if (${S[O-2]} < ${x[O-2]}) {
              result.a = getValue(${S});
            }

            ${S[O-1]} = ${S[O-1]} - 1;
            if (${S[O-2]} < ${x[O-2]} &&
                ${S[O-1]} < ${x[O-1]}) {
              result.b = getValue(${S});
            }
            ${Z.output} = result;
          }
        `;return Object.assign(Object.assign({},u),{output:{dims:x,type:h[0].type,textureType:d.TextureType.packed},shaderSource:le,hasMain:!0})})(m,n,l,a.axis)})};const p=(m,l,a)=>{const n=m.indexOf(l);return m.map((e,t)=>t===n?`${e} - ${a}`:e).join()}},6668:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConcatAttributes=o.concat=void 0;const y=c(4910),d=c(5639),f=c(4595);o.concat=(e,t,r)=>(n(t),e.session.pack&&t[0].dims.length>1?[e.run((0,f.createPackedConcatProgramInfoLoader)(e,t,r),t)]:[e.run(g(e,t,r),t)]);const g=(e,t,r)=>{const u=(h=t.length,b=r.cacheKey,{name:"Concat",inputNames:Array.from({length:h},(_,x)=>`X${x}`),inputTypes:Array(h).fill(d.TextureType.unpacked),cacheHint:b});var h,b;return Object.assign(Object.assign({},u),{get:()=>((_,x,O,S)=>{const I=O[0].dims.slice();if(S>=I.length||S<-1*I.length)throw new Error("axis specified for concat doesn't match input dimensionality");S<0&&(S=I.length+S);const A=I.slice(0);for(let $=1;$<O.length;$++){const Q=O[$].dims.slice();for(let C=0;C<I.length;C++)if(C===S)A[S]+=Q[C];else if(I[C]!==Q[C])throw new Error("non concat dimensions must match")}const R=A.length,j=new Array(O.length);let U=0;for(let $=0;$<j.length;++$)U+=O[$].dims[S],j[$]=U;let G="";G=O.length<5?p(j):m(j);const X=`
        ${l(O.length,R)}
        ${a(j)}
        ${G}
        float process(int indices[${R}]) {
          int textureIndex = getTextureWhereDataResides (indices[${S}]);

          if(textureIndex != 0) {
            indices[${S}] = indices[${S}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},x),{output:{dims:A,type:O[0].type,textureType:d.TextureType.unpacked},shaderSource:X})})(0,u,t,r.axis)})},p=e=>`int getTextureWhereDataResides(int index) {
      ${e.map((t,r)=>`if(index<${t}) {return ${r};}
`).join("")}
    }`,m=e=>p(e),l=(e,t)=>{const r=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let u=0;u<e;++u)u===0?r.push(`	if (textureIndex == ${u}) { return _X${u}(indices); }`):u===e-1?r.push(`	else { return _X${u}(indices); }`):r.push(`	else if (textureIndex == ${u}) { return _X${u}(indices); }`);return r.push("	}"),r.join(`
`)},a=e=>{const t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let r=0;r<e.length;++r)r===0?t.push(`	if (index == ${r}) { return ${e[r]}; }`):r===e.length-1?t.push(`	else { return ${e[r]}; }`):t.push(`	else if (index == ${r}) { return ${e[r]}; }`);return t.push("	}"),t.join(`
`)};o.parseConcatAttributes=e=>(0,y.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const n=e=>{if(!e||e.length<1)throw new Error("too few inputs");const t=e[0].type,r=e[0].dims.length;if(t==="string")throw new Error("string tensor is not supported yet");for(const u of e){if(u.type!==t)throw new Error("input tensors should be one type");if(u.dims.length!==r)throw new Error("input tensors should have the same shape")}}},7825:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createUnpackedGroupedConvProgramInfoLoader=void 0;const y=c(1315),d=c(6757),f=c(5639),g=c(9754),p=c(2150);o.createUnpackedGroupedConvProgramInfoLoader=(m,l,a)=>{const n=(e=l.length>2,t=a.cacheKey,{name:"GroupedConv",inputNames:e?["X","W","Bias"]:["X","W"],inputTypes:e?[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.unpacked],cacheHint:t});var e,t;return Object.assign(Object.assign({},n),{get:()=>((r,u,h,b)=>{const _=u.length>2?"value += getBias(output_channel);":"",x=u[0].dims.slice(),O=u[1].dims.slice(),S=O[0]/b.group;y.Logger.verbose("GroupedConv",`autpPad:${b.autoPad}, dilations:${b.dilations}, group:${b.group}, kernelShape:${b.kernelShape}, pads:${b.pads}, strides:${b.strides}`);const I=(0,g.calculateOutputShape)(x,O,b.dilations,b.pads,b.strides),A=(0,d.getGlsl)(r.session.backend.glContext.version),{activationFunction:R,applyActivation:j}=(0,p.getActivationSnippet)(b),U=`
  const ivec2 strides = ivec2(${b.strides[0]}, ${b.strides[1]});
  const ivec2 pads = ivec2(${b.pads[0]}, ${b.pads[1]});
  ${R}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${S};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${O[1]}; wInChannel++) {
      int input_channel = group_id * ${O[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${O[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${b.dilations[0]};

        if (xHeight < 0 || xHeight >= ${x[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${O[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${b.dilations[1]};
          if (xWidth < 0 || xWidth >= ${x[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${_}
    ${j}
    ${A.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},h),{output:{dims:I,type:u[0].type,textureType:f.TextureType.unpacked},shaderSource:U,hasMain:!0})})(m,l,n,a)})}},7708:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.conv2DPacked=o.conv2DPackedPointwise=void 0;const y=c(9754),d=c(5950),f=c(5632);o.conv2DPackedPointwise=(g,p,m)=>{const l=p[0].dims,a=p[1].dims,n=(0,y.calculateOutputShape)(l,a,m.dilations,m.pads,m.strides),e=g.reshapePacked(p[0],[l[1],l[2]*l[3]]),t=g.reshapePacked(p[1],[a[0],a[1]]),r=p.length>2?[t,e,p[2]]:[t,e],u=g.run((0,f.createPackedMatmulProgramInfoLoader)(g,r,m),r);return g.reshapePacked(u,n)},o.conv2DPacked=(g,p,m)=>{const l=p[0].dims,a=p[1].dims,n=(0,y.calculateOutputShape)(l,a,m.dilations,m.pads,m.strides),e=g.run((0,d.createPackedIm2ColProgramInfoLoader)(g,p[0],p[1],n,m),[p[0]]),t=g.reshapePacked(p[1],[a[0],a[1]*a[2]*a[3]]),r=p.length===3?[t,e,p[2]]:[t,e],u=g.run((0,f.createPackedMatmulProgramInfoLoader)(g,r,m),r);return g.reshapePacked(u,n)}},5042:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConvTransposeAttributes=o.convTranspose=void 0;const y=c(4910),d=c(6757),f=c(5639),g=c(2150),p=(t,r,u,h,b,_)=>(t-1)*r+u+(h-1)*b+1-_,m=(t,r,u,h,b)=>{const _=Math.floor(t/2);r==="SAME_UPPER"?(u[h]=_,u[b]=t-_):r==="SAME_LOWER"&&(u[h]=t-_,u[b]=_)};o.convTranspose=(t,r,u)=>(e(r,u),l(t,r,u));const l=(t,r,u)=>{const h=n(u,r);return[a(t,r,h)]},a=(t,r,u)=>t.run(((h,b,_)=>{const x=(O=b.length>2,S=_.cacheKey,{name:"ConvTranspose",inputNames:O?["X","W","B"]:["X","W"],inputTypes:O?[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.unpacked],cacheHint:S});var O,S;return Object.assign(Object.assign({},x),{get:()=>((I,A,R,j)=>{const U=A.length>2?"getB(output_channel)":"0.0",G=A[0].dims,X=A[1].dims,$=X[1],Q=X[0]/j.group,C=[A[0].dims[0],A[1].dims[1]*j.group,...j.outputShape],F=(0,d.getGlsl)(I.session.backend.glContext.version),{activationFunction:Z,applyActivation:le}=(0,g.getActivationSnippet)(j),se=`
  const ivec2 strides = ivec2(${j.strides[0]}, ${j.strides[1]});
  const ivec2 pads = ivec2(${j.pads[0]}, ${j.pads[1]});
  ${Z}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${$};
    int wOutChannel = output_channel - group_id * ${$};

    float value = ${U};
    for (int inChannelOffset = 0; inChannelOffset < ${Q}; inChannelOffset++) {
      int input_channel = group_id * ${Q} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${X[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${X[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${j.dilations[0]}, wHOff * ${j.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${G[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${G[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${le}
    ${F.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},R),{output:{dims:C,type:A[0].type,textureType:f.TextureType.unpacked},shaderSource:se,hasMain:!0})})(h,b,x,_)})})(t,r,u),r),n=(t,r)=>{const u=t.kernelShape.slice();if(t.kernelShape.length===0)for(let x=2;x<r[1].dims.length;++x)u.push(r[1].dims[x]);const h=t.pads.slice(),b=t.outputShape.slice();((x,O,S,I,A,R,j,U)=>{const G=x.length-2,X=U.length===0;for(let $=0;$<G;++$){const Q=X?x[$+2]*R[$]:U[$],C=p(x[$+2],R[$],A[$],O[$],S[$],Q);m(C,I,A,$,$+G),X&&U.push(R[$]*(x[$+2]-1)+j[$]+(O[$]-1)*S[$]+1-A[$]-A[$+G])}})(r[0].dims,u,t.dilations,t.autoPad,h,t.strides,t.outputPadding,b);const _=Object.assign({},t);return Object.assign(_,{kernelShape:u,pads:h,outputShape:b,cacheKey:t.cacheKey}),_};o.parseConvTransposeAttributes=t=>{const r=t.attributes,u=(0,g.parseInternalActivationAttributes)(r),h=r.getString("auto_pad","NOTSET"),b=r.getInts("dilations",[1,1]),_=r.getInt("group",1),x=r.getInts("kernel_shape",[]),O=r.getInts("output_padding",[0,0]),S=r.getInts("output_shape",[]),I=r.getInts("pads",[0,0,0,0]),A=r.getInts("strides",[1,1]);return(0,y.createAttributeWithCacheKey)(Object.assign({autoPad:h,dilations:b,group:_,kernelShape:x,outputPadding:O,outputShape:S,pads:I,strides:A},u))};const e=(t,r)=>{if(!t||t.length!==2&&t.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(t[0].dims.length!==4||t[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(t[0].dims[1]!==t[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const u=t[1].dims[1]*r.group;if(t.length===3&&(t[2].dims.length!==1||t[2].dims[0]!==u))throw new Error("invalid bias");const h=t[0].dims.length-2;if(r.dilations.length!==h)throw new Error(`dilations should be ${h}D`);if(r.strides.length!==h)throw new Error(`strides should be ${h}D`);if(r.pads.length!==2*h)throw new Error(`pads should be ${2*h}D`);if(r.outputPadding.length!==h)throw new Error(`output_padding should be ${h}D`);if(r.kernelShape.length!==0&&r.kernelShape.length!==t[1].dims.length-2)throw new Error("invalid kernel shape");if(r.outputShape.length!==0&&r.outputShape.length!==t[0].dims.length-2)throw new Error("invalid output shape");if(t[0].type!=="float32"||t[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(t.length===3&&t[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConvAttributes=o.conv=o.calculateOutputShape=void 0;const y=c(4910),d=c(7273),f=c(7825),g=c(7708),p=c(3281),m=c(2150),l=c(1625),a=c(8276);o.calculateOutputShape=(h,b,_,x,O)=>{const S=h[0],I=h.slice(2),A=I.length,R=b[0],j=b.slice(2).map((G,X)=>G+(G-1)*(_[X]-1)),U=I.map((G,X)=>G+x[X]+x[X+A]).map((G,X)=>Math.floor((G-j[X]+O[X])/O[X]));return[S,R].concat(...U)},o.conv=(h,b,_)=>(u(b,_),n(h,b,_));const n=(h,b,_)=>{const x=r(_,b),O=h.session.pack,S=x.kernelShape[0]===1&&x.kernelShape[1]===1;return x.group>1?[h.run((0,f.createUnpackedGroupedConvProgramInfoLoader)(h,b,x),b)]:S&&O?[e(h,b,x)]:O&&b[0].dims.length===4&&b[0].dims[0]===1&&!S?[(0,g.conv2DPacked)(h,b,x)]:[t(h,b,x)]},e=(h,b,_)=>{const x=b[0].dims,O=b[1].dims,S=(0,o.calculateOutputShape)(x,O,_.dilations,_.pads,_.strides),I=h.reshapeUnpacked(b[0],[x[1],x[2]*x[3]]),A=h.reshapeUnpacked(b[1],[O[0],O[1]]),R=b.length>2?[A,I,b[2]]:[A,I],j=h.run((0,a.createMatmulProgramInfoLoader)(R,_),R);return h.reshapeUnpacked(j,S)},t=(h,b,_)=>{const x=b[0].dims,O=b[1].dims,S=(0,o.calculateOutputShape)(x,O,_.dilations,_.pads,_.strides),I=h.run((0,l.createIm2ColProgramInfoLoader)(h,b[0],b[1],S,_),[b[0]]),A=b.length===3?[I,b[1],b[2]]:[I,b[1]];return h.run((0,p.createDotProductProgramInfoLoader)(h,b,S,_),A)},r=(h,b)=>{const _=h.kernelShape.slice();if(h.kernelShape.length===0)for(let S=2;S<b[1].dims.length;++S)_.push(b[1].dims[S]);const x=h.pads.slice();d.PoolConvUtil.adjustPadsBasedOnAutoPad(b[0].dims,h.strides,h.dilations,_,x,h.autoPad);const O=Object.assign({},h);return Object.assign(O,{kernelShape:_,pads:x,cacheKey:h.cacheKey}),O};o.parseConvAttributes=h=>{const b=h.attributes,_=(0,m.parseInternalActivationAttributes)(b),x=b.getString("auto_pad","NOTSET"),O=b.getInts("dilations",[1,1]),S=b.getInt("group",1),I=b.getInts("kernel_shape",[]),A=b.getInts("pads",[0,0,0,0]),R=b.getInts("strides",[1,1]);return(0,y.createAttributeWithCacheKey)(Object.assign({autoPad:x,dilations:O,group:S,kernelShape:I,pads:A,strides:R},_))};const u=(h,b)=>{if(!h||h.length!==2&&h.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(h[0].dims.length!==4||h[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(h[0].dims[1]!==h[1].dims[1]*b.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(h.length===3&&(h[2].dims.length!==1||h[1].dims[0]!==h[2].dims[0]))throw new Error("invalid bias");const _=h[0].dims.length-2;if(b.dilations.length!==_)throw new Error(`dilations should be ${_}D`);if(b.strides.length!==_)throw new Error(`strides should be ${_}D`);if(b.pads.length!==2*_)throw new Error(`pads should be ${2*_}D`);if(b.kernelShape.length!==0&&b.kernelShape.length!==h[1].dims.length-2)throw new Error("invalid kernel shape");if(h[0].type!=="float32"||h[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(h.length===3&&h[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseDepthToSpaceAttributes=o.depthToSpace=void 0;const y=c(5707);o.depthToSpace=(f,g,p)=>{d(g);const m=p.blocksize,l=m*m,a=p.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],n=p.mode==="DCR"?[g[0].dims[0],m,m,g[0].dims[1]/l,g[0].dims[2],g[0].dims[3]]:[g[0].dims[0],g[0].dims[1]/l,m,m,g[0].dims[2],g[0].dims[3]],e=f.reshapeUnpacked(g[0],n),t={perm:a,cacheKey:`${a}`},[r]=(0,y.transpose)(f,[e],t),u=[g[0].dims[0],g[0].dims[1]/l,g[0].dims[2]*m,g[0].dims[3]*m];return[f.reshapeUnpacked(r,u)]},o.parseDepthToSpaceAttributes=f=>{const g=f.attributes.getInt("blocksize");if(g<1)throw new Error(`blocksize must be >= 1, but got : ${g} for DepthToSpace`);const p=f.attributes.getString("mode","DCR");if(p!=="DCR"&&p!=="CRD")throw new Error(`unrecognized mode: ${p} for DepthToSpace`);return{mode:p,blocksize:g}};const d=f=>{if(f.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${f.length}`);if(f[0].type==="string"||f[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDotProductProgramInfoLoader=void 0;const y=c(7273),d=c(6757),f=c(5639),g=c(2150),p=c(1625);o.createDotProductProgramInfoLoader=(m,l,a,n)=>{const e=((t,r)=>({name:"ConvDotProduct",inputNames:t?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:t?[f.TextureType.unpacked,f.TextureType.packedLastDimension,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.packedLastDimension],cacheKey:r.activationCacheKey}))(l.length>2,n);return Object.assign(Object.assign({},e),{get:()=>((t,r,u,h,b)=>{const _=u[0].dims,x=u[1].dims,O=[x[0],Math.ceil(_[1]*x[2]*x[3]/4)],S=(0,p.calculateIm2ColDims)(_,x,h),[I,A]=t.calculateTextureWidthAndHeight(O,f.TextureType.packedLastDimension),R=y.ShapeUtil.computeStrides(S),[j,U]=t.calculateTextureWidthAndHeight(S,f.TextureType.packedLastDimension),G=h.length,X=u.length<3?"0.0":"_B(b)",$=Math.ceil(_[1]*x[2]*x[3]/4),{activationFunction:Q,applyActivation:C}=(0,g.getActivationSnippet)(b),F=(0,d.getGlsl)(t.session.backend.glContext.version),Z=`
${Q}
float process(int indices[${G}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${R[0]} + im2col[1] * ${R[1]} + im2col[2] * ${R[2]};
  int kernelOffset = indices[1] * ${O[1]};
  float value = ${X};
  for (int i = 0; i < ${$}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${j}, ${U});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${I}, ${A});
    value += dot(${F.texture2D}(Im2Col, im2colCoords), ${F.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${C}
  return value;
}`;return Object.assign(Object.assign({},r),{output:{dims:h,type:u[0].type,textureType:f.TextureType.unpacked},shaderSource:Z})})(m,e,l,a,n)})}},4125:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseFlattenAttributes=o.flatten=void 0;const y=c(7273);o.flatten=(f,g,p)=>{d(g,p);const m=y.ShapeUtil.flattenShape(g[0].dims,p);return[f.reshapeUnpacked(g[0],m)]},o.parseFlattenAttributes=f=>f.attributes.getInt("axis",1);const d=(f,g)=>{if(!f||f.length!==1)throw new Error("Flatten requires 1 input.");const p=f[0].dims.length;if(p===0)throw new Error("scalar tensor is not supported.");if(g<-p||g>p)throw new Error("Invalid axis");if(f[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInternalActivationAttributes=o.getActivationSnippet=void 0;const y=c(7273),d=c(9087);o.getActivationSnippet=function(f){let g;switch(f.activation){case"Relu":g=(0,d.glslRelu)();break;case"Sigmoid":g=(0,d.glslSigmoid)();break;case"Clip":g=(0,d.glslClip)(f.clipMin,f.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const p=g.name;return{activationFunction:g.body,applyActivation:`value = ${p}_(value);`}},o.parseInternalActivationAttributes=f=>{const g=f.getString("activation","");if(g==="Clip"){const[p,m]=f.getFloats("activation_params",[y.MIN_CLIP,y.MAX_CLIP]);return{activation:g,clipMax:m,clipMin:p,activationCacheKey:`${g}:${p},${m}`}}return{activation:g,activationCacheKey:g}}},6149:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseGatherAttributes=o.gather=void 0;const y=c(4910),d=c(6145),f=c(7273),g=c(5639);o.gather=(a,n,e)=>(l(n,e.axis),[a.run(m(a,n,e),n)]),o.parseGatherAttributes=a=>(0,y.createAttributeWithCacheKey)({axis:a.attributes.getInt("axis",0)});const p={name:"Gather",inputNames:["A","B"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked]},m=(a,n,e)=>{const t=Object.assign(Object.assign({},p),{cacheHint:e.cacheKey});return Object.assign(Object.assign({},t),{get:()=>((r,u,h,b)=>{const _=h[0].dims.slice(),x=h[1].dims.slice(),O=new Array(_.length+x.length-1);b=f.ShapeUtil.normalizeAxis(b,_.length);const S=[];for(let A=0;A<O.length;A++)A<b?(O[A]=_[A],S.push(`inputIdx[${A}] = outputIdx[${A}];`)):A<b+x.length?(O[A]=x[A-b],S.push(`indexDataIdx[${A-b}] = outputIdx[${A}];`)):(O[A]=_[A-x.length+1],S.push(`inputIdx[${A-x.length+1}] = outputIdx[${A}];`));const I=`
      float process(int outputIdx[${O.length||1}]) {
        int inputIdx[${_.length}];
        int indexDataIdx[${x.length||1}];
        indexDataIdx[0] = 0;
        ${S.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${b}] = idx < 0 ? idx + ${_[b]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},u),{output:{dims:O,type:h[0].type,textureType:g.TextureType.unpacked},shaderSource:I})})(0,t,n,e.axis)})},l=(a,n)=>{if(!a||a.length!==2)throw new Error("Gather requires 2 inputs.");const e=a[0].dims.length;if(e<1)throw new Error("Invalid input shape.");if(n<-e||n>e-1)throw new Error("Invalid axis.");if(d.NUMBER_TYPES.indexOf(a[0].type)===-1)throw new Error("Invaid input type.");if(a[1].type!=="int32"&&a[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseGemmAttributesV11=o.parseGemmAttributesV7=o.gemm=void 0;const y=c(4910),d=c(7273),f=c(5639);o.gemm=(a,n,e)=>(l(n,e),[a.run(p(n,e),n)]);const g=(a,n)=>{const e=a.attributes.getInt("transA",0)!==0,t=a.attributes.getInt("transB",0)!==0,r=a.attributes.getFloat("alpha",1),u=a.attributes.getFloat("beta",1);return(0,y.createAttributeWithCacheKey)({transA:e,transB:t,alpha:r,beta:u,isOptionalC:n})};o.parseGemmAttributesV7=a=>g(a,!1),o.parseGemmAttributesV11=a=>g(a,!0);const p=(a,n)=>{const e={name:"Gemm",inputNames:a.length===3?["A","B","C"]:["A","B"],inputTypes:a.length===3?[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.unpacked],key:n.cacheKey};return Object.assign(Object.assign({},e),{get:()=>m(e,a,n)})},m=(a,n,e)=>{const t=n[0].dims.slice(),r=n[1].dims.slice(),[u,h]=d.GemmUtil.getShapeOfGemmResult(t,e.transA,r,e.transB,n.length===3?n[2].dims:void 0),b=[u,h];if(!b)throw new Error("Can't use gemm on the given tensors");let _=t[t.length-1],x="";e.transA&&(_=t[0]),e.transA&&e.transB?x="value += _A_T(a) * _B_T(b);":e.transA&&!e.transB?x="value += _A_T(a) * _B(b);":!e.transA&&e.transB?x="value += _A(a) * _B_T(b);":e.transA||e.transB||(x="value += _A(a) * _B(b);");const O=b.length,S=`
      float process(int indices[${O}]) {
          int a[${O}];
          int b[${O}];
          ${n.length===3?`int c[${n[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${n.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${_}; ++k) {
              a[${O-1}] = k;
              b[${O-2}] = k;
              ${x}
          }

          value = value * alpha;
          ${n.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},a),{output:{dims:b,type:n[0].type,textureType:f.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:e.alpha},{name:"beta",type:"float",data:e.beta}],shaderSource:S})},l=(a,n)=>{if(!a)throw new Error("Input is missing");if(n.isOptionalC&&(a.length<2||a.length>3))throw new Error("Invaid input shape.");if(!n.isOptionalC&&a.length!==3)throw new Error("Gemm requires 3 inputs");if(a.length===3&&a[2].dims.length!==1&&a[2].dims.length!==2)throw new Error("Invalid input shape of C");if(a[0].type!=="float32"&&a[0].type!=="float64"||a[1].type!=="float32"&&a[1].type!=="float64"||a.length===3&&a[2].type!=="float32"&&a[2].type!=="float64")throw new Error("Invalid input type.");if(a[0].type!==a[1].type||a.length===3&&a[0].type!==a[2].type)throw new Error("Input types are mismatched")}},5950:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedIm2ColProgramInfoLoader=void 0;const y=c(6757),d=c(5639),f=c(5614);o.createPackedIm2ColProgramInfoLoader=(g,p,m,l,a)=>{const n=(e=a.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[d.TextureType.packed],cacheHint:e});var e;return Object.assign(Object.assign({},n),{get:()=>((t,r,u,h,b,_)=>{const x=u.dims,O=h.dims,S=b.length,I=[O[1]*O[2]*O[3],b[2]*b[3]],A=O[2]*O[3],R=(0,f.unpackFromChannel)(),j=(0,y.getGlsl)(t.session.backend.glContext.version);let U="";for(let X=0;X<=1;X++)for(let $=0;$<=1;$++)U+=`
            blockIndex = rc.x + ${$};
            pos = rc.y + ${X};

            if(blockIndex < ${I[1]} && pos < ${I[0]}) {
              offsetY = int(blockIndex / (${b[S-1]})) * ${_.strides[0]} -
                ${_.pads[0]};
              d0 = offsetY + ${_.dilations[0]} * (imod(pos, ${A}) / ${O[2]});

              if(d0 < ${x[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${b[S-1]}) * ${_.strides[1]} -
                  ${_.pads[1]};
                d1 = offsetX + ${_.dilations[1]} * imod(imod(pos, ${A}), ${O[2]});

                if(d1 < ${x[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${A}.);
                    innerDims = vec2(d0, d1);
                    result[${2*X+$}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const G=`
      ${R}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${U}
          ${j.output} = result;
      }
            `;return Object.assign(Object.assign({},r),{output:{dims:I,type:u.type,textureType:d.TextureType.packed},shaderSource:G,hasMain:!0})})(g,n,p,m,l,a)})}},1625:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.calculateIm2ColDims=o.createIm2ColProgramInfoLoader=void 0;const y=c(5639);o.createIm2ColProgramInfoLoader=(d,f,g,p,m)=>{const l=(a=m.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[y.TextureType.unpacked],cacheHint:a});var a;return Object.assign(Object.assign({},l),{get:()=>((n,e,t,r,u,h)=>{const b=t.dims,_=r.dims,x=u.length,O=(0,o.calculateIm2ColDims)(b,_,u,4),S=`
        const int XC = ${b[1]};
        const int XH = ${b[2]};
        const int XW = ${b[3]};
        const int KH = ${h.kernelShape[0]};
        const int KW = ${h.kernelShape[1]};
        const int dilationH = ${h.dilations[0]};
        const int dilationW = ${h.dilations[1]};
        const int strideH = ${h.strides[0]};
        const int strideW = ${h.strides[1]};
        const int padH = ${h.pads[0]};
        const int padW = ${h.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${x}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${b.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},e),{output:{dims:O,type:t.type,textureType:y.TextureType.packedLastDimension},shaderSource:S})})(0,l,f,g,p,m)})},o.calculateIm2ColDims=(d,f,g,p=4)=>[g[0],g[2],g[3],Math.ceil(d[1]*f[2]*f[3]/p)]},6981:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseImageScalerAttributes=o.imageScaler=void 0;const y=c(4910),d=c(5639);o.imageScaler=(l,a,n)=>(m(a),[l.run(g(l,a,n),a)]),o.parseImageScalerAttributes=l=>{const a=l.attributes.getFloat("scale"),n=l.attributes.getFloats("bias");return(0,y.createAttributeWithCacheKey)({scale:a,bias:n})};const f={name:"ImageScaler",inputNames:["X"],inputTypes:[d.TextureType.unpacked]},g=(l,a,n)=>{const e=Object.assign(Object.assign({},f),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},e),{get:()=>((t,r,u,h)=>{const b=u[0].dims.slice(),_=b.length,x=`
      ${p(h.bias.length)}
      float process(int indices[${_}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},r),{output:{dims:b,type:u[0].type,textureType:d.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:h.bias.length,data:h.bias},{name:"scale",type:"float",data:h.scale}],shaderSource:x})})(0,e,a,n)})},p=l=>{const a=[`float getBias(float bias[${l}], int channel) {`];for(let n=0;n<l;++n)n===0?a.push(`	if (channel == ${n}) { return bias[${n}]; }`):n===l-1?a.push(`	else { return bias[${n}]; }`):a.push(`	else if (channel == ${n}) { return bias[${n}]; }`);return a.push("	}"),a.join(`
`)},m=l=>{if(!l||l.length!==1)throw new Error("ImageScaler requires 1 input.");if(l[0].dims.length!==4)throw new Error("Invalid input shape.");if(l[0].type!=="float32"&&l[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInstanceNormalizationAttributes=o.instanceNormalization=void 0;const y=c(6757),d=c(5639);o.instanceNormalization=(a,n,e)=>{l(n);const t=a.run(g(n[0]),n);return[a.run(m(a,n[0],e,t.dims),[n[0],t,n[1],n[2]])]},o.parseInstanceNormalizationAttributes=a=>a.attributes.getFloat("epsilon",1e-5);const f={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[d.TextureType.unpacked]},g=a=>Object.assign(Object.assign({},f),{get:()=>((n,e)=>{const t=e.dims.slice(),r=t[1],u=t[2]*t[3],h=[t[0],r],b=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${t[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${t[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${u});
        temp = 0.0;
        for(int a2=0; a2<${t[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${t[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${u});

        return v;
      }`;return Object.assign(Object.assign({},n),{output:{dims:h,type:e.type,textureType:d.TextureType.packedLastDimension},shaderSource:b})})(f,a)}),p={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[d.TextureType.unpacked,d.TextureType.packedLastDimension,d.TextureType.unpacked,d.TextureType.unpacked]},m=(a,n,e,t)=>{const r=Object.assign(Object.assign({},p),{cacheHint:`${e}`});return Object.assign(Object.assign({},r),{get:()=>((u,h,b,_,x)=>{const O=(0,y.getGlsl)(u.session.backend.glContext.version),[S,I]=u.calculateTextureWidthAndHeight(x,d.TextureType.packedLastDimension),[A,R]=[S/4,I],j=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${A}, ${R});
        return ${O.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},h),{output:{dims:b.dims,type:b.type,textureType:d.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:_}],shaderSource:j})})(a,r,n,e,t)})},l=a=>{if(!a||a.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const n=a[0],e=a[1],t=a[2];if(n.dims.length<3||e.dims.length!==1||t.dims.length!==1)throw new Error("Invalid input shape.");if(e.dims[0]!==n.dims[1]||t.dims[0]!==n.dims[1])throw new Error("Input shapes are mismatched.");if(n.type!=="float32"&&n.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||t.type!=="float32"&&t.type!=="float64")throw new Error("Invalid input type.");if(a[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createLrnProgramInfoLoader=o.parseLrnAttributes=o.lrn=void 0;const y=c(4910),d=c(5639);o.lrn=(m,l,a)=>(p(l),[m.run(g(l,a),l)]),o.parseLrnAttributes=m=>{const l=m.attributes.getFloat("alpha",1e-4),a=m.attributes.getFloat("beta",.75),n=m.attributes.getFloat("bias",1),e=m.attributes.getInt("size");return(0,y.createAttributeWithCacheKey)({alpha:l,beta:a,bias:n,size:e})};const f={name:"LRN",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};function g(m,l){return Object.assign(Object.assign({},f),{cacheHint:l.cacheKey,get:()=>function(a,n){const e=a[0].dims[1],t=a[0].dims.length,r=-Math.floor((n.size-1)/2),u=Math.ceil((n.size-1)/2),h=`float(${n.alpha}) / float(${n.size})`,b=`
    float process(int indices[${t}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${r}; i <= ${u}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${e}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${n.bias}) + ${h} * square_sum, float(${n.beta}));
    }`;return Object.assign(Object.assign({},f),{cacheHint:n.cacheKey,output:{dims:a[0].dims,type:a[0].type,textureType:d.TextureType.unpacked},shaderSource:b})}(m,l)})}o.createLrnProgramInfoLoader=g;const p=m=>{if(!m||m.length!==1)throw new Error("LRN requires 1 input.");if(m[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(m[0].type!=="float32")throw new Error("input should be float type")}},5632:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedMatmulProgramInfoLoader=void 0;const y=c(7273),d=c(6757),f=c(5639),g=c(432),p=c(2150),m=c(8276);o.createPackedMatmulProgramInfoLoader=(l,a,n)=>{const e=(t=a.length>2,r=n.activationCacheKey,{name:"MatMul (packed)",inputNames:t?["A","B","Bias"]:["A","B"],inputTypes:t?[f.TextureType.packed,f.TextureType.packed,f.TextureType.packed]:[f.TextureType.packed,f.TextureType.packed],cacheHint:r});var t,r;return Object.assign(Object.assign({},e),{get:()=>((u,h,b,_)=>{const x=b.length>2,O=x?"value += getBiasForMatmul();":"",S=b[0].dims,I=b[1].dims,A=y.BroadcastUtil.calcShape(S,I,!0),R=!y.ShapeUtil.areEqual(b[0].dims,b[1].dims);if(!A)throw new Error("Can't use matmul on the given tensors");const j=S[S.length-1],U=Math.ceil(j/2),G=S.length,X=I.length,$=(0,d.getGlsl)(u.session.backend.glContext.version),Q=(0,g.getCoordsDataType)(A.length),C=A.length,F=(0,g.getGlChannels)(),{activationFunction:Z,applyActivation:le}=(0,p.getActivationSnippet)(_),se=x?`${(0,m.getBiasForMatmul)(Q,F,b[2].dims,A,!0)}`:"",ge=R?`${function(Ie,xe,ke,je){let Je=[],ot=[];const Vt=ke[0].dims,nt=ke[1].dims,vt=Vt.length,Ge=nt.length,ze=je.length,lt=ze-vt,_t=ze-Ge;Je=Vt.map((at,At)=>`coords.${xe[At+lt]}`),Je[vt-1]="i*2",Je.join(", "),ot=nt.map((at,At)=>`coords.${xe[At+_t]}`),ot[Ge-2]="i*2",ot.join(", ");const Ye=y.BroadcastUtil.getBroadcastDims(Vt,je),xt=y.BroadcastUtil.getBroadcastDims(nt,je),Tt=Ye.map(at=>`coords.${xe[at+lt]} = 0;`).join(`
`),Nt=xt.map(at=>`coords.${xe[at+_t]} = 0;`).join(`
`),ct=`int lastDim = coords.${xe[ze-1]};
  coords.${xe[ze-1]} = coords.${xe[ze-2]};
  coords.${xe[ze-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Ie} coords = getOutputCoords();
  ${ct}
  ${Tt}
  vec4 outputValue = getA(${Je});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Ie} coords = getOutputCoords();
  ${ct}
  ${Nt}
  vec4 outputValue = getB(${ot});
  return outputValue;
}`}(Q,F,b,A)}`:"",ce=R?"getAAtOutCoordsMatmul(i)":`getA(${function(Ie,xe){let ke="";for(let je=0;je<xe-2;je++)ke+=`rc.${Ie[je]}, `;return ke+=`rc.${Ie[xe-2]}, i*2`,ke}(F,G)})`,ye=R?"getBAtOutCoordsMatmul(i)":`getB(${function(Ie,xe){let ke="";for(let je=0;je<xe-2;je++)ke+=`rc.${Ie[je]}, `;return ke+=`i*2, rc.${Ie[xe-1]}`,ke}(F,X)})`,_e=`
            ${ge}
            ${se}
            ${Z}
            void main() {
              ${R?"":`${Q} rc =
          getOutputCoords(); int lastDim = rc.${F[C-1]}; rc.${F[C-1]} =
          rc.${F[C-2]}; rc.${F[C-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${U}; i++) {
                vec4 a = ${ce};
                vec4 b = ${ye};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${O}
              ${le}
              ${$.output} = value;
            }`;return Object.assign(Object.assign({},h),{output:{dims:A,type:b[0].type,textureType:f.TextureType.packed},shaderSource:_e,hasMain:!0})})(l,e,a,n)})}},8276:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getBiasForMatmul=o.createMatmulProgramInfoLoader=o.parseMatMulAttributes=o.matMul=void 0;const y=c(7273),d=c(5639),f=c(432),g=c(2150),p=c(5632);o.matMul=(e,t,r)=>(a(t),e.session.pack?[e.run((0,p.createPackedMatmulProgramInfoLoader)(e,t,r),t)]:[e.run(l(t,r),t)]),o.parseMatMulAttributes=e=>(0,g.parseInternalActivationAttributes)(e.attributes);const m=(e,t)=>({name:"MatMul",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:t});function l(e,t){const r=m(e.length>2,t.activationCacheKey);return Object.assign(Object.assign({},r),{get:()=>function(u,h,b){const _=h[0].dims,x=h[1].dims,O=y.BroadcastUtil.calcShape(_,x,!0);if(!O)throw new Error("Can't use matmul on the given tensors");const S=(0,f.getCoordsDataType)(O.length),I=(0,f.getGlChannels)(),{activationFunction:A,applyActivation:R}=(0,g.getActivationSnippet)(b),j=h.length>2,U=j?"value += getBiasForMatmul();":"",G=j?`${n(S,I,h[2].dims,O,!1)}`:"",X=O.length,$=_.length,Q=x.length,C=`
    ${A}
    ${G}
    float process(int indices[${X}]) {
        int a[${$}];
        int b[${Q}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${_[_.length-1]}; ++k) {
            a[${$-1}] = k;
            b[${Q-2}] = k;
            value += _A(a) * _B(b);
        }
        ${U}
        ${R}
        return value;
    }`;return Object.assign(Object.assign({},u),{output:{dims:O,type:h[0].type,textureType:d.TextureType.unpacked},shaderSource:C})}(r,e,t)})}o.createMatmulProgramInfoLoader=l;const a=e=>{if(!e||e.length!==2)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if(e[0].type!=="float32"&&e[0].type!=="float64"||e[1].type!=="float32"&&e[1].type!=="float64")throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function n(e,t,r,u,h){let b="";const _=r.length,x=u.length,O=x-_;b=x<2&&_>0?"coords":r.map((A,R)=>`coords.${t[R+O]}`).join(", ");const S=y.BroadcastUtil.getBroadcastDims(r,u).map(A=>`coords.${t[A+O]} = 0;`).join(`
`);let I="vec4(outputValue.xx, outputValue.yy)";return y.ShapeUtil.size(r)===1&&(I="vec4(outputValue.x)"),h?`
vec4 getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${S}
  vec4 outputValue = getBias(${b});
  return ${I};
}`:`
float getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${S}
  return getBias(coords.x);
}`}o.getBiasForMatmul=n},9:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackProgramInfoLoader=void 0;const y=c(6757),d=c(5639),f=c(432),g=c(5614),p={name:"pack",inputNames:["A"],inputTypes:[d.TextureType.unpackedReversed]};o.createPackProgramInfoLoader=(m,l)=>Object.assign(Object.assign({},p),{get:()=>((a,n)=>{const e=(0,y.getGlsl)(a.session.backend.glContext.version),t=n.dims,r=t.length,u=n.dims.length,h=(0,f.getCoordsDataType)(u),b=(0,g.getChannels)("rc",u),_=(x=u,O=b,S=t[t.length-2],I=t[t.length-1],x===0||x===1?"":`
    int r = ${O[x-2]};
    int c = ${O[x-1]};
    int rp1 = ${O[x-2]} + 1;
    int cp1 = ${O[x-1]} + 1;
    bool rEdge = rp1 >= ${I};
    bool cEdge = cp1 >= ${S};
    `);var x,O,S,I;let A;A=r===0?[1,1]:r===1?[t[0],1]:[t[u-1],t[u-2]];const R=function(G,X,$){if(G===0)return"false";if(G===1)return`rc > ${X[0]}`;let Q="";for(let C=G-2;C<G;C++)Q+=`${$[C]} >= ${X[C-G+2]}`,C<G-1&&(Q+="||");return Q}(u,A,b),j=function(G,X){const $=G.length;if($===0)return"getA(), 0, 0, 0";if($===1)return`getA(rc),
            rc + 1 >= ${G[0]} ? 0. : getA(rc + 1),
            0, 0`;let Q="";if($>2)for(let C=0;C<$-2;++C)Q+=`${X[C]},`;return`getA(${Q}r, c),
          rEdge ? 0. : getA(${Q}rp1, c),
          cEdge ? 0. : getA(${Q}r, cp1),
          rEdge || cEdge ? 0. : getA(${Q}rp1, cp1)`}(t,b),U=`
        void main() {
          ${h} rc = getOutputCoords();

          if(${R}) {
            ${e.output} = vec4(0);
          } else {
            ${_}

            ${e.output} = vec4(${j});
          }
        }
      `;return Object.assign(Object.assign({},p),{hasMain:!0,output:{dims:n.dims,type:n.type,textureType:d.TextureType.packed},shaderSource:U})})(m,l)})},5614:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.unpackFromChannel=o.getChannels=o.getVecChannels=void 0;const y=c(432);function d(f,g){return(0,y.getGlChannels)(g).map(p=>`${f}.${p}`)}o.getVecChannels=d,o.getChannels=function(f,g){return g===1?[f]:d(f,g)},o.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parsePadAttributesV11=o.padV11=o.parsePadAttributesV2=o.padV2=void 0;const y=c(4910),d=c(7273),f=c(6757),g=c(5639),p={name:"Pad",inputNames:["A"],inputTypes:[g.TextureType.unpacked]};o.padV2=(h,b,_)=>(a(b),[h.run(Object.assign(Object.assign({},p),{cacheHint:_.cacheKey,get:()=>l(h,b[0],_)}),b)]),o.parsePadAttributesV2=h=>{const b=h.attributes.getString("mode","constant"),_=h.attributes.getFloat("value",0),x=h.attributes.getInts("pads");return(0,y.createAttributeWithCacheKey)({mode:b,value:_,pads:x})},o.padV11=(h,b,_)=>{n(b);const x=m(h,b,_);return(0,o.padV2)(h,[b[0]],x)},o.parsePadAttributesV11=h=>h.attributes.getString("mode","constant");const m=(h,b,_)=>{if(!h.session.isInitializer(b[1].dataId)||b.length>=3&&!h.session.isInitializer(b[2].dataId))throw new Error("dynamic pad attributes are not allowed");const x=Array.from(b[1].integerData),O=b.length>=3?b[2].floatData[0]:0;return(0,y.createAttributeWithCacheKey)({mode:_,pads:x,value:O})},l=(h,b,_)=>{const x=d.ShapeUtil.padShape(b.dims.slice(),_.pads),O=x.length,S=`
      ${e(h,b,_)}
      float process(int[${O}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[g.TextureType.unpacked],output:{dims:x,type:b.type,textureType:g.TextureType.unpacked},shaderSource:S}},a=h=>{if(!h||h.length!==1)throw new Error("Pad requires 1 input");if(h[0].type!=="float32"&&h[0].type!=="float64")throw new Error("Invalid input type.")},n=h=>{if(!h||h.length!==2&&h.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(h[1].type!=="int32")throw new Error("Invalid input type.");if(h.length>=3&&h[2].type==="string")throw new Error("Invalid input type.")},e=(h,b,_)=>{const x=(0,f.getGlsl)(h.session.backend.glContext.version),[O,S]=h.calculateTextureWidthAndHeight(b.dims,g.TextureType.unpacked),I=d.ShapeUtil.computeStrides(b.dims);switch(_.mode){case"constant":return t(x,b.dims,I,O,S,_.pads,_.value);case"reflect":return r(x,b.dims,I,O,S,_.pads);case"edge":return u(x,b.dims,I,O,S,_.pads);default:throw new Error("Invalid mode")}},t=(h,b,_,x,O,S,I)=>{const A=b.length;let R="";for(let j=A-1;j>=0;--j)R+=`
        k = m[${j}] - ${S[j]};
        if (k < 0)  return constant;
        if (k >= ${b[j]}) return constant;
        offset += k * ${_[j]};
        `;return`
      float padA(int m[${A}]) {
        const float constant = float(${I});
        int offset = 0;
        int k = 0;
        ${R}
        vec2 coords = offsetToCoords(offset, ${x}, ${O});
        float value = getColorAsFloat(${h.texture2D}(A, coords));
        return value;
      }
      `},r=(h,b,_,x,O,S)=>{const I=b.length;let A="";for(let R=I-1;R>=0;--R)A+=`
        k = m[${R}] - ${S[R]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(b[R]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${b[R]}) { k = _2n_1 - k; }
        }
        offset += k * ${_[R]};
        `;return`
      float padA(int m[${I}]) {
        int offset = 0;
        int k = 0;
        ${A}
        vec2 coords = offsetToCoords(offset, ${x}, ${O});
        float value = getColorAsFloat(${h.texture2D}(A, coords));
        return value;
      }
      `},u=(h,b,_,x,O,S)=>{const I=b.length;let A="";for(let R=I-1;R>=0;--R)A+=`
        k = m[${R}] - ${S[R]};
        if (k < 0)  k = 0;
        if (k >= ${b[R]}) k = ${b[R]-1};
        offset += k * ${_[R]};
      `;return`
      float padA(int m[${I}]) {
        int offset = 0;
        int k = 0;
        ${A}
        vec2 coords = offsetToCoords(offset, ${x}, ${O});
        float value = getColorAsFloat(${h.texture2D}(A, coords));
        return value;
      }
      `}},2834:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.globalMaxPool=o.parseMaxPoolAttributes=o.maxPool=o.parseGlobalAveragePoolAttributes=o.globalAveragePool=o.parseAveragePoolAttributes=o.averagePool=void 0;const y=c(4910),d=c(7273),f=c(5639);o.averagePool=(u,h,b)=>{n(h);const _={name:"AveragePool",inputNames:["X"],inputTypes:[f.TextureType.unpacked],cacheHint:b.cacheKey};return[u.run(Object.assign(Object.assign({},_),{get:()=>g(h,_,!1,b)}),h)]},o.parseAveragePoolAttributes=u=>{const h=u.attributes.getString("auto_pad","NOTSET"),b=u.attributes.getInt("ceil_mode",0),_=u.attributes.getInt("count_include_pad",0)!==0,x=u.attributes.getInts("kernel_shape"),O=u.attributes.getInts("strides",[]),S=u.attributes.getInts("pads",[]);if(b!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,y.createAttributeWithCacheKey)({autoPad:h,ceilMode:b,countIncludePad:_,kernelShape:x,strides:O,pads:S})};const g=(u,h,b,_)=>{const[x,O]=m(u,_,b),S=d.ShapeUtil.size(x.kernelShape);let I="";x.countIncludePad?I+=`value /= float(${S});`:I+=`value /= float(${S} - pad);`;const A=`
        ${e(u[0].dims,x,"value += _X(x);",I,"0.0")}
      `;return Object.assign(Object.assign({},h),{output:{dims:O,type:u[0].type,textureType:f.TextureType.unpacked},shaderSource:A})};o.globalAveragePool=(u,h,b)=>{n(h);const _={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[f.TextureType.unpacked],cacheHint:`${b.countIncludePad}`};return[u.run(Object.assign(Object.assign({},_),{get:()=>g(h,_,!0,b)}),h)]},o.parseGlobalAveragePoolAttributes=u=>{const h=u.attributes.getInt("count_include_pad",0)!==0;return(0,y.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:h,kernelShape:[],strides:[],pads:[]})},o.maxPool=(u,h,b)=>{n(h);const _={name:"MaxPool",inputNames:["X"],inputTypes:[f.TextureType.unpacked],cacheHint:b.cacheKey};return[u.run(Object.assign(Object.assign({},_),{get:()=>p(h,_,!1,b)}),h)]},o.parseMaxPoolAttributes=u=>{const h=u.attributes.getString("auto_pad","NOTSET"),b=u.attributes.getInt("ceil_mode",0),_=u.attributes.getInts("kernel_shape"),x=u.attributes.getInts("strides",[]),O=u.attributes.getInts("pads",[]),S=u.attributes.getInt("storage_order",0),I=u.attributes.getInts("dilations",[]);if(S!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(b!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,y.createAttributeWithCacheKey)({autoPad:h,ceilMode:b,countIncludePad:!1,kernelShape:_,strides:x,pads:O,storageOrder:S,dilations:I})};const p=(u,h,b,_)=>{const[x,O]=m(u,_,b),S=`
      ${e(u[0].dims,x,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},h),{output:{dims:O,type:u[0].type,textureType:f.TextureType.unpacked},shaderSource:S})},m=(u,h,b)=>{const _=u[0].dims.slice(),x=Object.hasOwnProperty.call(h,"dilations"),O=h.kernelShape.slice(),S=h.strides.slice(),I=x?h.dilations.slice():[],A=h.pads.slice();d.PoolConvUtil.adjustPoolAttributes(b,_,O,S,I,A);const R=d.PoolConvUtil.computePoolOutputShape(b,_,S,I,O,A,h.autoPad),j=Object.assign({},h);return x?Object.assign(j,{kernelShape:O,strides:S,pads:A,dilations:I,cacheKey:h.cacheKey}):Object.assign(j,{kernelShape:O,strides:S,pads:A,cacheKey:h.cacheKey}),[j,R]},l={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},a={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[f.TextureType.unpacked]};o.globalMaxPool=(u,h)=>(n(h),[u.run(Object.assign(Object.assign({},a),{get:()=>p(h,a,!0,l)}),h)]);const n=u=>{if(!u||u.length!==1)throw new Error("Pool ops requires 1 input.");if(u[0].type!=="float32"&&u[0].type!=="float64")throw new Error("Invalid input type.")},e=(u,h,b,_,x)=>{const O=u.length;if(h.kernelShape.length<=2){const S=h.kernelShape[h.kernelShape.length-1],I=h.strides[h.strides.length-1],A=h.pads[h.pads.length/2-1],R=h.pads[h.pads.length-1],j=u[O-1];let U="",G="",X="";if(U=A+R!==0?`
          for (int i = 0; i < ${S}; i++) {
            x[${O} - 1] = indices[${O} - 1] * ${I} - ${A} + i;
            if (x[${O} - 1] < 0 || x[${O} - 1] >= ${j}) {
              pad++;
              continue;
            }
            ${b}
          }`:`
          for (int i = 0; i < ${S}; i++) {
            x[${O} - 1] = indices[${O} - 1] * ${I} - ${A} + i;
            ${b}
          }`,h.kernelShape.length===2){const $=h.kernelShape[h.kernelShape.length-2],Q=h.strides[h.strides.length-2],C=h.pads[h.pads.length/2-2],F=h.pads[h.pads.length-2],Z=u[O-2];G=C+F!==0?`
            for (int j = 0; j < ${$}; j++) {
              x[${O} - 2] = indices[${O} - 2] * ${Q} - ${C} + j;
              if (x[${O} - 2] < 0 || x[${O} - 2] >= ${Z}) {
                pad+= ${S};
                continue;
              }
          `:`
            for (int j = 0; j < ${$}; j++) {
              x[${O} - 2] = indices[${O} - 2] * ${Q} - ${C} + j;
            `,X=`
          }
        `}return`
        float process(int indices[${O}]) {
          int x[${O}];
          copyVec(indices, x);

          float value = ${x};
          int pad = 0;
          ${G}
          ${U}
          ${X}
          ${_}
          return value;
        }
      `}{const S=d.ShapeUtil.size(h.kernelShape),I=d.ShapeUtil.computeStrides(h.kernelShape),A=I.length,R=h.pads.length,j=r(A),U=t(u,"inputDims"),G=t(h.pads,"pads"),X=t(I,"kernelStrides"),$=t(h.strides,"strides");let Q="";return Q=h.pads.reduce((C,F)=>C+F)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${b}
          }`:`
          }
          ${b}
        `,`
        ${j}
        float process(int indices[${O}]) {
          int x[${O}];
          copyVec(indices, x);
          int offset[${A}];
          int pads[${R}];
          int inputDims[${O}];
          int kernelStrides[${A}];
          int strides[${A}];
          ${G}
          ${U}
          ${$}
          ${X}

          float value = ${x};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${S}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${O} - ${A}; j < ${O}; j++) {
              x[j] = indices[j] * strides[j - ${O} + ${A}]
                + offset[j - ${O} + ${A}] - pads[j - 2];
              ${Q}
          }
          ${_}

          return value;
        }
      `}},t=(u,h)=>{let b="";for(let _=0;_<u.length;_++)b+=`
      ${h}[${_}] = ${u[_]};
    `;return b},r=u=>`
  void offsetToIndices(int offset, int[${u}] strides, out int[${u}] indices) {
    if (${u} == 0) {
      return;
    }
    for (int i = 0; i < ${u} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${u} - 1] = offset;
  }`},1010:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.reduceLogSumSquare=o.reduceLogSum=o.reduceProd=o.reduceMin=o.reduceMax=o.reduceMean=o.reduceSum=o.parseReduceAttributes=void 0;const y=c(4910),d=c(6145),f=c(7273),g=c(5639),p=(a,n,e,t,r)=>{l(n);const u={name:t,inputNames:["A"],inputTypes:[g.TextureType.unpacked]};return[a.run(Object.assign(Object.assign({},u),{cacheHint:e.cacheKey,get:()=>m(a,n,e,t,r,u)}),n)]};o.parseReduceAttributes=a=>{const n=a.attributes.getInts("axes",[]),e=a.attributes.getInt("keepdims",1)===1;return(0,y.createAttributeWithCacheKey)({axes:n,keepDims:e})};const m=(a,n,e,t,r,u)=>{const h=[],b=n[0].dims.length||1,_=[],x=f.ShapeUtil.normalizeAxes(e.axes,n[0].dims.length),O=r(n,x);let S=O[1];for(let A=0;A<n[0].dims.length;A++)x.indexOf(A)>=0||x.length===0?(e.keepDims&&h.push(1),S=`
          for(int j${A} = 0; j${A} < ${n[0].dims[A]}; j${A}++) {
            inputIdx[${A}] = j${A};
            ${S}
          }`):(_.push(`inputIdx[${A}] = outputIdx[${h.length}];`),h.push(n[0].dims[A]));const I=`
      float process(int outputIdx[${h.length||1}]) {
        float value;                 // final result
        int inputIdx[${b}];      // addressing input data
        ${_.join(`
`)}
        ${O[0]}       // init ops for reduce max/min
        ${S}
        ${O[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},u),{output:{dims:h,type:n[0].type,textureType:g.TextureType.unpacked},shaderSource:I})},l=a=>{if(!a||a.length!==1)throw new Error("Reduce op requires 1 input.");if(d.NUMBER_TYPES.indexOf(a[0].type)===-1)throw new Error("Invalid input type.")};o.reduceSum=(a,n,e)=>p(a,n,e,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),o.reduceMean=(a,n,e)=>p(a,n,e,"ReduceMean",(t,r)=>{let u=1;for(let h=0;h<t[0].dims.length;h++)(r.indexOf(h)>=0||r.length===0)&&(u*=t[0].dims[h]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${u}.;`]}),o.reduceMax=(a,n,e)=>p(a,n,e,"ReduceMax",(t,r)=>{const u=[];for(let h=0;h<t[0].dims.length;h++)(r.indexOf(h)>=0||r.length===0)&&u.push(`inputIdx[${h}] = 0;`);return[`${u.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),o.reduceMin=(a,n,e)=>p(a,n,e,"ReduceMin",(t,r)=>{const u=[];for(let h=0;h<t[0].dims.length;h++)(r.indexOf(h)>=0||r.length===0)&&u.push(`inputIdx[${h}] = 0;`);return[`${u.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),o.reduceProd=(a,n,e)=>p(a,n,e,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),o.reduceLogSum=(a,n,e)=>p(a,n,e,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),o.reduceLogSumSquare=(a,n,e)=>p(a,n,e,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isReshapeCheap=o.processDims3D=o.createPackedReshape3DProgramInfoLoader=void 0;const y=c(7273),d=c(6757),f=c(5639),g=c(5614);o.createPackedReshape3DProgramInfoLoader=(p,m,l)=>{const a=(n=>({name:"Reshape (packed)",inputTypes:[f.TextureType.packed],inputNames:["A"],cacheHint:`${n}`}))(l);return Object.assign(Object.assign({},a),{get:()=>((n,e,t,r)=>{const u=e.dims,h=r;let b="";for(let O=0;O<4;O++){let S="";switch(O){case 0:S="outputCoords = rc;";break;case 1:S="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:S="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:S="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}b+=`
        ${S}
        ${O>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${O}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${O>0?"}":""}
      `}const _=(0,d.getGlsl)(n.session.backend.glContext.version),x=`
      ${function(O){const S=y.ShapeUtil.computeStrides(O),I=["b","r","c"],A="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${S.map((R,j)=>`int ${I[j]} = ${A} / ${R}; ${j===S.length-1?`int ${I[j+1]} = ${A} - ${I[j]} * ${R}`:`index -= ${I[j]} * ${R}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(u)}
      ${function(O){const S=y.ShapeUtil.computeStrides(O);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${S[0]} + coords.z * ${S[1]} + coords.y;
  }
`}(h)}
      ${(0,g.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${h[2]};
        int cols = ${h[1]};

        ${b}
        ${_.output} = result;
      }
    `;return Object.assign(Object.assign({},t),{output:{dims:h,type:e.type,textureType:f.TextureType.packed},shaderSource:x,hasMain:!0})})(p,m,a,l)})},o.processDims3D=function(p){if(p.length===0)return[1,1,1];let m=1;for(let l=0;l<p.length-2;++l)m*=p[l];return[m,p.length>1?p[p.length-2]:1,p[p.length-1]]},o.isReshapeCheap=function(p,m){let l=!1;return l=p.length===0||m.length===0||(p.length<2||m.length<2?p[p.length-1]===m[m.length-1]:p[p.length-1]===m[m.length-1]&&p[p.length-2]===m[m.length-2]),l}},8126:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.reshape=void 0;const y=c(7273);o.reshape=(d,f)=>{const g=y.ShapeUtil.calculateReshapedDims(f[0].dims,f[1].integerData);return d.session.pack?[d.reshapePacked(f[0],g)]:[d.reshapeUnpacked(f[0],g)]}},2801:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseResizeAttributesV11=o.parseResizeAttributesV10=o.resize=void 0;const y=c(6757),d=c(5639),f=c(432),g=c(5614),p=c(3980),m={name:"Resize",inputNames:["A"],inputTypes:[d.TextureType.packed]};o.resize=(t,r,u)=>((0,p.validateInputs)(r,u),[t.run(Object.assign(Object.assign({},m),{cacheHint:u.cacheKey,get:()=>l(t,r,u)}),r)]),o.parseResizeAttributesV10=t=>(0,p.parseUpsampleAttributes)(t,10),o.parseResizeAttributesV11=t=>(0,p.parseUpsampleAttributes)(t,11);const l=(t,r,u)=>{const h=(0,y.getGlsl)(t.session.backend.glContext.version),[b,_]=a(r,u);if(b.every(Q=>Q===1)&&u.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},m),{output:{dims:_,type:r[0].type,textureType:d.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${h.texture2D}(X, TexCoords);
                    ${h.output} = v;
                }`});const x=_.length;if(x<2)throw new Error(`output dimension should be at least 2, but got ${x}`);const O=_[x-2],S=_[x-1],I=r[0].dims;if(x!==I.length)throw new Error(`output dimension should match input ${I.length}, but got ${x}`);const A=I[x-2],R=I[x-1],j=b[x-2],U=b[x-1];let G="";if(u.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${u.mode}'`);switch(u.coordinateTransformMode){case"asymmetric":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${S}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${O}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${S}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${O}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${S}.0 - 1.0, ${O}.0 - 1.0, ${S}.0 - 1.0,
                            ${O}.0 - 1.0);
                        vec4 original = vec4(${R}.0 - 1.0, ${A}.0 - 1.0, ${R}.0 - 1.0,
                            ${A}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${u.coordinateTransformMode}'`)}const X=(0,f.getCoordsDataType)(x),$=`
            const vec2 inputWH = vec2(${A}.0, ${R}.0);
            const vec4 scaleWHWH = vec4(float(${j}), float(${U}), float(${j}), float(${U}));
            ${(0,g.unpackFromChannel)()}
            ${G}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${X} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${O-1};
                bool hasNextCol = rc.z < ${S-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${h.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},m),{output:{dims:_,type:r[0].type,textureType:d.TextureType.packed},hasMain:!0,shaderSource:$})},a=(t,r)=>{const u=t[0].dims;let h,b=r.scales;if(b.length===0){const x=t[r.scalesInputIdx];if(x&&x.size!==0){if(t[r.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");b=n(x,r.mode,r.isResize)}else{const O=t[r.sizesInputIdx];if(!O||O.size===0)throw new Error("Either scales or sizes MUST be provided as input.");h=Array.from(O.integerData),b=e(h,u,r.mode,r.isResize)}}else if(t[r.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const _=h||u.map((x,O)=>Math.floor(x*b[O]));return[b,_]},n=(t,r,u)=>{const h=Array.from(t.floatData);return(0,p.scalesValidation)(h,r,u),h},e=(t,r,u,h)=>{const b=r.length,_=new Array(b);for(let x=0,O=b;x<O;x++)if(r[x]===0){if(t[x]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");_[x]=1}else _[x]=t[x]/r[x];return(0,p.scalesValidation)(_,u,h),_}},565:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.shape=void 0;const y=c(9240);o.shape=(f,g)=>(d(g),[new y.Tensor([g[0].dims.length],"int32",void 0,void 0,new Int32Array(g[0].dims))]);const d=f=>{if(!f||f.length!==1)throw new Error("Shape requires 1 input.")}},2444:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.sliceV10=o.parseSliceAttributes=o.slice=void 0;const y=c(4910),d=c(6145),f=c(7273),g=c(5639),p={name:"Slice",inputNames:["A"],inputTypes:[g.TextureType.unpacked]};o.slice=(e,t,r)=>(l(t),[e.run(Object.assign(Object.assign({},p),{cacheHint:r.cacheKey,get:()=>m(e,t[0],r)}),t)]),o.parseSliceAttributes=e=>{const t=e.attributes.getInts("starts"),r=e.attributes.getInts("ends"),u=e.attributes.getInts("axes",[]);return(0,y.createAttributeWithCacheKey)({starts:t,ends:r,axes:u})};const m=(e,t,r)=>{const u=r.axes.length===0?t.dims.slice(0).map((I,A)=>A):r.axes,h=f.ShapeUtil.normalizeAxes(u,t.dims.length),b=r.starts.map((I,A)=>I>t.dims[h[A]]-1?t.dims[h[A]]:f.ShapeUtil.normalizeAxis(I,t.dims[h[A]])),_=r.ends.map((I,A)=>I>t.dims[h[A]]-1?t.dims[h[A]]:f.ShapeUtil.normalizeAxis(I,t.dims[h[A]])),x=t.dims.slice(),O=[];for(let I=0;I<h.length;I++)x[h[I]]=_[I]-b[I],b[I]>0&&O.push(`outputIdx[${h[I]}] += ${b[I]};`);const S=`
      float process(int outputIdx[${x.length}]) {
        ${O.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},p),{output:{dims:x,type:t.type,textureType:g.TextureType.unpacked},shaderSource:S})},l=e=>{if(!e||e.length!==1)throw new Error("Slice requires 1 input.");if(d.NUMBER_TYPES.indexOf(e[0].type)===-1)throw new Error("Invalid input type.")};o.sliceV10=(e,t)=>{n(t);const r=a(e,t);return[e.run(Object.assign(Object.assign({},p),{cacheHint:r.cacheKey,get:()=>m(e,t[0],r)}),[t[0]])]};const a=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some(b=>b!==1))throw new Error("currently non-1 steps is not supported for Slice");const r=Array.from(t[1].integerData),u=Array.from(t[2].integerData),h=t.length>=4?Array.from(t[3].integerData):[];return{starts:r,ends:u,axes:h,cacheKey:`${h};${r};${u}`}},n=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if(e[1].type!=="int32"||e[1].dims.length!==1)throw new Error("Invalid input type.");if(e[2].type!=="int32"||e[2].dims.length!==1)throw new Error("Invalid input type.");if(e.length>=4&&(e[3].type!=="int32"||e[3].dims.length!==1))throw new Error("Invalid input type.");if(e.length>=5&&(e[4].type!=="int32"||e[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.softmaxV13=o.parseSoftmaxAttributesV13=o.parseSoftmaxAttributes=o.softmax=void 0;const y=c(4910),d=c(7273),f=c(6757),g=c(5639),p=c(5707),m={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[g.TextureType.unpacked]},l={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked]},a={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked,g.TextureType.unpacked]};o.softmax=(h,b,_)=>{u(b);const x=b[0].dims.slice(),O=d.ShapeUtil.normalizeAxis(_.axis,x.length),S=d.ShapeUtil.sizeToDimension(x,O),I=d.ShapeUtil.sizeFromDimension(x,O);return n(h,b,_,S,I)},o.parseSoftmaxAttributes=h=>(0,y.createAttributeWithCacheKey)({axis:h.attributes.getInt("axis",1)}),o.parseSoftmaxAttributesV13=h=>(0,y.createAttributeWithCacheKey)({axis:h.attributes.getInt("axis",-1)}),o.softmaxV13=(h,b,_)=>{u(b);const x=b[0].dims.slice(),O=d.ShapeUtil.normalizeAxis(_.axis,x.length),S=x.length,I=O!==S-1,A=[];let R,j=[],U=[];I&&(j=Array.from({length:S}).map((Q,C)=>C),j[O]=S-1,j[S-1]=O,j.map(Q=>A.push(x[Q])),R=(0,y.createAttributeWithCacheKey)({perm:j}),U=(0,p.transpose)(h,b,R));const G=I?d.ShapeUtil.sizeToDimension(A,S-1):d.ShapeUtil.sizeToDimension(x,S-1),X=I?d.ShapeUtil.sizeFromDimension(A,S-1):d.ShapeUtil.sizeFromDimension(x,S-1),$=n(h,I?U:b,_,G,X);return I?(0,p.transpose)(h,$,R):$};const n=(h,b,_,x,O)=>{const S=e(h,b[0],x,O,[x]),I=h.run(Object.assign(Object.assign({},m),{cacheHint:_.cacheKey,get:()=>S}),b),A=t(h,b[0],x,O,S.output.dims,[x]),R=h.run(Object.assign(Object.assign({},l),{cacheHint:_.cacheKey,get:()=>A}),[b[0],I]),j=r(h,b[0],x,O,S.output.dims,A.output.dims);return[h.run(Object.assign(Object.assign({},a),{cacheHint:_.cacheKey,get:()=>j}),[b[0],I,R])]},e=(h,b,_,x,O)=>{const[S,I]=h.calculateTextureWidthAndHeight(b.dims,g.TextureType.unpacked),A=O.length;if(_<1||x<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(O.length!==1)throw new Error("Dimensionality of the output should be 1");if(O[0]!==_)throw new Error("Shape of the output should be equal to logical row count");const R=(0,f.getGlsl)(h.session.backend.glContext.version),j=`
      float process(int[${A}] indices) {
        int logical_row_start_offset = indices[0] * ${x};

        float max = getColorAsFloat(${R.texture2D}(A, offsetToCoords(logical_row_start_offset, ${S},
        ${I} )));
        for(int i=1; i<${x}; ++i)
        {
          float current = getColorAsFloat(${R.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${S}, ${I})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},m),{output:{dims:O,type:b.type,textureType:g.TextureType.unpacked},shaderSource:j})},t=(h,b,_,x,O,S)=>{const[I,A]=h.calculateTextureWidthAndHeight(b.dims,g.TextureType.unpacked),R=S.length;if(_<1||x<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(S.length!==1)throw new Error("Dimensionality of the output should be 1");if(S[0]!==_)throw new Error("Shape of the output should be equal to logical row count");if(O.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(O[0]!==_)throw new Error("Shape of the intermediate results should be equal to logical row count");const j=`
      float process(int[${R}] indices) {
        int logical_row_start_offset = indices[0] * ${x};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${x}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,f.getGlsl)(h.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${I}, ${A}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},l),{output:{dims:S,type:b.type,textureType:g.TextureType.unpacked},shaderSource:j})},r=(h,b,_,x,O,S)=>{const[I,A]=h.calculateTextureWidthAndHeight(b.dims,g.TextureType.unpacked),R=b.dims.length;if(_<1||x<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(O.length!==1||S.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(O[0]!==_||S[0]!==_)throw new Error("Shape of the intermediate results should be equal to logical row count");const j=`
      float process(int[${R}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${I}, ${A});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${x};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},a),{output:{dims:b.dims,type:b.type,textureType:g.TextureType.unpacked},shaderSource:j})},u=h=>{if(!h||h.length!==1)throw new Error("Softmax requires 1 input.");if(h[0].type!=="float32"&&h[0].type!=="float64")throw new Error("Invalid input type")}},564:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseSplitAttributes=o.split=void 0;const y=c(4910),d=c(7273),f=c(5639),g={name:"Split",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};o.split=(a,n,e)=>{l(n);const t=d.ShapeUtil.normalizeAxis(e.axis,n[0].dims.length),r=p(a,n,t,e),u=[];for(let h=0;h<r;++h)u.push(a.run(Object.assign(Object.assign({},g),{cacheHint:`${e.cacheKey};${h}`,get:()=>m(a,n[0],e,t,h)}),n));return u},o.parseSplitAttributes=a=>{const n=a.attributes.getInt("axis",0),e=a.attributes.getInts("split",[]),t=a.outputs.length;return(0,y.createAttributeWithCacheKey)({axis:n,split:e,numOutputs:t})};const p=(a,n,e,t)=>{const[,r]=d.SplitUtil.splitShape(n[0].dims,e,t.split,t.numOutputs);return r.length},m=(a,n,e,t,r)=>{const[u,h]=d.SplitUtil.splitShape(n.dims,t,e.split,e.numOutputs),b=h[r],_=u[r],x=`
      float process(int indices[${_.length}]) {
        indices[${t}] += ${b};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},g),{cacheHint:`${e.cacheKey}:${r}`,output:{dims:_,type:n.type,textureType:f.TextureType.unpacked},shaderSource:x})},l=a=>{if(!a||a.length!==1)throw new Error("Split requires one input.");if(a[0].type!=="int8"&&a[0].type!=="uint8"&&a[0].type!=="int16"&&a[0].type!=="uint16"&&a[0].type!=="int32"&&a[0].type!=="uint32"&&a[0].type!=="float32"&&a[0].type!=="float64"&&a[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseSqueezeAttributes=o.squeezeV13=o.squeeze=void 0;const y=c(7273);o.squeeze=(g,p,m)=>{d(p);const l=y.ShapeUtil.squeezeShape(p[0].dims,m);return[g.reshapeUnpacked(p[0],l)]},o.squeezeV13=(g,p)=>(f(p),(0,o.squeeze)(g,[p[0]],Array.from(p[1].integerData))),o.parseSqueezeAttributes=g=>g.attributes.getInts("axes");const d=g=>{if(!g||g.length!==1)throw new Error("Squeeze requires 1 input.");if(g[0].type==="string")throw new Error("invalid input tensor types.")},f=g=>{if(!g||g.length!==2)throw new Error("Squeeze requires 2 inputs.");if(g[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.sum=void 0;const y=c(6757),d=c(5639);o.sum=(p,m)=>{g(m);const l={name:"Sum",inputNames:m.map((a,n)=>`X${n}`),inputTypes:new Array(m.length).fill(d.TextureType.unpacked)};return[p.run(Object.assign(Object.assign({},l),{get:()=>f(p,m,l)}),m)]};const f=(p,m,l)=>{const a=(0,y.getGlsl)(p.session.backend.glContext.version),n=m[0].dims.slice(),e=`
      void main() {
        vec4 result = ${m.map((t,r)=>`${a.texture2D}(X${r},TexCoords)`).join(" + ")};
        ${a.output} = result;
      }
    `;return Object.assign(Object.assign({},l),{output:{dims:n,type:m[0].type,textureType:d.TextureType.unpacked},hasMain:!0,shaderSource:e})},g=p=>{if(!p||p.length===0)throw new Error("Sum requires inputs.");const m=p[0].dims.length;for(let l=1;l<p.length;l++){if(m!==p[l].dims.length)throw new Error("Input shapes are mismatched.");for(let a=0;a<m;a++)if(p[0].dims[a]!==p[l].dims[a])throw new Error("Input shapes are not matched.")}if(p[0].type!=="float32"&&p[0].type!=="float64")throw new Error("Invalid input type.");for(let l=1;l<p.length;l++)if(p[0].type!==p[l].type)throw new Error("Input types are not matched.")}},5944:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tile=void 0;const y=c(6145),d=c(5639);o.tile=(p,m)=>{g(m);const l={name:"Tile",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};return[p.run(Object.assign(Object.assign({},l),{get:()=>f(p,m,l)}),m)]};const f=(p,m,l)=>{const a=m[0].dims.slice(),n=new Array(a.length),e=[];for(let u=0;u<a.length;u++)n[u]=a[u]*m[1].numberData[u],e.push(`inputIdx[${u}] = int(mod(float(outputIdx[${u}]), ${a[u]}.));`);const t=n.length,r=`
      float process(int outputIdx[${t}]) {
        int inputIdx[${t}];
        ${e.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},l),{output:{dims:n,type:m[0].type,textureType:d.TextureType.unpacked},shaderSource:r})},g=p=>{if(!p||p.length!==2)throw new Error("Tile requires 2 input.");if(p[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(p[1].dims[0]!==p[0].dims.length)throw new Error("Invalid input shape.");if(y.NUMBER_TYPES.indexOf(p[0].type)===-1)throw new Error("Invalid input type.");if(p[1].type!=="int32"&&p[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseTransposeAttributes=o.transpose=void 0;const y=c(4910),d=c(7273),f=c(5639),g={name:"Transpose",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};o.transpose=(e,t,r)=>(n(t),[e.run(Object.assign(Object.assign({},g),{cacheHint:r.cacheKey,get:()=>p(e,t[0],r.perm)}),t)]),o.parseTransposeAttributes=e=>(0,y.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const p=(e,t,r)=>{const u=t.dims;r=m(u,r);const h=l(u,r),b=u.length,_=`
      ${a("perm",r,b)}
      float process(int indices[${b}]) {
        int a[${b}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},g),{output:{dims:h,type:t.type,textureType:f.TextureType.unpacked},shaderSource:_})},m=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),l=(e,t)=>(t=m(e,t),d.ShapeUtil.sortBasedOnPerm(e,t)),a=(e,t,r)=>{const u=[];u.push(`void ${e}(out int a[${r}], int src[${r}]) {`);for(let h=0;h<r;++h)u.push(`	a[${t[h]}]=src[${h}];`);return u.push("	}"),u.join(`
`)},n=e=>{if(!e||e.length!==1)throw new Error("Transpose requires 1 input.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.encodeAsUint8=void 0;const y=c(6757),d=c(5639);o.encodeAsUint8=(f,g)=>{const p=g.shape,m=(0,y.getGlsl)(f.session.backend.glContext.version),l=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${m.texture2D}(X,TexCoords).r;
      ${m.output} = encodeAsUint8(value);
    }`,a={name:"Uint8Encode",inputTypes:[d.TextureType.unpacked],inputNames:["X"],output:{dims:p,type:g.tensor.type,textureType:d.TextureType.downloadUint8AsFloat},shaderSource:l,hasMain:!0};return f.executeProgram(a,[g.tensor])}},9087:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tanh=o.tan=o.sqrt=o.sin=o.sigmoid=o.relu=o.not=o.neg=o.log=o.parseLeakyReluAttributes=o.leakyRelu=o.identity=o.floor=o.exp=o.parseEluAttributes=o.elu=o.cos=o.ceil=o.clipV11=o.parseClipAttributes=o.clip=o.atan=o.asin=o.acos=o.abs=o.glslTanh=o.glslTan=o.glslSqrt=o.glslSigmoid=o.glslRelu=o.glslSin=o.glslNot=o.glslNeg=o.glslLog=o.glslLeakyRelu=o.glslIdentity=o.glslClip=o.glslFloor=o.glslExp=o.glslElu=o.glslCos=o.glslCeil=o.glslAtan=o.glslAsin=o.glslAcos=o.glslAbs=void 0;const y=c(4910),d=c(7273),f=c(1997),g=c(6757),p=c(5639);function m(){return $("abs")}function l(){return $("acos")}function a(){return $("asin")}function n(){return $("atan")}function e(){return $("ceil")}function t(){return $("cos")}function r(F){const Z="elu";return{body:`
  const float alpha = float(${F});

  float ${Z}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Z}_(vec4 v) {
    return vec4(${Z}_(v.x), ${Z}_(v.y), ${Z}_(v.z), ${Z}_(v.w));
  }
  `,name:Z,type:f.FunctionType.ValueBased}}function u(){return $("exp")}function h(){return $("floor")}function b(F,Z){const le="clip";return{body:`
  const float min = float(${F});
  const float max = float(${Z});

  float ${le}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${le}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:le,type:f.FunctionType.ValueBased}}function _(){const F="indentity";return{body:`
  float ${F}_(float a) {
    return a;
  }
  vec4 ${F}_(vec4 v) {
    return v;
  }
  `,name:F,type:f.FunctionType.ValueBased}}function x(F){const Z="leakyRelu";return{body:`
  const float alpha = float(${F});

  float ${Z}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Z}_(vec4 v) {
    return vec4(${Z}_(v.x), ${Z}_(v.y), ${Z}_(v.z), ${Z}_(v.w));
  }
  `,name:Z,type:f.FunctionType.ValueBased}}function O(){return $("log")}function S(){const F="neg";return{body:`
  float ${F}_(float a) {
    return -a;
  }
  vec4 ${F}_(vec4 v) {
    return -v;
  }
  `,name:F,type:f.FunctionType.ValueBased}}function I(){const F="not";return{body:`
  float ${F}_(float a) {
    return float( ! bool(a) );
  }
  bool ${F}_(bool a) {
    return !a;
  }
  vec4 ${F}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${F}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:F,type:f.FunctionType.ValueBased}}function A(){return $("sin")}function R(){const F="relu";return{body:`
  float ${F}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${F}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:F,type:f.FunctionType.ValueBased}}function j(){const F="sigmoid";return{body:`
  float ${F}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${F}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:F,type:f.FunctionType.ValueBased}}function U(){return $("sqrt")}function G(){return $("tan")}function X(){const F="tanh";return{body:`
  float ${F}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${F}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:F,type:f.FunctionType.ValueBased}}function $(F){return{body:`
  float ${F}_(float a) {
    return ${F}(a);
  }
  vec4 ${F}_(vec4 v) {
    return ${F}(v);
  }
  `,name:F,type:f.FunctionType.ValueBased}}o.glslAbs=m,o.glslAcos=l,o.glslAsin=a,o.glslAtan=n,o.glslCeil=e,o.glslCos=t,o.glslElu=r,o.glslExp=u,o.glslFloor=h,o.glslClip=b,o.glslIdentity=_,o.glslLeakyRelu=x,o.glslLog=O,o.glslNeg=S,o.glslNot=I,o.glslSin=A,o.glslRelu=R,o.glslSigmoid=j,o.glslSqrt=U,o.glslTan=G,o.glslTanh=X;const Q=(F,Z,le,se)=>{const ge=F.session.pack?p.TextureType.packed:p.TextureType.unpacked,ce={name:le.name,inputTypes:[ge],inputNames:["A"],cacheHint:se};return Object.assign(Object.assign({},ce),{get:()=>((ye,_e,Ie,xe)=>{const ke=ye.session.pack?p.TextureType.packed:p.TextureType.unpacked,je=(0,g.getGlsl)(ye.session.backend.glContext.version);return Object.assign(Object.assign({},_e),{output:{dims:Ie.dims,type:Ie.type,textureType:ke},shaderSource:`
     ${xe.body}
     void main() {
       vec4 v = ${je.texture2D}(A, TexCoords);
       v = ${xe.name}_(v);
       ${je.output} = v;
     }
     `,hasMain:!0})})(F,ce,Z,le)})};o.abs=(F,Z)=>[F.run(Q(F,Z[0],m()),Z)],o.acos=(F,Z)=>[F.run(Q(F,Z[0],l()),Z)],o.asin=(F,Z)=>[F.run(Q(F,Z[0],a()),Z)],o.atan=(F,Z)=>[F.run(Q(F,Z[0],n()),Z)],o.clip=(F,Z,le)=>[F.run(Q(F,Z[0],b(le.min,le.max),le.cacheKey),Z)],o.parseClipAttributes=F=>(0,y.createAttributeWithCacheKey)({min:F.attributes.getFloat("min",d.MIN_CLIP),max:F.attributes.getFloat("max",d.MAX_CLIP)}),o.clipV11=(F,Z)=>{const le=C(F,Z);return(0,o.clip)(F,[Z[0]],le)};const C=(F,Z)=>{if(Z.length>=3&&(!F.session.isInitializer(Z[1].dataId)||!F.session.isInitializer(Z[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const le=Z.length>=3?Z[1].numberData[0]:d.MIN_CLIP,se=Z.length>=3?Z[2].numberData[0]:d.MAX_CLIP;return(0,y.createAttributeWithCacheKey)({min:le,max:se})};o.ceil=(F,Z)=>[F.run(Q(F,Z[0],e()),Z)],o.cos=(F,Z)=>[F.run(Q(F,Z[0],t()),Z)],o.elu=(F,Z,le)=>[F.run(Q(F,Z[0],r(le.alpha),le.cacheKey),Z)],o.parseEluAttributes=F=>(0,y.createAttributeWithCacheKey)({alpha:F.attributes.getFloat("alpha",1)}),o.exp=(F,Z)=>[F.run(Q(F,Z[0],u()),Z)],o.floor=(F,Z)=>[F.run(Q(F,Z[0],h()),Z)],o.identity=(F,Z)=>[F.run(Q(F,Z[0],_()),Z)],o.leakyRelu=(F,Z,le)=>[F.run(Q(F,Z[0],x(le.alpha),le.cacheKey),Z)],o.parseLeakyReluAttributes=F=>(0,y.createAttributeWithCacheKey)({alpha:F.attributes.getFloat("alpha",.01)}),o.log=(F,Z)=>[F.run(Q(F,Z[0],O()),Z)],o.neg=(F,Z)=>[F.run(Q(F,Z[0],S()),Z)],o.not=(F,Z)=>[F.run(Q(F,Z[0],I()),Z)],o.relu=(F,Z)=>[F.run(Q(F,Z[0],R()),Z)],o.sigmoid=(F,Z)=>[F.run(Q(F,Z[0],j()),Z)],o.sin=(F,Z)=>[F.run(Q(F,Z[0],A()),Z)],o.sqrt=(F,Z)=>[F.run(Q(F,Z[0],U()),Z)],o.tan=(F,Z)=>[F.run(Q(F,Z[0],G()),Z)],o.tanh=(F,Z)=>[F.run(Q(F,Z[0],X()),Z)]},540:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createUnpackProgramInfoLoader=o.createUnpackProgramInfo=void 0;const y=c(6757),d=c(5639),f=c(432),g=c(5614),p={name:"unpack",inputNames:["A"],inputTypes:[d.TextureType.packed]};o.createUnpackProgramInfo=(m,l)=>{const a=l.dims.length,n=(0,g.getChannels)("rc",a),e=n.slice(-2),t=(0,f.getCoordsDataType)(a),r=(0,g.unpackFromChannel)(),u=l.dims.length===0?"":function(_,x){if(_===1)return"rc";let O="";for(let S=0;S<_;S++)O+=x[S],S<_-1&&(O+=",");return O}(a,n),h=a<=1?"rc":`vec2(${e.join(",")})`,b=`
    ${r}
    void main() {
      ${t} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${u});

       ${(0,y.getGlsl)(m.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${h}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},p),{hasMain:!0,output:{dims:l.dims,type:l.type,textureType:d.TextureType.unpacked},shaderSource:b})},o.createUnpackProgramInfoLoader=(m,l)=>Object.assign(Object.assign({},p),{get:()=>(0,o.createUnpackProgramInfo)(m,l)})},7862:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseUnsqueezeAttributes=o.unsqueezeV13=o.unsqueeze=void 0;const y=c(7273);o.unsqueeze=(g,p,m)=>{d(p);const l=y.ShapeUtil.unsqueezeShape(p[0].dims,m);return[g.reshapeUnpacked(p[0],l)]},o.unsqueezeV13=(g,p)=>(f(p),(0,o.unsqueeze)(g,[p[0]],Array.from(p[1].integerData))),o.parseUnsqueezeAttributes=g=>g.attributes.getInts("axes");const d=g=>{if(!g||g.length!==1)throw new Error("Unsqueeze requires 1 input.");if(g[0].type==="string")throw new Error("invalid input tensor types.")},f=g=>{if(!g||g.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(g[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.scalesValidation=o.validateInputs=o.parseUpsampleAttributes=o.parseUpsampleAttributesV9=o.parseUpsampleAttributesV7=o.upsample=void 0;const y=c(4910),d=c(6757),f=c(5639),g={name:"Upsample",inputNames:["X"],inputTypes:[f.TextureType.unpacked]};o.upsample=(m,l,a)=>((0,o.validateInputs)(l,a),[m.run(Object.assign(Object.assign({},g),{cacheHint:a.cacheKey,get:()=>p(m,l,a)}),l)]),o.parseUpsampleAttributesV7=m=>(0,o.parseUpsampleAttributes)(m,7),o.parseUpsampleAttributesV9=m=>(0,o.parseUpsampleAttributes)(m,9),o.parseUpsampleAttributes=(m,l)=>{const a=l>=10,n=m.attributes.getString("mode","nearest");if(n!=="nearest"&&n!=="linear"&&(l<11||n!=="cubic"))throw new Error(`unrecognized mode: ${n}`);let e=[];l<9&&(e=m.attributes.getFloats("scales"),(0,o.scalesValidation)(e,n,a));const t=m.attributes.getFloat("extrapolation_value",0),r=l>10?m.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(r)===-1)throw new Error(`coordinate_transform_mode '${r}' is not supported`);const u=r==="tf_crop_and_resize",h=u,b=n==="nearest"&&l>=11?m.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(b)===-1)throw new Error(`nearest_mode '${b}' is not supported`);const _=m.attributes.getFloat("cubic_coeff_a",-.75),x=m.attributes.getInt("exclude_outside",0)!==0;if(x&&n!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const O=l<11||n==="nearest"&&r==="asymmetric"&&b==="floor";let S=0,I=0,A=0;return l>10?m.inputs.length>2?(S=1,I=2,A=3):(I=1,A=2):l===9&&(I=1),(0,y.createAttributeWithCacheKey)({opset:l,isResize:a,mode:n,scales:e,extrapolationValue:t,coordinateTransformMode:r,useExtrapolation:h,needRoiInput:u,nearestMode:b,cubicCoefficientA:_,excludeOutside:x,useNearest2xOptimization:O,roiInputIdx:S,scalesInputIdx:I,sizesInputIdx:A})};const p=(m,l,a)=>{const n=(0,d.getGlsl)(m.session.backend.glContext.version),[e,t]=m.calculateTextureWidthAndHeight(l[0].dims,f.TextureType.unpacked),r=l[0].dims.map((A,R)=>Math.floor(A*a.scales[R])),[u,h]=m.calculateTextureWidthAndHeight(r,f.TextureType.unpacked),b=r.length,_=new Array(b),x=new Array(b);let O=`
      int output_pitches[${b}];
      int input_pitches[${b}];
      `;for(let A=b-1;A>=0;A--)_[A]=A===b-1?1:_[A+1]*r[A+1],x[A]=A===b-1?1:x[A+1]*l[0].dims[A+1],O+=`
        output_pitches[${A}] = ${_[A]};
        input_pitches[${A}] = ${x[A]};
        `;const S=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${e}, ${t});
        float value = getColorAsFloat(${n.texture2D}(X, coords));
        return value;
      }
      `,I=a.mode==="nearest"?`
    ${S}
    float process(int indices[${b}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${u}, ${h});

      ${O}

      int d, m;
      for (int dim = 0; dim < ${b}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:b===4?`
    ${S}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${u}, ${h});

      ${O}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${l[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${S}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${u}, ${h});

      ${O}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${l[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},g),{output:{dims:r,type:l[0].type,textureType:f.TextureType.unpacked},shaderSource:I,variables:[{name:"scales",type:"int",arrayLength:a.scales.length,data:a.scales.map(A=>Math.ceil(A))}]})};o.validateInputs=(m,l)=>{if(!m||l.opset<9&&m.length!==1||l.opset>=9&&l.opset<11&&m.length!==2||l.opset>=11&&m.length<2)throw new Error("invalid inputs.");if(l.scales.length>0&&m[0].dims.length!==l.scales.length)throw new Error("Invalid input shape.");if(m[0].type==="string")throw new Error("Invalid input tensor types.")},o.scalesValidation=(m,l,a)=>{if(a){for(const n of m)if(n<=0)throw new Error("Scale value should be greater than 0.")}else for(const n of m)if(n<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(l!=="linear"&&l!=="cubic"||m.length===2||m.length===4&&m[0]===1&&m[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${a?"Resize":"Upsample"} opeartor.`)}},2757:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ProgramManager=void 0;const y=c(2235),d=c(1315),f=c(8897),g=c(6757);o.ProgramManager=class{constructor(p,m,l){this.profiler=p,this.glContext=m,this.textureLayoutStrategy=l,this.repo=new Map,this.attributesBound=!1}getArtifact(p){return this.repo.get(p)}setArtifact(p,m){this.repo.set(p,m)}run(p,m,l){var a;this.profiler.event("op",`ProgramManager.run ${(a=p.programInfo.name)!==null&&a!==void 0?a:"unknown kernel"}`,()=>{var n;const e=this.glContext.gl,t=p.program;e.useProgram(t);try{this.bindOutput(l),this.attributesBound||this.bindAttributes(p.attribLocations),this.bindUniforms(p.uniformLocations,(n=p.programInfo.variables)!==null&&n!==void 0?n:[],m)}catch(r){throw d.Logger.error("ProgramManager",p.programInfo.shaderSource),r}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(p=>this.glContext.deleteProgram(p.program))}build(p,m,l){return this.profiler.event("backend","ProgramManager.build",()=>{const a=new f.GlslPreprocessor(this.glContext,p,m,l),n=a.preprocess(),e=this.compile(n);return{programInfo:p,program:e,uniformLocations:this.getUniformLocations(e,a.context.programInfo.inputNames,a.context.programInfo.variables),attribLocations:this.getAttribLocations(e)}})}compile(p){if(!this.vertexShader){d.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const a=(0,g.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(a,this.glContext.gl.VERTEX_SHADER)}y.env.debug&&d.Logger.verbose("ProrgramManager",`FragShader:
${p}
`);const m=this.glContext.compileShader(p,this.glContext.gl.FRAGMENT_SHADER),l=this.glContext.createProgram(this.vertexShader,m);return this.glContext.deleteShader(m),l}bindOutput(p){const m=p.width,l=p.height;d.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${m}/${l}, shape=${p.shape}, type=${p.tensor.type}`),this.glContext.attachFramebuffer(p.texture,m,l)}bindAttributes(p){const m=p.position,l=p.textureCoord;this.glContext.setVertexAttributes(m,l),this.attributesBound=!0}bindUniforms(p,m,l){var a;const n=this.glContext.gl;let e=0;for(const{name:t,type:r,location:u,arrayLength:h}of p){const b=(a=m.find(_=>_.name===t))===null||a===void 0?void 0:a.data;if(r!=="sampler2D"&&!b)throw new Error(`variable '${t}' does not have data defined in program info`);switch(r){case"sampler2D":this.bindTexture(l[e],u,e),e++;break;case"float":h?n.uniform1fv(u,b):n.uniform1f(u,b);break;case"int":h?n.uniform1iv(u,b):n.uniform1i(u,b);break;default:throw new Error(`Uniform not implemented: ${r}`)}}}bindTexture(p,m,l){this.glContext.bindTextureToUniform(p.texture,l,m)}getAttribLocations(p){return{position:this.getAttribLocation(p,"position"),textureCoord:this.getAttribLocation(p,"textureCoord")}}getUniformLocations(p,m,l){const a=[];if(m)for(const n of m)a.push({name:n,type:"sampler2D",location:this.getUniformLocation(p,n)});if(l)for(const n of l)a.push(Object.assign(Object.assign({},n),{location:this.getUniformLocation(p,n.name)}));return a}getUniformLocation(p,m){const l=this.glContext.gl.getUniformLocation(p,m);if(l===null)throw new Error(`Uniform ${m} not found.`);return l}getAttribLocation(p,m){return this.glContext.gl.getAttribLocation(p,m)}}},2171:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLSessionHandler=void 0;const y=c(1315),d=c(5881),f=c(7860),g=c(4110),p=c(2757),m=c(7618),l=c(5243);o.WebGLSessionHandler=class{constructor(a,n){this.backend=a,this.context=n,this.layoutStrategy=new m.PreferLogicalStrategy(a.glContext.maxTextureSize),this.programManager=new p.ProgramManager(this.context.profiler,a.glContext,this.layoutStrategy),this.textureManager=new l.TextureManager(a.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:a.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=a.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new f.WebGLInferenceHandler(this)}onGraphInitialized(a){const n=a.getValues().filter(e=>e.from===-1&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(n)}isInitializer(a){return!!this.initializers&&this.initializers.has(a)}addInitializer(a){this.initializers.add(a)}getTextureData(a,n){return n?this.packedTextureDataCache.get(a):this.unpackedTextureDataCache.get(a)}setTextureData(a,n,e=!1){y.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),e?this.packedTextureDataCache.set(a,n):this.unpackedTextureDataCache.set(a,n)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(a=>this.textureManager.releaseTexture(a,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(a=>this.textureManager.releaseTexture(a,!0)),this.unpackedTextureDataCache=new Map}resolve(a,n,e){const t=(0,d.resolveOperator)(a,n,g.WEBGL_OP_RESOLVE_RULES);return{impl:t.opImpl,context:t.opInit?t.opInit(a,e):a}}}},9622:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Uint8DataEncoder=o.RGBAFloatDataEncoder=o.RedFloat32DataEncoder=void 0;const y=c(1315);o.RedFloat32DataEncoder=class{constructor(d,f=1){if(f===1)this.internalFormat=d.R32F,this.format=d.RED,this.textureType=d.FLOAT,this.channelSize=f;else{if(f!==4)throw new Error(`Invalid number of channels: ${f}`);this.internalFormat=d.RGBA32F,this.format=d.RGBA,this.textureType=d.FLOAT,this.channelSize=f}}encode(d,f){let g,p;return d.constructor!==Float32Array&&(y.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),p=new Float32Array(d)),f*this.channelSize>d.length?(y.Logger.warning("Encoder","Source data too small. Allocating larger array"),p=d,g=this.allocate(f*this.channelSize),p.forEach((m,l)=>g[l]=m)):(p=d,g=p),g}allocate(d){return new Float32Array(4*d)}decode(d,f){return this.channelSize===1?d.filter((g,p)=>p%4==0).subarray(0,f):d.subarray(0,f)}},o.RGBAFloatDataEncoder=class{constructor(d,f=1,g){if(f!==1&&f!==4)throw new Error(`Invalid number of channels: ${f}`);this.internalFormat=d.RGBA,this.format=d.RGBA,this.channelSize=f,this.textureType=g||d.FLOAT}encode(d,f){let g=d;return this.channelSize===1&&(y.Logger.verbose("Encoder","Exploding into a larger array"),g=this.allocate(f),d.forEach((p,m)=>g[4*m]=p)),g}allocate(d){return new Float32Array(4*d)}decode(d,f){return this.channelSize===1?d.filter((g,p)=>p%4==0).subarray(0,f):d.subarray(0,f)}},o.Uint8DataEncoder=class{constructor(d,f=1){if(this.channelSize=4,f===1)this.internalFormat=d.ALPHA,this.format=d.ALPHA,this.textureType=d.UNSIGNED_BYTE,this.channelSize=f;else{if(f!==4)throw new Error(`Invalid number of channels: ${f}`);this.internalFormat=d.RGBA,this.format=d.RGBA,this.textureType=d.UNSIGNED_BYTE,this.channelSize=f}}encode(d,f){return new Uint8Array(d.buffer,d.byteOffset,d.byteLength)}allocate(d){return new Uint8Array(d*this.channelSize)}decode(d,f){if(d instanceof Uint8Array)return d.subarray(0,f);throw new Error(`Invalid array type: ${d.constructor}`)}}},7618:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getBatchDim=o.sizeToSquarishShape=o.getRowsCols=o.sizeFromShape=o.isInt=o.parseAxisParam=o.squeezeShape=o.PreferLogicalStrategy=o.AlwaysKeepOriginalSizeStrategy=void 0;const y=c(1315),d=c(7273);function f(a,n){const e=[],t=[],r=n!=null&&Array.isArray(n)&&n.length===0,u=n==null||r?null:g(n,a).sort();let h=0;for(let b=0;b<a.length;++b){if(u!=null){if(u[h]===b&&a[b]!==1)throw new Error(`Can't squeeze axis ${b} since its dim '${a[b]}' is not 1`);(u[h]==null||u[h]>b)&&a[b]===1&&(e.push(a[b]),t.push(b)),u[h]<=b&&h++}a[b]!==1&&(e.push(a[b]),t.push(b))}return{newShape:e,keptDims:t}}function g(a,n){const e=n.length;return a=a==null?n.map((t,r)=>r):[].concat(a),(0,d.assert)(a.every(t=>t>=-e&&t<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${a}`),(0,d.assert)(a.every(p),()=>`All values in axis param must be integers but got axis ${a}`),a.map(t=>t<0?e+t:t)}function p(a){return a%1==0}function m(a){if(a.length===0)return 1;let n=a[0];for(let e=1;e<a.length;e++)n*=a[e];return n}function l(a){const n=Math.ceil(Math.sqrt(a));return[n,Math.ceil(a/n)]}o.AlwaysKeepOriginalSizeStrategy=class{constructor(a){this.maxTextureSize=a}computeTextureWH(a,n){if(a.length===0)return[1,1];const e=this.maxTextureSize;if(n&&n.breakAxis!==void 0){const u=n.breakAxis>=a.length?1:a.slice(n.breakAxis).reduce((b,_)=>b*_),h=n.breakAxis<=0?1:a.slice(0,n.breakAxis).reduce((b,_)=>b*_);if(!(u>e||h>e))return[u,h];y.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${a}, breakAxis:${n.breakAxis}`)}const t=a.reduce((u,h)=>u*h);let r=Math.floor(Math.sqrt(t));for(;r<e&&r<t&&t%r!=0;r++);if(r>=e||t%r!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${a}`);return[r,t/r]}},o.PreferLogicalStrategy=class{constructor(a){this.maxTextureSize=a}computeTextureWH(a,n){const e=this.computeTexture(a,n);return n&&n.isPacked&&(e[0]/=2,e[1]/=2),n&&n.reverseWH?[e[1],e[0]]:e}computeTexture(a,n){const e=n&&n.isPacked;if(a.length===0)return e?[2,2]:[1,1];let t=this.maxTextureSize;if(n&&n.breakAxis!==void 0){const h=n.breakAxis>=a.length?1:a.slice(n.breakAxis).reduce((_,x)=>_*x),b=n.breakAxis<=0?1:a.slice(0,n.breakAxis).reduce((_,x)=>_*x);if(!(h>t||b>t))return[h,b];y.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${a}, breakAxis:${n.breakAxis}`)}let r=a.slice(0);e&&(t*=2,r=r.map((h,b)=>b>=r.length-2?r[b]%2==0?r[b]:r[b]+1:r[b]),r.length===1&&(r=[2,r[0]])),r.length!==2&&(r=f(r).newShape);const u=m(r);return r.length<=1&&u<=t?[1,u]:r.length===2&&r[0]<=t&&r[1]<=t?r:r.length===3&&r[0]*r[1]<=t&&r[2]<=t?[r[0]*r[1],r[2]]:r.length===3&&r[0]<=t&&r[1]*r[2]<=t?[r[0],r[1]*r[2]]:r.length===4&&r[0]*r[1]*r[2]<=t&&r[3]<=t?[r[0]*r[1]*r[2],r[3]]:r.length===4&&r[0]<=t&&r[1]*r[2]*r[3]<=t?[r[0],r[1]*r[2]*r[3]]:e?l(u/4).map(h=>2*h):l(u)}},o.squeezeShape=f,o.parseAxisParam=g,o.isInt=p,o.sizeFromShape=m,o.getRowsCols=function(a){if(a.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[a.length>1?a[a.length-2]:1,a[a.length-1]]},o.sizeToSquarishShape=l,o.getBatchDim=function(a,n=2){return m(a.slice(0,a.length-n))}},3314:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createTextureLayoutFromShape=o.calculateTextureWidthAndHeight=o.createTextureLayoutFromTextureType=void 0;const y=c(7273),d=c(5639);o.createTextureLayoutFromTextureType=(f,g,p)=>{const m=p===d.TextureType.unpacked||p===d.TextureType.unpackedReversed?1:4,l=p===d.TextureType.packed,a=p===d.TextureType.unpackedReversed||p===d.TextureType.packed,n=p===d.TextureType.packedLastDimension?g.length-1:void 0,e=p===d.TextureType.packedLastDimension?g.map((t,r)=>r===g.length-1?4*t:t):void 0;return(0,o.createTextureLayoutFromShape)(f,g,m,e,{isPacked:l,reverseWH:a,breakAxis:n})},o.calculateTextureWidthAndHeight=(f,g,p)=>{const m=(0,o.createTextureLayoutFromTextureType)(f,g,p);return[m.width,m.height]},o.createTextureLayoutFromShape=(f,g,p=1,m,l)=>{const a=!(!l||!l.isPacked),[n,e]=f.computeTextureWH(a&&m||g,l),t=g.length;let r=g.slice(0);if(t===0&&(r=[1]),p===1)m=g;else if(a){if(p!==4)throw new Error("a packed texture must be 4-channel");m=g,t>0&&(r[t-1]=Math.ceil(r[t-1]/2)),t>1&&(r[t-2]=Math.ceil(r[t-2]/2))}else if(!m)throw new Error("Unpacked shape is needed when using channels > 1");return{width:n,height:e,channels:p,isPacked:a,shape:r,strides:y.ShapeUtil.computeStrides(r),unpackedShape:m,reversedWH:l&&l.reverseWH}}},5243:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextureManager=void 0;const y=c(1315);o.TextureManager=class{constructor(d,f,g,p){this.glContext=d,this.layoutStrategy=f,this.profiler=g,this.config=p,this.pendingRead=new Map,p.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(d,f,g,p){const m=this.toEncoderType(d),l=this.glContext.getEncoder(m,f.channels||1,p);if(f.isPacked&&p===1)throw new Error("not implemented");const a=f.width,n=f.height;let e,t;if(this.config.reuseTextures){e=`${a}x${n}_${l.format}_${l.internalFormat}_${l.textureType}`,t=this.inUseTextures.get(e),t||(t=[],this.inUseTextures.set(e,t));const u=this.idleTextures.get(e);if(u&&u.length>0){const h=u.pop();return t.push(h),p===1&&this.glContext.updateTexture(h,a,n,l,this.toTextureData(d,g)),h}}y.Logger.verbose("TextureManager",`Creating new texture of size ${f.width}x${f.height}`);const r=this.glContext.allocateTexture(a,n,l,this.toTextureData(d,g));return this.config.reuseTextures&&(t.push(r),this.textureLookup.set(r,e)),r}readTexture(d,f,g){return g||(g=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const p=d.shape.reduce((l,a)=>l*a)*g,m=this.glContext.readTexture(d.texture,d.width,d.height,p,this.toEncoderType(f),g);return this.toTensorData(f,m)})}async readTextureAsync(d,f,g){const p=d.tensor.dataId;if(g||(g=1),this.pendingRead.has(p)){const m=this.pendingRead.get(p);return new Promise(l=>m==null?void 0:m.push(l))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(p,[]);const m=d.shape.reduce((e,t)=>e*t)*g;await this.glContext.createAndWaitForFence();const l=this.glContext.readTexture(d.texture,d.width,d.height,m,this.toEncoderType(f),g),a=this.toTensorData(f,l),n=this.pendingRead.get(p);return this.pendingRead.delete(p),n==null||n.forEach(e=>e(a)),a})}readUint8TextureAsFloat(d){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const f=d.shape.reduce((p,m)=>p*m),g=this.glContext.readTexture(d.texture,d.width,d.height,4*f,"byte",4);return new Float32Array(g.buffer,g.byteOffset,f)})}releaseTexture(d,f){let g;if(this.config.reuseTextures&&(g=this.textureLookup.get(d.texture),g)){f&&this.textureLookup.delete(g);const p=this.inUseTextures.get(g);if(p){const m=p.indexOf(d.texture);if(m!==-1){p.splice(m,1);let l=this.idleTextures.get(g);l||(l=[],this.idleTextures.set(g,l)),l.push(d.texture)}}}g&&!f||(y.Logger.verbose("TextureManager",`Deleting texture of size ${d.width}x${d.height}`),this.glContext.deleteTexture(d.texture))}toTensorData(d,f){switch(d){case"int16":return f instanceof Int16Array?f:Int16Array.from(f);case"int32":return f instanceof Int32Array?f:Int32Array.from(f);case"int8":return f instanceof Int8Array?f:Int8Array.from(f);case"uint16":return f instanceof Uint16Array?f:Uint16Array.from(f);case"uint32":return f instanceof Uint32Array?f:Uint32Array.from(f);case"uint8":case"bool":return f instanceof Uint8Array?f:Uint8Array.from(f);case"float32":return f instanceof Float32Array?f:Float32Array.from(f);case"float64":return f instanceof Float64Array?f:Float64Array.from(f);default:throw new Error(`TensorData type ${d} is not supported`)}}toTextureData(d,f){if(f)return f instanceof Float32Array?f:new Float32Array(f)}toEncoderType(d){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(w,o)=>{var c;Object.defineProperty(o,"__esModule",{value:!0}),o.TextureType=void 0,(c=o.TextureType||(o.TextureType={}))[c.unpacked=0]="unpacked",c[c.unpackedReversed=1]="unpackedReversed",c[c.packed=2]="packed",c[c.downloadUint8AsFloat=3]="downloadUint8AsFloat",c[c.packedLastDimension=4]="packedLastDimension"},432:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getGlChannels=o.getCoordsDataType=o.getSqueezedParams=o.squeezeInputShape=o.generateShaderFuncNameFromInputSamplerNameAtOutCoords=o.generateShaderFuncNameFromInputSamplerName=o.repeatedTry=o.getPackedShape=void 0;const y=c(7273);o.getPackedShape=function(d){const f=d.length;return d.slice(0,f-1).concat(d[f-1]/4)},o.repeatedTry=async function(d,f=p=>0,g){return new Promise((p,m)=>{let l=0;const a=()=>{if(d())return void p();l++;const n=f(l);g!=null&&l>=g?m():setTimeout(a,n)};a()})},o.generateShaderFuncNameFromInputSamplerName=function(d){return(0,y.assert)(d!==void 0&&d.length!==0,()=>"empty string found for sampler name"),"get"+d.charAt(0).toUpperCase()+d.slice(1)},o.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(d){return(0,y.assert)(d!==void 0&&d.length!==0,()=>"empty string found for sampler name"),"get"+d.charAt(0).toUpperCase()+d.slice(1)+"AtOutCoords"},o.squeezeInputShape=function(d,f){let g=JSON.parse(JSON.stringify(d));return g=f,g},o.getSqueezedParams=function(d,f){return f.map(g=>d[g]).join(", ")},o.getCoordsDataType=function(d){if(d<=1)return"int";if(d===2)return"ivec2";if(d===3)return"ivec3";if(d===4)return"ivec4";if(d===5)return"ivec5";if(d===6)return"ivec6";throw Error(`GPU for rank ${d} is not yet supported`)},o.getGlChannels=function(d=6){return["x","y","z","w","u","v"].slice(0,d)}},3389:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createNewWebGLContext=o.createWebGLContext=void 0;const y=c(1315),d=c(3524),f={};function g(p,m){let l;const a={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!m||m==="webgl2")&&(l=p.getContext("webgl2",a),l))try{return new d.WebGLContext(l,2)}catch(n){y.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${n}`)}if((!m||m==="webgl")&&(l=p.getContext("webgl",a)||p.getContext("experimental-webgl",a),l))try{return new d.WebGLContext(l,1)}catch(n){y.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${n}`)}throw new Error("WebGL is not supported")}o.createWebGLContext=function p(m){let l;if(m&&m!=="webgl2"||!("webgl2"in f)?m&&m!=="webgl"||!("webgl"in f)||(l=f.webgl):l=f.webgl2,!l)try{l=g(function(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),m)}catch{l=g(function(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const e=document.createElement("canvas");return e.width=1,e.height=1,e}(),m)}m=m||l.version===1?"webgl":"webgl2";const a=l.gl;return f[m]=l,a.isContextLost()?(delete f[m],p(m)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),l)},o.createNewWebGLContext=g},3524:function(w,o,c){var y=this&&this.__createBinding||(Object.create?function(a,n,e,t){t===void 0&&(t=e);var r=Object.getOwnPropertyDescriptor(n,e);r&&!("get"in r?!n.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(a,t,r)}:function(a,n,e,t){t===void 0&&(t=e),a[t]=n[e]}),d=this&&this.__setModuleDefault||(Object.create?function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}:function(a,n){a.default=n}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var e in a)e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)&&y(n,a,e);return d(n,a),n};Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLContext=o.linearSearchLastTrue=void 0;const g=c(2235),p=f(c(9622)),m=c(432);function l(a){let n=0;for(;n<a.length&&a[n]();++n);return n-1}o.linearSearchLastTrue=l,o.WebGLContext=class{constructor(a,n){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=a,this.version=n,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(a,n,e,t){const r=this.gl,u=r.createTexture();r.bindTexture(r.TEXTURE_2D,u),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const h=t?e.encode(t,a*n):null;return r.texImage2D(r.TEXTURE_2D,0,e.internalFormat,a,n,0,e.format,e.textureType,h),this.checkError(),u}updateTexture(a,n,e,t,r){const u=this.gl;u.bindTexture(u.TEXTURE_2D,a);const h=t.encode(r,n*e);u.texSubImage2D(u.TEXTURE_2D,0,0,0,n,e,t.format,t.textureType,h),this.checkError()}attachFramebuffer(a,n,e){const t=this.gl;t.bindTexture(t.TEXTURE_2D,a),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0),this.checkError(),t.viewport(0,0,n,e),t.scissor(0,0,n,e)}readTexture(a,n,e,t,r,u){const h=this.gl;u||(u=1),this.frameBufferBound||this.attachFramebuffer(a,n,e);const b=this.getEncoder(r,u),_=b.allocate(n*e);return h.bindTexture(h.TEXTURE_2D,a),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,a,0),h.readPixels(0,0,n,e,h.RGBA,b.textureType,_),this.checkError(),b.decode(_,t)}isFramebufferReady(){return!0}getActiveTexture(){const a=this.gl;return"TEXTURE"+(a.getParameter(this.gl.ACTIVE_TEXTURE)-a.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(a,n){const e=this.gl;e.vertexAttribPointer(a,3,e.FLOAT,!1,20,0),e.enableVertexAttribArray(a),n!==-1&&(e.vertexAttribPointer(n,2,e.FLOAT,!1,20,12),e.enableVertexAttribArray(n)),this.checkError()}createProgram(a,n){const e=this.gl,t=e.createProgram();return e.attachShader(t,a),e.attachShader(t,n),e.linkProgram(t),t}compileShader(a,n){const e=this.gl,t=e.createShader(n);if(!t)throw new Error(`createShader() returned null with type ${n}`);if(e.shaderSource(t,a),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${e.getShaderInfoLog(t)}
Shader source:
${a}`);return t}deleteShader(a){this.gl.deleteShader(a)}bindTextureToUniform(a,n,e){const t=this.gl;t.activeTexture(t.TEXTURE0+n),this.checkError(),t.bindTexture(t.TEXTURE_2D,a),this.checkError(),t.uniform1i(e,n),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(g.env.debug){const a=this.gl,n=a.getError();let e="";switch(n){case a.NO_ERROR:return;case a.INVALID_ENUM:e="INVALID_ENUM";break;case a.INVALID_VALUE:e="INVALID_VALUE";break;case a.INVALID_OPERATION:e="INVALID_OPERATION";break;case a.INVALID_FRAMEBUFFER_OPERATION:e="INVALID_FRAMEBUFFER_OPERATION";break;case a.OUT_OF_MEMORY:e="OUT_OF_MEMORY";break;case a.CONTEXT_LOST_WEBGL:e="CONTEXT_LOST_WEBGL";break;default:e=`Unknown WebGL Error: ${n.toString(16)}`}throw new Error(e)}}deleteTexture(a){this.gl.deleteTexture(a)}deleteProgram(a){this.gl.deleteProgram(a)}getEncoder(a,n,e=0){if(this.version===2)return new p.RedFloat32DataEncoder(this.gl,n);switch(a){case"float":return e===1||this.isRenderFloat32Supported?new p.RGBAFloatDataEncoder(this.gl,n):new p.RGBAFloatDataEncoder(this.gl,n,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new p.Uint8DataEncoder(this.gl,n);default:throw new Error(`Invalid dataType: ${a}`)}}clearActiveTextures(){const a=this.gl;for(let n=0;n<this.maxTextureImageUnits;++n)a.activeTexture(a.TEXTURE0+n),a.bindTexture(a.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(this.framebuffer),a.bindBuffer(a.ARRAY_BUFFER,null),a.deleteBuffer(this.vertexbuffer),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null),a.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const a=this.gl,n=a.createBuffer();if(!n)throw new Error("createBuffer() returned null");const e=this.createDefaultGeometry();return a.bindBuffer(a.ARRAY_BUFFER,n),a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW),this.checkError(),n}createFramebuffer(){const a=this.gl.createFramebuffer();if(!a)throw new Error("createFramebuffer returned null");return a}queryVitalParameters(){const a=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const a=this.gl,n=a.createTexture();a.bindTexture(a.TEXTURE_2D,n);const e=this.version===2?a.RGBA32F:a.RGBA;a.texImage2D(a.TEXTURE_2D,0,e,1,1,0,a.RGBA,a.FLOAT,null);const t=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,t),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,n,0);const r=a.checkFramebufferStatus(a.FRAMEBUFFER)===a.FRAMEBUFFER_COMPLETE;return a.bindTexture(a.TEXTURE_2D,null),a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteTexture(n),a.deleteFramebuffer(t),r}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const a=this.gl;let n,e,t,r,u;try{n=a.createTexture(),e=a.createFramebuffer(),a.bindTexture(a.TEXTURE_2D,n);const h=this.version===2?a.RGBA32F:a.RGBA;return a.texImage2D(a.TEXTURE_2D,0,h,1,1,0,a.RGBA,a.FLOAT,null),a.bindFramebuffer(a.FRAMEBUFFER,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,n,0),a.enable(a.BLEND),t=a.createShader(a.VERTEX_SHADER),!!t&&(a.shaderSource(t,"void main(){}"),a.compileShader(t),r=a.createShader(a.FRAGMENT_SHADER),!!r&&(a.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),a.compileShader(r),u=a.createProgram(),!!u&&(a.attachShader(u,t),a.attachShader(u,r),a.linkProgram(u),a.useProgram(u),a.drawArrays(a.POINTS,0,1),a.getError()===a.NO_ERROR)))}finally{a.disable(a.BLEND),u&&a.deleteProgram(u),t&&a.deleteShader(t),r&&a.deleteShader(r),e&&(a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(e)),n&&(a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(n))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const a=this.gl,n=this.disjointTimerQueryWebgl2Extension,e=a.createQuery();return a.beginQuery(n.TIME_ELAPSED_EXT,e),e}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const a=this.gl,n=this.disjointTimerQueryWebgl2Extension;a.endQuery(n.TIME_ELAPSED_EXT)}}isTimerResultAvailable(a){let n=!1,e=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const t=this.gl,r=this.disjointTimerQueryWebgl2Extension;n=t.getQueryParameter(a,t.QUERY_RESULT_AVAILABLE),e=t.getParameter(r.GPU_DISJOINT_EXT)}return n&&!e}getTimerResult(a){let n=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl;n=e.getQueryParameter(a,e.QUERY_RESULT),e.deleteQuery(a)}return n/1e6}async waitForQueryAndGetTime(a){return await(0,m.repeatedTry)(()=>this.isTimerResultAvailable(a)),this.getTimerResult(a)}async createAndWaitForFence(){const a=this.createFence(this.gl);return this.pollFence(a)}createFence(a){let n;const e=a,t=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return a.flush(),n=t===null?()=>!0:()=>{const r=e.clientWaitSync(t,0,0);return r===e.ALREADY_SIGNALED||r===e.CONDITION_SATISFIED},{query:t,isFencePassed:n}}async pollFence(a){return new Promise(n=>{this.addItemToPoll(()=>a.isFencePassed(),()=>n())})}pollItems(){const a=l(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=a;++n){const{resolveFn:e}=this.itemsToPoll[n];e()}this.itemsToPoll=this.itemsToPoll.slice(a+1)}async addItemToPoll(a,n){this.itemsToPoll.push({isDoneFn:a,resolveFn:n}),this.itemsToPoll.length>1||await(0,m.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExecutionPlan=void 0;const y=c(1315);class d{constructor(g,p){this.op=g,this.node=p}}o.ExecutionPlan=class{constructor(f,g,p){this.graph=f,this.profiler=p,this.initialize(g)}initialize(f){this.profiler.event("session","ExecutionPlan.initialize",()=>{const g=this.graph.getNodes();if(g.length!==f.length)throw new Error("The size of nodes and OPs do not match.");this._ops=f.map((p,m)=>new d(p,g[m])),this.reset(),this._starter=[],this._ops.forEach((p,m)=>{let l=!0;for(const a of p.node.inputs)if(!this._values[a]&&this.graph.getInputIndices().indexOf(a)===-1){l=!1;break}l&&this._starter.push(m)})})}reset(){this._values=this.graph.getValues().map(f=>f.tensor)}async execute(f,g){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const p=f.createInferenceHandler(),m=this.graph.getInputIndices();if(g.length!==m.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${g.length} expected: ${m.length}`);g.forEach((r,u)=>{const h=m[u];this._values[h]=r});const l=this._starter.slice(0),a=this.graph.getValues(),n=this.graph.getNodes();let e=0;for(;e<l.length;){const r=l[e++],u=this._ops[r],h=u.node.inputs.map(O=>this._values[O]);if(h.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${u.node}`);const b=h;y.Logger.verbose("ExecPlan",`Runing op:${u.node.name} (${b.map((O,S)=>`'${u.node.inputs[S]}': ${O.type}[${O.dims.join(",")}]`).join(", ")})`);const _=await this.profiler.event("node",u.node.name,async()=>u.op.impl(p,b,u.op.context));if(_.length!==u.node.outputs.length)throw new Error("the size of output does not match model definition.");_.forEach((O,S)=>{const I=u.node.outputs[S];if(this._values[I])throw new Error(`output [${I}] already has value: op:${u.node.name}`);this._values[I]=O});const x=new Set;_.forEach((O,S)=>{const I=u.node.outputs[S];for(const A of a[I].to){const R=n[A];let j=!0;for(const U of R.inputs)if(!this._values[U]){j=!1;break}j&&x.add(A)}}),l.push(...x)}const t=[];for(let r=0;r<this.graph.getOutputIndices().length;r++){const u=this.graph.getOutputIndices()[r],h=this._values[u];if(h===void 0)throw new Error(`required output [${u}] does not have value`);u===0?await h.getData():h.data,t.push(h)}return y.Logger.verbose("ExecPlan","disposing of inferenceHandler"),p.dispose(),t})}}},4662:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Graph=void 0;const y=c(6874),d=c(5127),f=c(2446),g=c(9240),p=c(7273);var m=d.onnxruntime.experimental.fbs;o.Graph={from:(e,t)=>new n(e,t)};class l{constructor(t){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,t&&(this.type=p.ProtoUtil.tensorValueTypeFromProto(t.type.tensorType))}get from(){return this._from}get to(){return this._to}}class a{constructor(t,r){t instanceof f.onnx.NodeProto?(this.name=t.name,this.opType=t.opType,this.attributes=new y.Attribute(t.attribute)):t instanceof m.Node&&(this.name=r??t.name(),this.opType=t.opType(),this.attributes=new y.Attribute(p.ProtoUtil.tensorAttributesFromORTFormat(t))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class n{constructor(t,r){if(!t)throw new TypeError("graph is empty");this.buildGraph(t),this.transformGraph(r),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(t){if(t instanceof f.onnx.GraphProto)this.buildGraphFromOnnxFormat(t);else{if(!(t instanceof m.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(t)}}buildGraphFromOnnxFormat(t){const r=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const u=new Map;if(!t.input)throw new Error("missing information in graph: input");const h=[];for(const b of t.input){if(r.has(b.name))throw new Error(`duplicated input name: ${b.name}`);const _=this._allData.push(new l(b))-1;r.set(b.name,_),h.push(b.name)}if(!t.initializer)throw new Error("missing information in graph: initializer");for(const b of t.initializer){let _=r.get(b.name);if(_===void 0){const x=new l;x.type={shape:{dims:p.ProtoUtil.tensorDimsFromProto(b.dims)},tensorType:p.ProtoUtil.tensorDataTypeFromProto(b.dataType)},_=this._allData.push(x)-1,r.set(b.name,_)}this._allData[_]._from=-1,this._allData[_].tensor=g.Tensor.fromProto(b)}for(let b=0;b<this._allData.length;b++)this._allData[b].tensor||(this._allInputIndices.push(b),this._allInputNames.push(h[b]));if(!t.output)throw new Error("missing information in graph: output");for(const b of t.output){if(r.has(b.name))throw new Error(`duplicated output name: ${b.name}`);const _=this._allData.push(new l(b))-1;r.set(b.name,_),this._allOutputIndices.push(_),this._allOutputNames.push(b.name)}if(!t.node)throw new Error("missing information in graph: node");for(const b of t.node){if(!b.name)for(let x=0;;x++){const O=`unnamed_${b.opType}_${x}`;if(!u.has(O)){b.name=O;break}}if(u.has(b.name))throw new Error(`duplicated node name: ${b.name}`);const _=this._nodes.push(new a(b))-1;u.set(b.name,_)}for(let b=0;b<this._nodes.length;b++){const _=this._nodes[b],x=t.node[b];if(!x.output)throw new Error(`missing output for node: ${x.name}`);for(const O of x.output){let S=r.get(O);if(S===void 0&&(S=this._allData.push(new l)-1,r.set(O,S)),_.outputs.push(S),this._allData[S]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${S}`);if(this._allData[S]._from=b,x.opType==="Constant"){if(!x.attribute||x.attribute.length!==1||!x.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!x.output||x.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");_.outputs.pop(),_.executeNode=!1,this._allData[S]._from=-1,this._allData[S].tensor=g.Tensor.fromProto(x.attribute[0].t)}}}for(let b=0;b<this._nodes.length;b++){const _=this._nodes[b],x=t.node[b];if(!x.input)throw new Error(`missing input for node: ${x.name}`);for(const O of x.input){const S=r.get(O);if(S===void 0){if(O===""&&(x.input.length===3||x.input.length===4)&&x.opType==="Resize")continue;throw new Error(`unrecognized input '${O}' for node: ${x.name}`)}_.inputs.push(S),this._allData[S]._to.push(b)}}return!0}buildGraphFromOrtFormat(t){var r,u,h;const b=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const _=new Map,x=[];for(let O=0;O<t.inputsLength();O++){const S=t.inputs(O);if(b.has(S))throw new Error(`duplicated input name: ${S}`);for(let I=0;I<t.nodeArgsLength();I++)if(((r=t.nodeArgs(I))===null||r===void 0?void 0:r.name())===S){const A=new l;if(((h=(u=t.nodeArgs(I))===null||u===void 0?void 0:u.type())===null||h===void 0?void 0:h.valueType())!==m.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const R=t.nodeArgs(I).type().value(new m.TensorTypeAndShape),j=p.ProtoUtil.tensorDataTypeFromProto(R.elemType()),U=R.shape(),G=[];for(let $=0;$<U.dimLength();$++)G.push(p.LongUtil.longToNumber(U.dim($).value().dimValue()));A.type={shape:{dims:G},tensorType:j};const X=this._allData.push(A)-1;b.set(S,X),x.push(S)}}for(let O=0;O<t.initializersLength();O++){const S=t.initializers(O);let I=b.get(S.name());if(I===void 0){const A=new l,R=p.ProtoUtil.tensorDimsFromORTFormat(S),j=p.ProtoUtil.tensorDataTypeFromProto(S.dataType());A.type={shape:{dims:R},tensorType:j},I=this._allData.push(A)-1,b.set(S.name(),I)}this._allData[I]._from=-1,this._allData[I].tensor=g.Tensor.fromOrtTensor(S)}for(let O=0;O<this._allData.length;O++)this._allData[O].tensor||(this._allInputIndices.push(O),this._allInputNames.push(x[O]));for(let O=0;O<t.outputsLength();O++){const S=t.outputs(O);if(b.has(S))throw new Error(`duplicated output name: ${S}`);const I=this._allData.push(new l)-1;b.set(S,I),this._allOutputIndices.push(I),this._allOutputNames.push(S)}if(!t.nodes)throw new Error("missing information in graph: node");for(let O=0;O<t.nodesLength();O++){const S=t.nodes(O);let I=S.name();if(!I)for(let R=0;I=`unnamed_${S.opType()}_${R}`,_.has(I);R++);if(_.has(I))throw new Error(`duplicated node name: ${I}`);const A=this._nodes.push(new a(S,I))-1;_.set(I,A)}for(let O=0;O<this._nodes.length;O++){const S=this._nodes[O],I=t.nodes(O);if(I==null)throw new Error(`No node exists at index ${O}`);if((I==null?void 0:I.outputsLength())===0)throw new Error(`missing output for node: ${I.name}`);for(let A=0;A<(I==null?void 0:I.outputsLength());A++){const R=I==null?void 0:I.outputs(A);let j=b.get(R);if(j===void 0&&(j=this._allData.push(new l)-1,b.set(R,j)),S.outputs.push(j),this._allData[j]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${j}`);if(this._allData[j]._from=O,I.opType()==="Constant"){if(I.attributesLength()!==1||!I.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(I.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");S.outputs.pop(),S.executeNode=!1,this._allData[j]._from=-1,this._allData[j].tensor=g.Tensor.fromOrtTensor(I.attributes(0).t())}}}for(let O=0;O<this._nodes.length;O++){const S=this._nodes[O],I=t.nodes(O);if(I.inputsLength()===0)throw new Error(`missing input for node: ${I.name}`);for(let A=0;A<I.inputsLength();A++){const R=I.inputs(A),j=b.get(R);if(j===void 0)throw new Error(`unrecognized input '${R}' for node: ${I.name()}`);S.inputs.push(j),this._allData[j]._to.push(O)}}}checkIsAcyclic(){const t=new Set;this._allInputIndices.forEach(h=>{this._allData[h]._to.forEach(b=>{t.add(b)})});const r=Array.from(t),u=new Array(this._nodes.length).fill("white");for(;r.length>0;){const h=r.pop();u[h]==="gray"?u[h]="black":(r.push(h),u[h]="gray",this._nodes[h].outputs.forEach(b=>{const _=this._allData[b];if(_.tensor!==void 0)throw new Error("node outputs should not be initialized");if(_._from!==h)throw new Error("from property of the Value object doesn't match index of Node being processed");_._to.forEach(x=>{if(u[x]==="gray")throw new Error("model graph is cyclic");u[x]==="white"&&r.push(x)})}))}}transformGraph(t){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),t&&t.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let t=0;const r=new Array(this._nodes.length,0);let u=0;for(let h=0;h<this._nodes.length;h++)r[h]=u,this._nodes[h].executeNode?(u!==h&&(this._nodes[u]=this._nodes[h]),u++):this._nodes[h].outputs.forEach(b=>{this._allData[b]._from=-2});this._nodes.splice(u,this._nodes.length-u);for(let h=0;h<this._allData.length;h++){const b=this._allData[h];b._from!==void 0&&b._from!==-1&&b._from!==-2&&(b._from=r[b._from]);for(let _=0;_<b._to.length;_++){if(!(b._to[_]>=0))throw new Error("Trying to update a removed node");b._to[_]=r[b._to[_]]}}t=0;for(let h=0;h<this._allData.length;h++)if(this._allData[h].from!==-2||this._allOutputIndices.indexOf(h+t)!==-1){if(t>0){let b=-1;this._allData[h].from!==void 0&&this._allData[h].from!==-1?(b=this._nodes[this._allData[h].from].outputs.indexOf(h+t),b!==-1&&(this._nodes[this._allData[h].from].outputs[b]=h)):(b=this._allInputIndices.indexOf(h+t),b!==-1&&(this._allInputIndices[b]=h)),this._allData[h].to.forEach(_=>{b=this._nodes[_].inputs.indexOf(h+t),b!==-1&&(this._nodes[_].inputs[b]=h)}),this._allData[h].to.length===0&&(b=this._allOutputIndices.indexOf(h+t),b!==-1&&(this._allOutputIndices[b]=h))}}else t++,this._allData.splice(h,1),h--}deleteNode(t){const r=this._nodes[t];if(r.outputs.length>1){for(let x=1;x<r.outputs.length;x++)if(this._allData[r.outputs[x]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}r.executeNode=!1;const u=r.inputs[0],h=r.outputs[0],b=this._allData[h].to;for(let x=0;x<r.inputs.length;x++){const O=this._allData[r.inputs[x]].to.indexOf(t);if(O===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[r.inputs[x]].to.splice(O,1)}this._allData[h]._to=[];const _=this._allOutputIndices.indexOf(h);if(_!==-1&&(this._allOutputIndices[_]=u),b&&b.length>0)for(const x of b){const O=this._nodes[x].inputs.indexOf(h);if(O===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[x].inputs[O]=u,this._allData[u].to.push(x)}}removeAllDropoutNodes(){let t=0;for(const r of this._nodes){if(r.opType==="Dropout"){if(r.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(r.outputs.length!==1&&r.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(r.outputs.length===2&&this._allData[r.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(t)}t++}}removeAllIdentityNodes(){let t=0;for(const r of this._nodes)r.opType==="Identity"&&this.deleteNode(t),t++}isActivation(t){switch(t.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const t of this._nodes)if(t.opType==="Conv"){const r=this._allData[t.outputs[0]]._to;if(r.length===1&&this.isActivation(this._nodes[r[0]])){const u=this._nodes[r[0]];if(u.opType==="Clip")if(u.inputs.length===1)try{t.attributes.set("activation_params","floats",[u.attributes.getFloat("min"),u.attributes.getFloat("max")])}catch{t.attributes.set("activation_params","floats",[p.MIN_CLIP,p.MAX_CLIP])}else{if(!(u.inputs.length>=3&&this._allData[u.inputs[1]].tensor!==void 0&&this._allData[u.inputs[2]].tensor!==void 0))continue;t.attributes.set("activation_params","floats",[this._allData[u.inputs[1]].tensor.floatData[0],this._allData[u.inputs[2]].tensor.floatData[0]])}t.attributes.set("activation","string",u.opType),this.deleteNode(r[0])}}}}},1315:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.now=o.Profiler=o.Logger=void 0;const c={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},y={none:new class{log(a,n,e){}},console:new class{log(a,n,e){console.log(`${this.color(a)} ${e?"\x1B[35m"+e+"\x1B[0m ":""}${n}`)}color(a){switch(a){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${a}`)}}}},d={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let f={"":d};function g(a,n,e,t){if(n===void 0)return r=a,{verbose:g.verbose.bind(null,r),info:g.info.bind(null,r),warning:g.warning.bind(null,r),error:g.error.bind(null,r),fatal:g.fatal.bind(null,r)};if(e===void 0)p(a,n);else if(typeof e=="number"&&t===void 0)p(a,n);else if(typeof e=="string"&&t===void 0)p(a,e,0,n);else{if(typeof e!="string"||typeof t!="number")throw new TypeError("input is valid");p(a,e,0,n)}var r}function p(a,n,e,t){const r=f[t||""]||f[""];c[a]<c[r.minimalSeverity]||(r.logDateTime&&(n=`${new Date().toISOString()}|${n}`),r.logSourceLocation,y[r.provider].log(a,n,t))}(function(a){function n(t){f={},e("",t||{})}function e(t,r){if(t==="*")n(r);else{const u=f[t]||d;f[t]={provider:r.provider||u.provider,minimalSeverity:r.minimalSeverity||u.minimalSeverity,logDateTime:r.logDateTime===void 0?u.logDateTime:r.logDateTime,logSourceLocation:r.logSourceLocation===void 0?u.logSourceLocation:r.logSourceLocation}}}a.verbose=function(t,r){a("verbose",t,r)},a.info=function(t,r){a("info",t,r)},a.warning=function(t,r){a("warning",t,r)},a.error=function(t,r){a("error",t,r)},a.fatal=function(t,r){a("fatal",t,r)},a.reset=n,a.set=e,a.setWithEnv=function(t){const r={};t.logLevel&&(r.minimalSeverity=t.logLevel),e("",r)}})(g||(g={})),o.Logger=g;class m{constructor(n,e,t,r,u,h){this.category=n,this.name=e,this.startTime=t,this.endCallback=r,this.timer=u,this.ctx=h}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class l{constructor(n,e,t,r){this.category=n,this.name=e,this.startTime=t,this.endTime=r}}o.Profiler=class{static create(a){return a===void 0?new this:new this(a.maxNumberEvents,a.flushBatchSize,a.flushIntervalInMilliseconds)}constructor(a,n,e){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=a===void 0?1e4:a,this._flushBatchSize=n===void 0?10:n,this._flushIntervalInMilliseconds=e===void 0?5e3:e}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,o.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(a,n,e,t){const r=this._started?this.begin(a,n,t):void 0;let u=!1;const h=e();if(h&&typeof h.then=="function")return u=!0,new Promise((b,_)=>{h.then(async x=>{r&&await r.end(),b(x)},async x=>{r&&await r.end(),_(x)})});if(!u&&r){const b=r.end();if(b&&typeof b.then=="function")return new Promise((_,x)=>{b.then(()=>{_(h)},O=>{x(O)})})}return h}begin(a,n,e){if(!this._started)throw new Error("profiler is not started yet");if(e===void 0){const t=(0,o.now)();return this.flush(t),new m(a,n,t,r=>this.endSync(r))}{const t=e.beginTimer();return new m(a,n,0,async r=>this.end(r),t,e)}}async end(a){const n=await a.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(a.category,a.name,a.startTime,n)),this.flush(n))}endSync(a){const n=(0,o.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(a.category,a.name,a.startTime,n)),this.flush(n))}logOneEvent(a){o.Logger.verbose(`Profiler.${a.category}`,`${(a.endTime-a.startTime).toFixed(2)}ms on event '${a.name}' at ${a.endTime.toFixed(2)}`)}flush(a){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||a-this._flushTime>=this._flushIntervalInMilliseconds){for(const n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,o.now)()}}get started(){return this._started}},o.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Model=void 0;const y=c(5686),d=c(4662),f=c(5127),g=c(2446),p=c(7273);var m=f.onnxruntime.experimental.fbs;o.Model=class{constructor(){}load(l,a,n){if(!n)try{return void this.loadFromOnnxFormat(l,a)}catch(e){if(n!==void 0)throw e}this.loadFromOrtFormat(l,a)}loadFromOnnxFormat(l,a){const n=g.onnx.ModelProto.decode(l);if(p.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map(e=>({domain:e.domain,version:p.LongUtil.longToNumber(e.version)})),this._graph=d.Graph.from(n.graph,a)}loadFromOrtFormat(l,a){const n=new y.flatbuffers.ByteBuffer(l),e=m.InferenceSession.getRootAsInferenceSession(n).model();if(p.LongUtil.longToNumber(e.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let t=0;t<e.opsetImportLength();t++){const r=e.opsetImport(t);this._opsets.push({domain:r==null?void 0:r.domain(),version:p.LongUtil.longToNumber(r.version())})}this._graph=d.Graph.from(e.graph(),a)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FLOAT_TYPES=o.INT_TYPES=o.NUMBER_TYPES=void 0,o.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],o.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],o.FLOAT_TYPES=["float32","float64"]},5881:(w,o)=>{function c(y,d){if(d.endsWith("+")){const f=Number.parseInt(d.substring(0,d.length-1),10);return!isNaN(f)&&f<=y}if(d.split("-").length===2){const f=d.split("-"),g=Number.parseInt(f[0],10),p=Number.parseInt(f[1],10);return!isNaN(g)&&!isNaN(p)&&g<=y&&y<=p}return Number.parseInt(d,10)===y}Object.defineProperty(o,"__esModule",{value:!0}),o.resolveOperator=void 0,o.resolveOperator=function(y,d,f){for(const g of f){const p=g[0],m=g[1],l=g[2],a=g[3],n=g[4];if(y.opType===p){for(const e of d)if((e.domain===m||e.domain==="ai.onnx"&&m==="")&&c(e.version,l))return{opImpl:a,opInit:n}}}throw new TypeError(`cannot resolve operator '${y.opType}' with opsets: ${d.map(g=>`${g.domain||"ai.onnx"} v${g.version}`).join(", ")}`)}},5127:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.onnxruntime=void 0;const y=c(5686);var d,f;d=o.onnxruntime||(o.onnxruntime={}),function(g){(function(p){p[p.UNDEFINED=0]="UNDEFINED",p[p.FLOAT=1]="FLOAT",p[p.INT=2]="INT",p[p.STRING=3]="STRING",p[p.TENSOR=4]="TENSOR",p[p.GRAPH=5]="GRAPH",p[p.FLOATS=6]="FLOATS",p[p.INTS=7]="INTS",p[p.STRINGS=8]="STRINGS",p[p.TENSORS=9]="TENSORS",p[p.GRAPHS=10]="GRAPHS",p[p.SPARSE_TENSOR=11]="SPARSE_TENSOR",p[p.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(g.AttributeType||(g.AttributeType={}))}((f=d.experimental||(d.experimental={})).fbs||(f.fbs={})),function(g){(function(p){(function(m){(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.VALUE=1]="VALUE",l[l.PARAM=2]="PARAM"})(m.DimensionValueType||(m.DimensionValueType={}))})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){(function(l){l[l.UNDEFINED=0]="UNDEFINED",l[l.FLOAT=1]="FLOAT",l[l.UINT8=2]="UINT8",l[l.INT8=3]="INT8",l[l.UINT16=4]="UINT16",l[l.INT16=5]="INT16",l[l.INT32=6]="INT32",l[l.INT64=7]="INT64",l[l.STRING=8]="STRING",l[l.BOOL=9]="BOOL",l[l.FLOAT16=10]="FLOAT16",l[l.DOUBLE=11]="DOUBLE",l[l.UINT32=12]="UINT32",l[l.UINT64=13]="UINT64",l[l.COMPLEX64=14]="COMPLEX64",l[l.COMPLEX128=15]="COMPLEX128",l[l.BFLOAT16=16]="BFLOAT16",l[l.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",l[l.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",l[l.FLOAT8E5M2=19]="FLOAT8E5M2",l[l.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(m.TensorDataType||(m.TensorDataType={}))})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){(function(l){l[l.Primitive=0]="Primitive",l[l.Fused=1]="Fused"})(m.NodeType||(m.NodeType={}))})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){(function(l){l[l.NONE=0]="NONE",l[l.tensor_type=1]="tensor_type",l[l.sequence_type=2]="sequence_type",l[l.map_type=3]="map_type"})(m.TypeInfoValue||(m.TypeInfoValue={}))})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsShape(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsShape(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}dim(n,e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new g.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}dimLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}static startShape(n){n.startObject(1)}static addDim(n,e){n.addFieldOffset(0,e,0)}static createDimVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startDimVector(n,e){n.startVector(4,e,4)}static endShape(n){return n.endObject()}static createShape(n,e){return l.startShape(n),l.addDim(n,e),l.endShape(n)}}m.Shape=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsDimension(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsDimension(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}value(n){let e=this.bb.__offset(this.bb_pos,4);return e?(n||new g.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}denotation(n){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,n):null}static startDimension(n){n.startObject(2)}static addValue(n,e){n.addFieldOffset(0,e,0)}static addDenotation(n,e){n.addFieldOffset(1,e,0)}static endDimension(n){return n.endObject()}static createDimension(n,e,t){return l.startDimension(n),l.addValue(n,e),l.addDenotation(n,t),l.endDimension(n)}}m.Dimension=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsDimensionValue(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsDimensionValue(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}dimType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt8(this.bb_pos+n):g.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}dimParam(n){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,n):null}static startDimensionValue(n){n.startObject(3)}static addDimType(n,e){n.addFieldInt8(0,e,g.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(n,e){n.addFieldInt64(1,e,n.createLong(0,0))}static addDimParam(n,e){n.addFieldOffset(2,e,0)}static endDimensionValue(n){return n.endObject()}static createDimensionValue(n,e,t,r){return l.startDimensionValue(n),l.addDimType(n,e),l.addDimValue(n,t),l.addDimParam(n,r),l.endDimensionValue(n)}}m.DimensionValue=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsTensorTypeAndShape(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTensorTypeAndShape(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}elemType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt32(this.bb_pos+n):g.experimental.fbs.TensorDataType.UNDEFINED}shape(n){let e=this.bb.__offset(this.bb_pos,6);return e?(n||new g.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startTensorTypeAndShape(n){n.startObject(2)}static addElemType(n,e){n.addFieldInt32(0,e,g.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(n,e){n.addFieldOffset(1,e,0)}static endTensorTypeAndShape(n){return n.endObject()}static createTensorTypeAndShape(n,e,t){return l.startTensorTypeAndShape(n),l.addElemType(n,e),l.addShape(n,t),l.endTensorTypeAndShape(n)}}m.TensorTypeAndShape=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsMapType(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsMapType(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}keyType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt32(this.bb_pos+n):g.experimental.fbs.TensorDataType.UNDEFINED}valueType(n){let e=this.bb.__offset(this.bb_pos,6);return e?(n||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startMapType(n){n.startObject(2)}static addKeyType(n,e){n.addFieldInt32(0,e,g.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(n,e){n.addFieldOffset(1,e,0)}static endMapType(n){return n.endObject()}static createMapType(n,e,t){return l.startMapType(n),l.addKeyType(n,e),l.addValueType(n,t),l.endMapType(n)}}m.MapType=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsSequenceType(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSequenceType(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}elemType(n){let e=this.bb.__offset(this.bb_pos,4);return e?(n||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSequenceType(n){n.startObject(1)}static addElemType(n,e){n.addFieldOffset(0,e,0)}static endSequenceType(n){return n.endObject()}static createSequenceType(n,e){return l.startSequenceType(n),l.addElemType(n,e),l.endSequenceType(n)}}m.SequenceType=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(p.fbs||(p.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(m,l){return this.bb_pos=m,this.bb=l,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(m,l,a,n){return m.prep(4,12),m.writeInt32(n),m.writeInt32(a),m.writeInt32(l),m.offset()}}})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsNodeEdge(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsNodeEdge(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}nodeIndex(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readUint32(this.bb_pos+n):0}inputEdges(n,e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new g.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+t)+12*n,this.bb):null}inputEdgesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}outputEdges(n,e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new g.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+t)+12*n,this.bb):null}outputEdgesLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}static startNodeEdge(n){n.startObject(3)}static addNodeIndex(n,e){n.addFieldInt32(0,e,0)}static addInputEdges(n,e){n.addFieldOffset(1,e,0)}static startInputEdgesVector(n,e){n.startVector(12,e,4)}static addOutputEdges(n,e){n.addFieldOffset(2,e,0)}static startOutputEdgesVector(n,e){n.startVector(12,e,4)}static endNodeEdge(n){return n.endObject()}static createNodeEdge(n,e,t,r){return l.startNodeEdge(n),l.addNodeIndex(n,e),l.addInputEdges(n,t),l.addOutputEdges(n,r),l.endNodeEdge(n)}}m.NodeEdge=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsNode(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsNode(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}name(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}docString(n){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,n):null}domain(n){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,n):null}sinceVersion(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt32(this.bb_pos+n):0}index(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.readUint32(this.bb_pos+n):0}opType(n){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,n):null}type(){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.readInt32(this.bb_pos+n):g.experimental.fbs.NodeType.Primitive}executionProviderType(n){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,n):null}inputs(n,e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb.__vector(this.bb_pos+t)+4*n,e):null}inputsLength(){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__vector_len(this.bb_pos+n):0}outputs(n,e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__string(this.bb.__vector(this.bb_pos+t)+4*n,e):null}outputsLength(){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__vector_len(this.bb_pos+n):0}attributes(n,e){let t=this.bb.__offset(this.bb_pos,24);return t?(e||new g.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}attributesLength(){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__vector_len(this.bb_pos+n):0}inputArgCounts(n){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*n):0}inputArgCountsLength(){let n=this.bb.__offset(this.bb_pos,26);return n?this.bb.__vector_len(this.bb_pos+n):0}inputArgCountsArray(){let n=this.bb.__offset(this.bb_pos,26);return n?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}implicitInputs(n,e){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__string(this.bb.__vector(this.bb_pos+t)+4*n,e):null}implicitInputsLength(){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__vector_len(this.bb_pos+n):0}static startNode(n){n.startObject(13)}static addName(n,e){n.addFieldOffset(0,e,0)}static addDocString(n,e){n.addFieldOffset(1,e,0)}static addDomain(n,e){n.addFieldOffset(2,e,0)}static addSinceVersion(n,e){n.addFieldInt32(3,e,0)}static addIndex(n,e){n.addFieldInt32(4,e,0)}static addOpType(n,e){n.addFieldOffset(5,e,0)}static addType(n,e){n.addFieldInt32(6,e,g.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(n,e){n.addFieldOffset(7,e,0)}static addInputs(n,e){n.addFieldOffset(8,e,0)}static createInputsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startInputsVector(n,e){n.startVector(4,e,4)}static addOutputs(n,e){n.addFieldOffset(9,e,0)}static createOutputsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startOutputsVector(n,e){n.startVector(4,e,4)}static addAttributes(n,e){n.addFieldOffset(10,e,0)}static createAttributesVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startAttributesVector(n,e){n.startVector(4,e,4)}static addInputArgCounts(n,e){n.addFieldOffset(11,e,0)}static createInputArgCountsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addInt32(e[t]);return n.endVector()}static startInputArgCountsVector(n,e){n.startVector(4,e,4)}static addImplicitInputs(n,e){n.addFieldOffset(12,e,0)}static createImplicitInputsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startImplicitInputsVector(n,e){n.startVector(4,e,4)}static endNode(n){return n.endObject()}static createNode(n,e,t,r,u,h,b,_,x,O,S,I,A,R){return l.startNode(n),l.addName(n,e),l.addDocString(n,t),l.addDomain(n,r),l.addSinceVersion(n,u),l.addIndex(n,h),l.addOpType(n,b),l.addType(n,_),l.addExecutionProviderType(n,x),l.addInputs(n,O),l.addOutputs(n,S),l.addAttributes(n,I),l.addInputArgCounts(n,A),l.addImplicitInputs(n,R),l.endNode(n)}}m.Node=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsValueInfo(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsValueInfo(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}name(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}docString(n){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,n):null}type(n){let e=this.bb.__offset(this.bb_pos,8);return e?(n||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startValueInfo(n){n.startObject(3)}static addName(n,e){n.addFieldOffset(0,e,0)}static addDocString(n,e){n.addFieldOffset(1,e,0)}static addType(n,e){n.addFieldOffset(2,e,0)}static endValueInfo(n){return n.endObject()}static createValueInfo(n,e,t,r){return l.startValueInfo(n),l.addName(n,e),l.addDocString(n,t),l.addType(n,r),l.endValueInfo(n)}}m.ValueInfo=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsTypeInfo(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTypeInfo(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}denotation(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}valueType(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readUint8(this.bb_pos+n):g.experimental.fbs.TypeInfoValue.NONE}value(n){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(n,this.bb_pos+e):null}static startTypeInfo(n){n.startObject(3)}static addDenotation(n,e){n.addFieldOffset(0,e,0)}static addValueType(n,e){n.addFieldInt8(1,e,g.experimental.fbs.TypeInfoValue.NONE)}static addValue(n,e){n.addFieldOffset(2,e,0)}static endTypeInfo(n){return n.endObject()}static createTypeInfo(n,e,t,r){return l.startTypeInfo(n),l.addDenotation(n,e),l.addValueType(n,t),l.addValue(n,r),l.endTypeInfo(n)}}m.TypeInfo=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsOperatorSetId(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsOperatorSetId(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}domain(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}version(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}static startOperatorSetId(n){n.startObject(2)}static addDomain(n,e){n.addFieldOffset(0,e,0)}static addVersion(n,e){n.addFieldInt64(1,e,n.createLong(0,0))}static endOperatorSetId(n){return n.endObject()}static createOperatorSetId(n,e,t){return l.startOperatorSetId(n),l.addDomain(n,e),l.addVersion(n,t),l.endOperatorSetId(n)}}m.OperatorSetId=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsTensor(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTensor(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}name(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}docString(n){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,n):null}dims(n){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*n):this.bb.createLong(0,0)}dimsLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}dataType(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt32(this.bb_pos+n):g.experimental.fbs.TensorDataType.UNDEFINED}rawData(n){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+n):0}rawDataLength(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.__vector_len(this.bb_pos+n):0}rawDataArray(){let n=this.bb.__offset(this.bb_pos,12);return n?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}stringData(n,e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb.__vector(this.bb_pos+t)+4*n,e):null}stringDataLength(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__vector_len(this.bb_pos+n):0}static startTensor(n){n.startObject(6)}static addName(n,e){n.addFieldOffset(0,e,0)}static addDocString(n,e){n.addFieldOffset(1,e,0)}static addDims(n,e){n.addFieldOffset(2,e,0)}static createDimsVector(n,e){n.startVector(8,e.length,8);for(let t=e.length-1;t>=0;t--)n.addInt64(e[t]);return n.endVector()}static startDimsVector(n,e){n.startVector(8,e,8)}static addDataType(n,e){n.addFieldInt32(3,e,g.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(n,e){n.addFieldOffset(4,e,0)}static createRawDataVector(n,e){n.startVector(1,e.length,1);for(let t=e.length-1;t>=0;t--)n.addInt8(e[t]);return n.endVector()}static startRawDataVector(n,e){n.startVector(1,e,1)}static addStringData(n,e){n.addFieldOffset(5,e,0)}static createStringDataVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startStringDataVector(n,e){n.startVector(4,e,4)}static endTensor(n){return n.endObject()}static createTensor(n,e,t,r,u,h,b){return l.startTensor(n),l.addName(n,e),l.addDocString(n,t),l.addDims(n,r),l.addDataType(n,u),l.addRawData(n,h),l.addStringData(n,b),l.endTensor(n)}}m.Tensor=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsSparseTensor(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSparseTensor(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}values(n){let e=this.bb.__offset(this.bb_pos,4);return e?(n||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indices(n){let e=this.bb.__offset(this.bb_pos,6);return e?(n||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dims(n){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*n):this.bb.createLong(0,0)}dimsLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}static startSparseTensor(n){n.startObject(3)}static addValues(n,e){n.addFieldOffset(0,e,0)}static addIndices(n,e){n.addFieldOffset(1,e,0)}static addDims(n,e){n.addFieldOffset(2,e,0)}static createDimsVector(n,e){n.startVector(8,e.length,8);for(let t=e.length-1;t>=0;t--)n.addInt64(e[t]);return n.endVector()}static startDimsVector(n,e){n.startVector(8,e,8)}static endSparseTensor(n){return n.endObject()}static createSparseTensor(n,e,t,r){return l.startSparseTensor(n),l.addValues(n,e),l.addIndices(n,t),l.addDims(n,r),l.endSparseTensor(n)}}m.SparseTensor=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsAttribute(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsAttribute(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}name(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}docString(n){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,n):null}type(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readInt32(this.bb_pos+n):g.experimental.fbs.AttributeType.UNDEFINED}f(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readFloat32(this.bb_pos+n):0}i(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}s(n){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,n):null}t(n){let e=this.bb.__offset(this.bb_pos,16);return e?(n||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}g(n){let e=this.bb.__offset(this.bb_pos,18);return e?(n||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}floats(n){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*n):0}floatsLength(){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__vector_len(this.bb_pos+n):0}floatsArray(){let n=this.bb.__offset(this.bb_pos,20);return n?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}ints(n){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*n):this.bb.createLong(0,0)}intsLength(){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__vector_len(this.bb_pos+n):0}strings(n,e){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__string(this.bb.__vector(this.bb_pos+t)+4*n,e):null}stringsLength(){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__vector_len(this.bb_pos+n):0}tensors(n,e){let t=this.bb.__offset(this.bb_pos,26);return t?(e||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}tensorsLength(){let n=this.bb.__offset(this.bb_pos,26);return n?this.bb.__vector_len(this.bb_pos+n):0}graphs(n,e){let t=this.bb.__offset(this.bb_pos,28);return t?(e||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}graphsLength(){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__vector_len(this.bb_pos+n):0}static startAttribute(n){n.startObject(13)}static addName(n,e){n.addFieldOffset(0,e,0)}static addDocString(n,e){n.addFieldOffset(1,e,0)}static addType(n,e){n.addFieldInt32(2,e,g.experimental.fbs.AttributeType.UNDEFINED)}static addF(n,e){n.addFieldFloat32(3,e,0)}static addI(n,e){n.addFieldInt64(4,e,n.createLong(0,0))}static addS(n,e){n.addFieldOffset(5,e,0)}static addT(n,e){n.addFieldOffset(6,e,0)}static addG(n,e){n.addFieldOffset(7,e,0)}static addFloats(n,e){n.addFieldOffset(8,e,0)}static createFloatsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addFloat32(e[t]);return n.endVector()}static startFloatsVector(n,e){n.startVector(4,e,4)}static addInts(n,e){n.addFieldOffset(9,e,0)}static createIntsVector(n,e){n.startVector(8,e.length,8);for(let t=e.length-1;t>=0;t--)n.addInt64(e[t]);return n.endVector()}static startIntsVector(n,e){n.startVector(8,e,8)}static addStrings(n,e){n.addFieldOffset(10,e,0)}static createStringsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startStringsVector(n,e){n.startVector(4,e,4)}static addTensors(n,e){n.addFieldOffset(11,e,0)}static createTensorsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startTensorsVector(n,e){n.startVector(4,e,4)}static addGraphs(n,e){n.addFieldOffset(12,e,0)}static createGraphsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startGraphsVector(n,e){n.startVector(4,e,4)}static endAttribute(n){return n.endObject()}static createAttribute(n,e,t,r,u,h,b,_,x,O,S,I,A,R){return l.startAttribute(n),l.addName(n,e),l.addDocString(n,t),l.addType(n,r),l.addF(n,u),l.addI(n,h),l.addS(n,b),l.addT(n,_),l.addG(n,x),l.addFloats(n,O),l.addInts(n,S),l.addStrings(n,I),l.addTensors(n,A),l.addGraphs(n,R),l.endAttribute(n)}}m.Attribute=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsGraph(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsGraph(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}initializers(n,e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}initializersLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}nodeArgs(n,e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new g.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}nodeArgsLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}nodes(n,e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new g.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}nodesLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}maxNodeIndex(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readUint32(this.bb_pos+n):0}nodeEdges(n,e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new g.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}nodeEdgesLength(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.__vector_len(this.bb_pos+n):0}inputs(n,e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb.__vector(this.bb_pos+t)+4*n,e):null}inputsLength(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__vector_len(this.bb_pos+n):0}outputs(n,e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb.__vector(this.bb_pos+t)+4*n,e):null}outputsLength(){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__vector_len(this.bb_pos+n):0}sparseInitializers(n,e){let t=this.bb.__offset(this.bb_pos,18);return t?(e||new g.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}sparseInitializersLength(){let n=this.bb.__offset(this.bb_pos,18);return n?this.bb.__vector_len(this.bb_pos+n):0}static startGraph(n){n.startObject(8)}static addInitializers(n,e){n.addFieldOffset(0,e,0)}static createInitializersVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startInitializersVector(n,e){n.startVector(4,e,4)}static addNodeArgs(n,e){n.addFieldOffset(1,e,0)}static createNodeArgsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startNodeArgsVector(n,e){n.startVector(4,e,4)}static addNodes(n,e){n.addFieldOffset(2,e,0)}static createNodesVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startNodesVector(n,e){n.startVector(4,e,4)}static addMaxNodeIndex(n,e){n.addFieldInt32(3,e,0)}static addNodeEdges(n,e){n.addFieldOffset(4,e,0)}static createNodeEdgesVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startNodeEdgesVector(n,e){n.startVector(4,e,4)}static addInputs(n,e){n.addFieldOffset(5,e,0)}static createInputsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startInputsVector(n,e){n.startVector(4,e,4)}static addOutputs(n,e){n.addFieldOffset(6,e,0)}static createOutputsVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startOutputsVector(n,e){n.startVector(4,e,4)}static addSparseInitializers(n,e){n.addFieldOffset(7,e,0)}static createSparseInitializersVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startSparseInitializersVector(n,e){n.startVector(4,e,4)}static endGraph(n){return n.endObject()}static createGraph(n,e,t,r,u,h,b,_,x){return l.startGraph(n),l.addInitializers(n,e),l.addNodeArgs(n,t),l.addNodes(n,r),l.addMaxNodeIndex(n,u),l.addNodeEdges(n,h),l.addInputs(n,b),l.addOutputs(n,_),l.addSparseInitializers(n,x),l.endGraph(n)}}m.Graph=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsModel(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsModel(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}irVersion(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}opsetImport(n,e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new g.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}opsetImportLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}producerName(n){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,n):null}producerVersion(n){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,n):null}domain(n){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,n):null}modelVersion(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}docString(n){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,n):null}graph(n){let e=this.bb.__offset(this.bb_pos,18);return e?(n||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}graphDocString(n){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,n):null}static startModel(n){n.startObject(9)}static addIrVersion(n,e){n.addFieldInt64(0,e,n.createLong(0,0))}static addOpsetImport(n,e){n.addFieldOffset(1,e,0)}static createOpsetImportVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startOpsetImportVector(n,e){n.startVector(4,e,4)}static addProducerName(n,e){n.addFieldOffset(2,e,0)}static addProducerVersion(n,e){n.addFieldOffset(3,e,0)}static addDomain(n,e){n.addFieldOffset(4,e,0)}static addModelVersion(n,e){n.addFieldInt64(5,e,n.createLong(0,0))}static addDocString(n,e){n.addFieldOffset(6,e,0)}static addGraph(n,e){n.addFieldOffset(7,e,0)}static addGraphDocString(n,e){n.addFieldOffset(8,e,0)}static endModel(n){return n.endObject()}static createModel(n,e,t,r,u,h,b,_,x,O){return l.startModel(n),l.addIrVersion(n,e),l.addOpsetImport(n,t),l.addProducerName(n,r),l.addProducerVersion(n,u),l.addDomain(n,h),l.addModelVersion(n,b),l.addDocString(n,_),l.addGraph(n,x),l.addGraphDocString(n,O),l.endModel(n)}}m.Model=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsKernelCreateInfos(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsKernelCreateInfos(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}nodeIndices(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*n):0}nodeIndicesLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}nodeIndicesArray(){let n=this.bb.__offset(this.bb_pos,4);return n?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}kernelDefHashes(n){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*n):this.bb.createLong(0,0)}kernelDefHashesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}static startKernelCreateInfos(n){n.startObject(2)}static addNodeIndices(n,e){n.addFieldOffset(0,e,0)}static createNodeIndicesVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addInt32(e[t]);return n.endVector()}static startNodeIndicesVector(n,e){n.startVector(4,e,4)}static addKernelDefHashes(n,e){n.addFieldOffset(1,e,0)}static createKernelDefHashesVector(n,e){n.startVector(8,e.length,8);for(let t=e.length-1;t>=0;t--)n.addInt64(e[t]);return n.endVector()}static startKernelDefHashesVector(n,e){n.startVector(8,e,8)}static endKernelCreateInfos(n){return n.endObject()}static createKernelCreateInfos(n,e,t){return l.startKernelCreateInfos(n),l.addNodeIndices(n,e),l.addKernelDefHashes(n,t),l.endKernelCreateInfos(n)}}m.KernelCreateInfos=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsSubGraphSessionState(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSubGraphSessionState(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}graphId(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}sessionState(n){let e=this.bb.__offset(this.bb_pos,6);return e?(n||new g.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSubGraphSessionState(n){n.startObject(2)}static addGraphId(n,e){n.addFieldOffset(0,e,0)}static addSessionState(n,e){n.addFieldOffset(1,e,0)}static endSubGraphSessionState(n){let e=n.endObject();return n.requiredField(e,4),e}static createSubGraphSessionState(n,e,t){return l.startSubGraphSessionState(n),l.addGraphId(n,e),l.addSessionState(n,t),l.endSubGraphSessionState(n)}}m.SubGraphSessionState=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsSessionState(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSessionState(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}kernels(n){let e=this.bb.__offset(this.bb_pos,4);return e?(n||new g.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}subGraphSessionStates(n,e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new g.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+4*n),this.bb):null}subGraphSessionStatesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}static startSessionState(n){n.startObject(2)}static addKernels(n,e){n.addFieldOffset(0,e,0)}static addSubGraphSessionStates(n,e){n.addFieldOffset(1,e,0)}static createSubGraphSessionStatesVector(n,e){n.startVector(4,e.length,4);for(let t=e.length-1;t>=0;t--)n.addOffset(e[t]);return n.endVector()}static startSubGraphSessionStatesVector(n,e){n.startVector(4,e,4)}static endSessionState(n){return n.endObject()}static createSessionState(n,e,t){return l.startSessionState(n),l.addKernels(n,e),l.addSubGraphSessionStates(n,t),l.endSessionState(n)}}m.SessionState=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(g){(function(p){(function(m){class l{constructor(){this.bb=null,this.bb_pos=0}__init(n,e){return this.bb_pos=n,this.bb=e,this}static getRootAsInferenceSession(n,e){return(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsInferenceSession(n,e){return n.setPosition(n.position()+y.flatbuffers.SIZE_PREFIX_LENGTH),(e||new l).__init(n.readInt32(n.position())+n.position(),n)}static bufferHasIdentifier(n){return n.__has_identifier("ORTM")}ortVersion(n){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,n):null}model(n){let e=this.bb.__offset(this.bb_pos,6);return e?(n||new g.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}sessionState(n){let e=this.bb.__offset(this.bb_pos,8);return e?(n||new g.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startInferenceSession(n){n.startObject(3)}static addOrtVersion(n,e){n.addFieldOffset(0,e,0)}static addModel(n,e){n.addFieldOffset(1,e,0)}static addSessionState(n,e){n.addFieldOffset(2,e,0)}static endInferenceSession(n){return n.endObject()}static finishInferenceSessionBuffer(n,e){n.finish(e,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(n,e){n.finish(e,"ORTM",!0)}static createInferenceSession(n,e,t,r){return l.startInferenceSession(n),l.addOrtVersion(n,e),l.addModel(n,t),l.addSessionState(n,r),l.endInferenceSession(n)}}m.InferenceSession=l})(p.fbs||(p.fbs={}))})(g.experimental||(g.experimental={}))}(o.onnxruntime||(o.onnxruntime={}))},1723:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OnnxjsSessionHandler=void 0;const y=c(2235),d=c(9240);o.OnnxjsSessionHandler=class{constructor(f){this.session=f,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(f,g,p){const m=new Map;for(const n in f)if(Object.hasOwnProperty.call(f,n)){const e=f[n];m.set(n,new d.Tensor(e.dims,e.type,void 0,void 0,e.data))}const l=await this.session.run(m),a={};return l.forEach((n,e)=>{a[e]=new y.Tensor(n.type,n.data,n.dims)}),a}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Session=void 0;const y=c(7067),d=c(1296),f=c(1975),g=c(6496),p=c(1315),m=c(1745);o.Session=class{constructor(l={}){this._initialized=!1,this.backendHint=l.backendHint,this.profiler=p.Profiler.create(l.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(l,a,n){await this.profiler.event("session","Session.loadModel",async()=>{const e=await(0,f.resolveBackend)(this.backendHint);if(this.sessionHandler=e.createSessionHandler(this.context),this._model=new m.Model,typeof l=="string"){const t=l.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){const r=await(0,d.promisify)(y.readFile)(l);this.initialize(r,t)}else{const r=await fetch(l),u=await r.arrayBuffer();this.initialize(new Uint8Array(u),t)}}else if(ArrayBuffer.isView(l))this.initialize(l);else{const t=new Uint8Array(l,a||0,n||l.byteLength);this.initialize(t)}})}initialize(l,a){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(l,n,a),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new g.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(l){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const a=this.normalizeAndValidateInputs(l),n=await this._executionPlan.execute(this.sessionHandler,a);return this.createOutput(n)})}normalizeAndValidateInputs(l){const a=this._model.graph.getInputNames();if(Array.isArray(l)){if(l.length!==a.length)throw new Error(`incorrect input array length: expected ${a.length} but got ${l.length}`)}else{if(l.size!==a.length)throw new Error(`incorrect input map size: expected ${a.length} but got ${l.size}`);const n=new Array(l.size);let e=0;for(let t=0;t<a.length;++t){const r=l.get(a[t]);if(!r)throw new Error(`missing input tensor for: '${name}'`);n[e++]=r}l=n}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,l,!1);else{const n=this._model.graph.getInputIndices(),e=this._model.graph.getValues(),t=new Array(n.length);for(let r=0;r<n.length;++r){const u=e[n[r]];t[r]=u.type.shape.dims,this.context.graphInputTypes.push(u.type.tensorType),this.context.graphInputDims.push(l[r].dims)}this.validateInputTensorDims(t,l,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,l),l}validateInputTensorTypes(l,a){for(let n=0;n<a.length;n++){const e=l[n],t=a[n].type;if(e!==t)throw new Error(`input tensor[${n}] check failed: expected type '${e}' but got ${t}`)}}validateInputTensorDims(l,a,n){for(let e=0;e<a.length;e++){const t=l[e],r=a[e].dims;if(!this.compareTensorDims(t,r,n))throw new Error(`input tensor[${e}] check failed: expected shape '[${t.join(",")}]' but got [${r.join(",")}]`)}}compareTensorDims(l,a,n){if(l.length!==a.length)return!1;for(let e=0;e<l.length;++e)if(l[e]!==a[e]&&(!n||l[e]!==0))return!1;return!0}createOutput(l){const a=this._model.graph.getOutputNames();if(l.length!==a.length)throw new Error("expected number of outputs do not match number of generated outputs");const n=new Map;for(let e=0;e<a.length;++e)n.set(a[e],l[e]);return n}initializeOps(l){const a=l.getNodes();this._ops=new Array(a.length);for(let n=0;n<a.length;n++)this._ops[n]=this.sessionHandler.resolve(a[n],this._model.opsets,l)}}},9240:function(w,o,c){var y=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(o,"__esModule",{value:!0}),o.Tensor=void 0;const d=c(3442),f=y(c(1583)),g=c(5127),p=c(2446),m=c(7273);var l=g.onnxruntime.experimental.fbs;class a{get data(){if(this.cache===void 0){const h=this.dataProvider(this.dataId);if(h.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=h}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(h){return this.data[m.ShapeUtil.indicesToOffset(h,this.strides)]}set(h,b){this.data[m.ShapeUtil.indicesToOffset(h,this.strides)]=b}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=m.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(h,b,_,x,O,S=d.Guid.create()){this.dims=h,this.type=b,this.dataProvider=_,this.asyncDataProvider=x,this.cache=O,this.dataId=S,this.size=m.ShapeUtil.validateDimsAndCalcSize(h);const I=this.size,A=_===void 0&&x===void 0&&O===void 0;if(O!==void 0&&O.length!==I)throw new RangeError("Input dims doesn't match data length.");if(b==="string"){if(!(O===void 0||Array.isArray(O)&&O.every(R=>typeof R=="string")))throw new TypeError("cache should be a string array");A&&(this.cache=new Array(I))}else{if(O!==void 0){const R=e(b);if(!(O instanceof R))throw new TypeError(`cache should be type ${R.name}`)}if(A){const R=new ArrayBuffer(I*function(j){switch(j){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${j}`)}}(b));this.cache=function(j,U){return new(e(U))(j)}(R,b)}}}static fromProto(h){if(!h)throw new Error("cannot construct Value from an empty tensor");const b=m.ProtoUtil.tensorDataTypeFromProto(h.dataType),_=m.ProtoUtil.tensorDimsFromProto(h.dims),x=new a(_,b);if(b==="string")h.stringData.forEach((O,S)=>{x.data[S]=(0,m.decodeUtf8String)(O)});else if(h.rawData&&typeof h.rawData.byteLength=="number"&&h.rawData.byteLength>0){const O=x.data,S=new DataView(h.rawData.buffer,h.rawData.byteOffset,h.rawData.byteLength),I=n(h.dataType),A=h.rawData.byteLength/I;if(h.rawData.byteLength%I!=0)throw new Error("invalid buffer length");if(O.length!==A)throw new Error("buffer length mismatch");for(let R=0;R<A;R++){const j=r(S,h.dataType,R*I);O[R]=j}}else{let O;switch(h.dataType){case p.onnx.TensorProto.DataType.FLOAT:O=h.floatData;break;case p.onnx.TensorProto.DataType.INT32:case p.onnx.TensorProto.DataType.INT16:case p.onnx.TensorProto.DataType.UINT16:case p.onnx.TensorProto.DataType.INT8:case p.onnx.TensorProto.DataType.UINT8:case p.onnx.TensorProto.DataType.BOOL:O=h.int32Data;break;case p.onnx.TensorProto.DataType.INT64:O=h.int64Data;break;case p.onnx.TensorProto.DataType.DOUBLE:O=h.doubleData;break;case p.onnx.TensorProto.DataType.UINT32:case p.onnx.TensorProto.DataType.UINT64:O=h.uint64Data;break;default:throw new Error("unspecific error")}if(O==null)throw new Error("failed to populate data from a tensorproto value");const S=x.data;if(S.length!==O.length)throw new Error("array length mismatch");for(let I=0;I<O.length;I++){const A=O[I];f.default.isLong(A)?S[I]=t(A,h.dataType):S[I]=A}}return x}static fromData(h,b,_){return new a(b,_,void 0,void 0,h)}static fromOrtTensor(h){if(!h)throw new Error("cannot construct Value from an empty tensor");const b=m.ProtoUtil.tensorDimsFromORTFormat(h),_=m.ProtoUtil.tensorDataTypeFromProto(h.dataType()),x=new a(b,_);if(_==="string")for(let O=0;O<h.stringDataLength();O++)x.data[O]=h.stringData(O);else if(h.rawDataArray()&&typeof h.rawDataLength()=="number"&&h.rawDataLength()>0){const O=x.data,S=new DataView(h.rawDataArray().buffer,h.rawDataArray().byteOffset,h.rawDataLength()),I=n(h.dataType()),A=h.rawDataLength()/I;if(h.rawDataLength()%I!=0)throw new Error("invalid buffer length");if(O.length!==A)throw new Error("buffer length mismatch");for(let R=0;R<A;R++){const j=r(S,h.dataType(),R*I);O[R]=j}}return x}}function n(u){switch(u){case p.onnx.TensorProto.DataType.UINT8:case p.onnx.TensorProto.DataType.INT8:case p.onnx.TensorProto.DataType.BOOL:return 1;case p.onnx.TensorProto.DataType.UINT16:case p.onnx.TensorProto.DataType.INT16:return 2;case p.onnx.TensorProto.DataType.FLOAT:case p.onnx.TensorProto.DataType.INT32:case p.onnx.TensorProto.DataType.UINT32:return 4;case p.onnx.TensorProto.DataType.INT64:case p.onnx.TensorProto.DataType.DOUBLE:case p.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${p.onnx.TensorProto.DataType[u]}`)}}function e(u){switch(u){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function t(u,h){if(h===p.onnx.TensorProto.DataType.INT64||h===l.TensorDataType.INT64){if(u.greaterThanOrEqual(2147483648)||u.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(h!==p.onnx.TensorProto.DataType.UINT32&&h!==l.TensorDataType.UINT32&&h!==p.onnx.TensorProto.DataType.UINT64&&h!==l.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${p.onnx.TensorProto.DataType[h]}`);if(u.greaterThanOrEqual(4294967296)||u.lessThan(0))throw new TypeError("uint64 is not supported")}return u.toNumber()}function r(u,h,b){switch(h){case p.onnx.TensorProto.DataType.BOOL:case p.onnx.TensorProto.DataType.UINT8:return u.getUint8(b);case p.onnx.TensorProto.DataType.INT8:return u.getInt8(b);case p.onnx.TensorProto.DataType.UINT16:return u.getUint16(b,!0);case p.onnx.TensorProto.DataType.INT16:return u.getInt16(b,!0);case p.onnx.TensorProto.DataType.FLOAT:return u.getFloat32(b,!0);case p.onnx.TensorProto.DataType.INT32:return u.getInt32(b,!0);case p.onnx.TensorProto.DataType.UINT32:return u.getUint32(b,!0);case p.onnx.TensorProto.DataType.INT64:return t(f.default.fromBits(u.getUint32(b,!0),u.getUint32(b+4,!0),!1),h);case p.onnx.TensorProto.DataType.DOUBLE:return u.getFloat64(b,!0);case p.onnx.TensorProto.DataType.UINT64:return t(f.default.fromBits(u.getUint32(b,!0),u.getUint32(b+4,!0),!0),h);default:throw new Error(`cannot read from DataView for type ${p.onnx.TensorProto.DataType[h]}`)}}o.Tensor=a},7273:function(w,o,c){var y=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(o,"__esModule",{value:!0}),o.decodeUtf8String=o.MAX_CLIP=o.MIN_CLIP=o.PoolConvUtil=o.ReduceUtil=o.SplitUtil=o.MathUtil=o.ShapeUtil=o.LongUtil=o.ProtoUtil=o.GemmUtil=o.arrayCopyHelper=o.BroadcastUtil=o.MatMulUtil=o.ArrayUtil=o.assert=o.checkInputsShape=void 0;const d=c(5686),f=y(c(1583)),g=c(2446),p=c(9240);o.checkInputsShape=function(h,...b){if(!h||h.length!==b.length)return!1;for(let _=0;_<h.length;_++)if(!h[_].dims||h[_].dims.length!==b[_])return!1;return!0},o.assert=function(h,b){if(!h)throw new Error(typeof b=="string"?b:b())},o.ArrayUtil=class{static arraysEqual(h,b){if(h.length!==b.length)return!1;for(let _=0;_<h.length;_++)if(h[_]!==b[_])return!1;return!0}};class m{static preprocessInputShapes(b,_){return[b.length===1?[1,b[0]]:b,_.length===1?[_[0],1]:_]}static postprocessOutputShape(b,_,x){_===1&&b.splice(b.length-2,1),x===1&&b.pop()}static calcMatMulShape(b,_){return b[1]!==_[0]?void 0:[b[0],_[1]]}}o.MatMulUtil=m;class l{static calcShape(b,_,x=!1){const O=b.length,S=_.length;if(O===0)return _;if(S===0)return b;const I=Math.max(b.length,_.length),A=new Array(I);if(x){if(O<2||S<2)return;const R=m.calcMatMulShape([b[O-2],b[O-1]],[_[S-2],_[S-1]]);if(R===void 0)return;[A[I-2],A[I-1]]=R}for(let R=x?3:1;R<=I;R++){const j=O-R<0?1:b[O-R],U=S-R<0?1:_[S-R];if(j!==U&&j>1&&U>1)return;A[I-R]=Math.max(j,U)}return A}static index(b,_){const x=new Array(_.length);return l.fillIndex(b,_,x),x}static fillIndex(b,_,x){const O=b.length-_.length;for(let S=0;S<_.length;S++)x[S]=b[O+S]%_[S]}static calc(b,_,x,O,S){const I=l.calcShape(b.dims,_.dims);if(I){if(O&&!e.areEqual(I,b.dims))return;const A=e.size(I),R=O?b:new p.Tensor(I,S||b.type);if(I.length===0)R.set([],x(b.get([]),_.get([])));else{const j=new Array(I.length),U=new Array(b.dims.length),G=new Array(_.dims.length);let X,$=0,Q=0,C=!1,F=!1;b.dims.length===0&&($=b.get([]),C=!0),_.dims.length===0&&(Q=_.get([]),F=!0);for(let Z=0;Z<A;Z++){X=Z;for(let le=I.length-1;le>=0;le--)j[le]=X%I[le],X=Math.floor(X/I[le]);C||(l.fillIndex(j,b.dims,U),$=b.get(U)),F||(l.fillIndex(j,_.dims,G),Q=_.get(G)),R.set(j,x($,Q))}}return R}}static isValidBroadcast(b,_){const x=b.length,O=_.length;if(x>O)return!1;for(let S=1;S<=x;S++)if(b[x-S]!==1&&b[x-S]!==_[O-S])return!1;return!0}static getBroadcastDims(b,_){const x=b.length,O=[];for(let S=0;S<x;S++){const I=x-1-S,A=b[I]||1;(_[_.length-1-S]||1)>1&&A===1&&O.unshift(I)}return O}}o.BroadcastUtil=l,o.arrayCopyHelper=function(h,b,_,x,O){if(x<0||x>=b.length)throw new Error("sourceIndex out of bounds");if(_<0||_>=h.length)throw new Error("targetIndex out of bounds");if(x+O>b.length)throw new Error("source indices to be copied are outside bounds");if(_+O>h.length)throw new Error("target array is too small to hold result");for(let S=0;S<O;S++)h[_+S]=b[x+S]},o.GemmUtil=class{static getShapeOfGemmResult(h,b,_,x,O){if(h.length!==2||_.length!==2)throw new Error("shape need to be of size 2");let S,I,A;b?(S=h[1],I=h[0]):(S=h[0],I=h[1]);let R=-1;if(x?(A=_[0],R=1):(A=_[1],R=0),_[R]!==I)throw new Error("dimension mismatch");if(S<=0||A<=0||I<=0)throw new Error("invalid shape specified");if(O&&!l.isValidBroadcast(O,[S,A]))throw new Error("gemm: invalid bias shape for broadcast");return[S,A,I]}};class a{static tensorDataTypeFromProto(b){switch(b){case g.onnx.TensorProto.DataType.INT8:return"int8";case g.onnx.TensorProto.DataType.UINT8:return"uint8";case g.onnx.TensorProto.DataType.BOOL:return"bool";case g.onnx.TensorProto.DataType.INT16:return"int16";case g.onnx.TensorProto.DataType.UINT16:return"uint16";case g.onnx.TensorProto.DataType.INT32:return"int32";case g.onnx.TensorProto.DataType.UINT32:return"uint32";case g.onnx.TensorProto.DataType.FLOAT:return"float32";case g.onnx.TensorProto.DataType.DOUBLE:return"float64";case g.onnx.TensorProto.DataType.STRING:return"string";case g.onnx.TensorProto.DataType.INT64:return"int32";case g.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${g.onnx.TensorProto.DataType[b]}`)}}static tensorDataTypeStringToEnum(b){switch(b){case"int8":return g.onnx.TensorProto.DataType.INT8;case"uint8":return g.onnx.TensorProto.DataType.UINT8;case"bool":return g.onnx.TensorProto.DataType.BOOL;case"int16":return g.onnx.TensorProto.DataType.INT16;case"uint16":return g.onnx.TensorProto.DataType.UINT16;case"int32":return g.onnx.TensorProto.DataType.INT32;case"uint32":return g.onnx.TensorProto.DataType.UINT32;case"float32":return g.onnx.TensorProto.DataType.FLOAT;case"float64":return g.onnx.TensorProto.DataType.DOUBLE;case"string":return g.onnx.TensorProto.DataType.STRING;case"int64":return g.onnx.TensorProto.DataType.INT64;case"uint64":return g.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${b}`)}}static tensorDimsFromProto(b){return b.map(_=>f.default.isLong(_)?_.toNumber():_)}static tensorValueTypeFromProto(b){return{tensorType:a.tensorDataTypeFromProto(b.elemType),shape:{dims:a.tensorDimsFromProto(b.shape.dim.map(_=>_.dimValue))}}}static tensorDimsFromORTFormat(b){const _=[];for(let x=0;x<b.dimsLength();x++)_.push(n.longToNumber(b.dims(x)));return _}static tensorAttributesFromORTFormat(b){const _=[];for(let x=0;x<b.attributesLength();x++)_.push(b.attributes(x));return _}}o.ProtoUtil=a;class n{static longToNumber(b,_){return f.default.isLong(b)?b.toNumber():b instanceof d.flatbuffers.Long?f.default.fromValue({low:b.low,high:b.high,unsigned:_!=null&&_}).toNumber():b}static isLong(b){return f.default.isLong(b)||b instanceof d.flatbuffers.Long}}o.LongUtil=n;class e{static size(b){return e.getSizeFromDimensionRange(b,0,b.length)}static sizeFromDimension(b,_){if(_<0||_>b.length)throw new Error(`invalid dimension of ${_} for sizeFromDimension as Tensor has ${b.length} dimensions.`);return e.getSizeFromDimensionRange(b,_,b.length)}static sizeToDimension(b,_){if(_<0||_>b.length)throw new Error(`invalid dimension of ${_} for sizeToDimension as Tensor has ${b.length} dimensions.`);return e.getSizeFromDimensionRange(b,0,_)}static getSizeFromDimensionRange(b,_,x){let O=1;for(let S=_;S<x;S++){if(b[S]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");O*=b[S]}return O}static computeStrides(b){const _=b.length;if(_===0)return[];if(_===1)return[1];const x=new Array(_);x[_-1]=1,x[_-2]=b[_-1];for(let O=_-3;O>=0;--O)x[O]=x[O+1]*b[O+1];return x}static transpose(b){return b.slice().reverse()}static indicesToOffset(b,_,x){x===void 0&&(x=b.length);let O=0;for(let S=0;S<x;++S)O+=_[S]*b[S];return O}static offsetToIndices(b,_){const x=_.length;if(x===0)return[];if(x===1)return[b*_[0]];const O=new Array(_.length);for(let S=0;S<O.length-1;++S)O[S]=Math.floor(b/_[S]),b-=O[S]*_[S];return O[O.length-1]=b,O}static normalizeAxis(b,_){if(b<-_&&b>=_)throw new Error("unsupported axis for this operation.");return b<0?b+_:b}static normalizeAxes(b,_){return b.map(x=>this.normalizeAxis(x,_))}static incrementIndex(b,_,x){if(_.length===0||b.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(x===void 0)x=_.length;else if(x<=0||x>_.length)throw new Error("Incorrect axis to increment on");for(let O=x-1;O>=0&&(b[O]++,!(b[O]<_[O]));--O)b[O]=0}static calculateReshapedDims(b,_){if(_.length===0){if(b.length===0||e.size(b)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const x=_.length,O=new Array(x);let S=-1,I=1;for(let R=0;R<x;R++){if(_[R]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(_[R]===-1){if(S!==-1)throw new Error("at most one dimension in shape hints can be -1");S=R}else{if(_[R]===0){if(R>=b.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");O[R]=b[R]}else O[R]=_[R];I*=O[R]}}const A=e.size(b);if(S!==-1){if(A%I!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${b}] Output shape: [${_}]`);O[S]=A/I}else if(I!==A)throw new Error("reshapedDims and originalDims don't have matching sizes");return O}static sortBasedOnPerm(b,_){return _?_.map(x=>b[x]):b.slice().reverse()}static padShape(b,_){const x=b.length;return b.map((O,S)=>O+_[S]+_[S+x])}static areEqual(b,_){return b.length===_.length&&b.every((x,O)=>x===_[O])}static validateDimsAndCalcSize(b){if(b.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let _=1;for(const x of b){if(!Number.isInteger(x))throw new TypeError(`Invalid shape: ${x} is not an integer`);if(x<0||x>2147483647)throw new TypeError(`Invalid shape: length ${x} is not allowed`);_*=x}return _}static flattenShape(b,_){_<0&&(_+=b.length);const x=b.reduce((S,I)=>S*I,1),O=b.slice(_).reduce((S,I)=>S*I,1);return[x/O,O]}static squeezeShape(b,_){const x=new Array;_=e.normalizeAxes(_,b.length);for(let O=0;O<b.length;O++){const S=_.indexOf(O)>=0;if(S&&b[O]!==1)throw new Error("squeeze an axis of size different than 1");(_.length===0&&b[O]>1||_.length>0&&!S)&&x.push(b[O])}return x}static unsqueezeShape(b,_){const x=new Array(b.length+_.length);x.fill(0);for(let S=0;S<_.length;S++){const I=e.normalizeAxis(_[S],x.length);if(I>=x.length)throw new Error("'axes' has an out of range axis");if(x[I]!==0)throw new Error("'axes' has a duplicate axis");x[I]=1}let O=0;for(let S=0;S<x.length;S++)x[S]===0&&(x[S]=b[O++]);if(O!==b.length)throw new Error("the unsqueezed dimension could not be established");return x}}o.ShapeUtil=e,o.MathUtil=class{static sqr(h,b,_,x,O){if(x<0||x>=b.length)throw new Error("sourceIndex out of bounds");if(_<0||_>=h.length)throw new Error("targetIndex out of bounds");if(x+O>b.length)throw new Error("source indices to be copied are outside bounds");if(_+O>h.length)throw new Error("target array is too small to hold result");for(let S=0;S<O;S++)h[_+S]+=Math.pow(b[x+S],2)}static axpy(h,b,_,x,O,S){if(x<0||x>=b.length)throw new Error("sourceIndex out of bounds");if(_<0||_>=h.length)throw new Error("targetIndex out of bounds");if(x+O>b.length)throw new Error("source indices to be copied are outside bounds");if(_+O>h.length)throw new Error("target array is too small to hold result");for(let I=0;I<O;I++)h[_+I]+=S*b[x+I]}static powx(h,b,_,x,O,S){if(x<0||x>=b.length)throw new Error("sourceIndex out of bounds");if(_<0||_>=h.length)throw new Error("targetIndex out of bounds");if(x+O>b.length)throw new Error("source indices to be copied are outside bounds");if(_+O>h.length)throw new Error("target array is too small to hold result");for(let I=0;I<O;I++)h[_+I]=Math.pow(b[x+I],S)}static mul(h,b,_,x,O){if(x<0||x>=b.length)throw new Error("sourceIndex out of bounds");if(_<0||_>=h.length)throw new Error("targetIndex out of bounds");if(x+O>b.length)throw new Error("source indices to be copied are outside bounds");if(_+O>h.length)throw new Error("target array is too small to hold result");for(let S=0;S<O;S++)h[_+S]=b[x+S]*h[_+S]}};class t{static splitShape(b,_,x,O){if(x.length===0){if(!O)throw new Error("need to know number of outputs when the 'split' attribute is not specified");t.determineSplit(b[_],O,x)}const S=[],I=[0];for(let A=0;A<x.length;++A){A!==0&&I.push(I[A-1]+x[A-1]);const R=b.slice();R[_]=x[A],S.push(R)}return[S,I]}static determineSplit(b,_,x){if(b%_!=0)throw new Error("cannot split tensor to equal sized parts");for(let O=0;O<_;++O)x.push(b/_)}}o.SplitUtil=t;class r{static calcReduce(b,_,x,O,S){const I=b.dims.slice(0);_.length===0&&I.forEach(($,Q)=>_.push(Q));const A=r.calcReduceShape(I,_,!0),R=e.size(A),j=new p.Tensor(A,b.type),U=e.computeStrides(A),G=e.computeStrides(I),X=new Array(I.length);for(let $=0;$<R;$++){const Q=e.offsetToIndices($,U);l.fillIndex(Q,I,X),j.set(Q,r.calcReduceByAxis(b.numberData,_,I,0,e.indicesToOffset(X,G),O,S))}return x?j:new p.Tensor(r.calcReduceShape(I,_,x),j.type,void 0,void 0,j.data,j.dataId)}static calcReduceByAxis(b,_,x,O,S,I,A){let R=0;if(O>=_.length)return I(b[S]);const j=_[O],U=j>=x.length?1:e.size(x.slice(j+1));for(let G=0;G<x[j];G++)R=G===0?r.calcReduceByAxis(b,_,x,O+1,S,I,A):A(R,r.calcReduceByAxis(b,_,x,O+1,S,I,A)),S+=U;return R}static calcReduceShape(b,_,x){const O=b.slice();for(let S=0;S<_.length;S++)O[_[S]]=x?1:0;return O.filter(S=>S!==0)}}o.ReduceUtil=r;class u{static adjustPoolAttributes(b,_,x,O,S,I){if(!b&&x.length!==_.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(b)for(let A=0;A<_.length-2;A++)A>=x.length?x.push(_[A+2]):x[A]=_[A+2];for(let A=0;A<x.length;A++)if(A<O.length){if(O[A]<0)throw new Error("strides should be greater than or equal to 1")}else O.push(1);for(let A=0;A<x.length;A++)if(A<S.length){if(S[A]<0)throw new Error("dilations should be greater than or equal to 1")}else S.push(1);for(let A=0;A<2*x.length;A++)if(A<I.length){if(I[A]<0)throw new Error("pad should be greater than or equal to 1")}else I.push(0);for(let A=0;A<x.length;A++){if(x[A]<=0)throw new Error("kernel shapes need to be greater than 0");if(I[A]>=x[A]||I[A+x.length]>=x[A])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(b,_,x,O,S,I){if(I){if(S.length!==2*(b.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(_.length!==b.length-2)throw new Error("length of strides should be the length of data dimensions");if(O.length!==b.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let A=0;A<b.length-2;A++)u.adjustPadAndReturnShape(b[A+2],_[A],x[A],O[A],S,A,A+b.length-2,I)}}static computePoolOutputShape(b,_,x,O,S,I,A){if(_.length<=0)throw new Error("input shape must be of size greater than 0");const R=[_[0],_[1]];return u.computeShapeHelper(b,_,R,x,O,S,I,A),R}static computeConvOutputShape(b,_,x,O,S,I,A){if(b.length<=0||_.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const R=[b[0],_[0]];return u.computeShapeHelper(!1,b,R,x,O,S,I,A),R}static computeShapeHelper(b,_,x,O,S,I,A,R){if(b)for(let j=0;j<_.length-2;j++)x.push(1);else for(let j=0;j<_.length-2;j++)x.push(u.adjustPadAndReturnShape(_[j+2],O[j],S[j],I[j],A,j,j+_.length-2,R))}static adjustPadAndReturnShape(b,_,x,O,S,I,A,R){const j=x*(O-1)+1;if(!R||R==="NOTSET")return Math.floor((b+S[I]+S[A]-j)/_+1);switch(R){case"VALID":return S[I]=0,S[A]=0,Math.floor((b-j)/_+1);case"SAME_LOWER":case"SAME_UPPER":if(x!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const U=((b+_-1)/_-1)*_+O-b;return S[I]=Math.floor(R==="SAME_LOWER"?(U+1)/2:U/2),S[A]=U-S[I],Math.floor((b+U-O)/_+1)}default:throw new Error("Unsupported AutoPad type")}}}o.PoolConvUtil=u,o.MIN_CLIP=-34028234663852886e22,o.MAX_CLIP=34028234663852886e22,o.decodeUtf8String=function(h){return new TextDecoder().decode(h)}},8408:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.version=void 0,o.version="1.16.1"},9544:function(w,o,c){var y,d=this&&this.__createBinding||(Object.create?function(U,G,X,$){$===void 0&&($=X);var Q=Object.getOwnPropertyDescriptor(G,X);Q&&!("get"in Q?!G.__esModule:Q.writable||Q.configurable)||(Q={enumerable:!0,get:function(){return G[X]}}),Object.defineProperty(U,$,Q)}:function(U,G,X,$){$===void 0&&($=X),U[$]=G[X]}),f=this&&this.__setModuleDefault||(Object.create?function(U,G){Object.defineProperty(U,"default",{enumerable:!0,value:G})}:function(U,G){U.default=G}),g=this&&this.__importStar||function(U){if(U&&U.__esModule)return U;var G={};if(U!=null)for(var X in U)X!=="default"&&Object.prototype.hasOwnProperty.call(U,X)&&d(G,U,X);return f(G,U),G};Object.defineProperty(o,"__esModule",{value:!0}),o.endProfiling=o.run=o.releaseSession=o.createSession=o.createSessionFinalize=o.createSessionAllocate=o.initializeRuntime=o.initializeWebAssemblyInstance=void 0;const p=c(2235),m=g(c(1259)),l=c(263),a=()=>!!p.env.wasm.proxy&&typeof document<"u";let n,e,t,r=!1,u=!1,h=!1;const b=[],_=[],x=[],O=[],S=[],I=[],A=()=>{if(r||!u||h||!n)throw new Error("worker not ready")},R=U=>{switch(U.data.type){case"init-wasm":r=!1,U.data.err?(h=!0,e[1](U.data.err)):(u=!0,e[0]());break;case"init-ort":U.data.err?t[1](U.data.err):t[0]();break;case"create_allocate":U.data.err?b.shift()[1](U.data.err):b.shift()[0](U.data.out);break;case"create_finalize":U.data.err?_.shift()[1](U.data.err):_.shift()[0](U.data.out);break;case"create":U.data.err?x.shift()[1](U.data.err):x.shift()[0](U.data.out);break;case"release":U.data.err?O.shift()[1](U.data.err):O.shift()[0]();break;case"run":U.data.err?S.shift()[1](U.data.err):S.shift()[0](U.data.out);break;case"end-profiling":U.data.err?I.shift()[1](U.data.err):I.shift()[0]()}},j=typeof document<"u"?(y=document==null?void 0:document.currentScript)===null||y===void 0?void 0:y.src:void 0;o.initializeWebAssemblyInstance=async()=>{if(a()){if(u)return;if(r)throw new Error("multiple calls to 'initWasm()' detected.");if(h)throw new Error("previous call to 'initWasm()' failed.");return r=!0,p.env.wasm.wasmPaths===void 0&&j&&j.indexOf("blob:")!==0&&(p.env.wasm.wasmPaths=j.substr(0,+j.lastIndexOf("/")+1)),new Promise((U,G)=>{n==null||n.terminate(),n=c(8050).Z(),n.onmessage=R,e=[U,G];const X={type:"init-wasm",in:p.env.wasm};n.postMessage(X)})}return(0,l.initializeWebAssembly)(p.env.wasm)},o.initializeRuntime=async U=>{if(a())return A(),new Promise((G,X)=>{t=[G,X];const $={type:"init-ort",in:U};n.postMessage($)});await m.initRuntime(U)},o.createSessionAllocate=async U=>a()?(A(),new Promise((G,X)=>{b.push([G,X]);const $={type:"create_allocate",in:{model:U}};n.postMessage($,[U.buffer])})):m.createSessionAllocate(U),o.createSessionFinalize=async(U,G)=>a()?(A(),new Promise((X,$)=>{_.push([X,$]);const Q={type:"create_finalize",in:{modeldata:U,options:G}};n.postMessage(Q)})):m.createSessionFinalize(U,G),o.createSession=async(U,G)=>a()?(A(),new Promise((X,$)=>{x.push([X,$]);const Q={type:"create",in:{model:U,options:G}};n.postMessage(Q,[U.buffer])})):m.createSession(U,G),o.releaseSession=async U=>{if(a())return A(),new Promise((G,X)=>{O.push([G,X]);const $={type:"release",in:U};n.postMessage($)});m.releaseSession(U)},o.run=async(U,G,X,$,Q)=>a()?(A(),new Promise((C,F)=>{S.push([C,F]);const Z={type:"run",in:{sessionId:U,inputIndices:G,inputs:X,outputIndices:$,options:Q}};n.postMessage(Z,m.extractTransferableBuffers(X))})):m.run(U,G,X,$,Q),o.endProfiling=async U=>{if(a())return A(),new Promise((G,X)=>{I.push([G,X]);const $={type:"end-profiling",in:U};n.postMessage($)});m.endProfiling(U)}},7918:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.setRunOptions=void 0;const y=c(263),d=c(1497);o.setRunOptions=f=>{const g=(0,y.getInstance)();let p=0;const m=[],l=f||{};try{if((f==null?void 0:f.logSeverityLevel)===void 0)l.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if((f==null?void 0:f.logVerbosityLevel)===void 0)l.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);(f==null?void 0:f.terminate)===void 0&&(l.terminate=!1);let a=0;return(f==null?void 0:f.tag)!==void 0&&(a=(0,d.allocWasmString)(f.tag,m)),p=g._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,a),p===0&&(0,d.checkLastError)("Can't create run options."),(f==null?void 0:f.extra)!==void 0&&(0,d.iterateExtraOptions)(f.extra,"",new WeakSet,(n,e)=>{const t=(0,d.allocWasmString)(n,m),r=(0,d.allocWasmString)(e,m);g._OrtAddRunConfigEntry(p,t,r)!==0&&(0,d.checkLastError)(`Can't set a run config entry: ${n} - ${e}.`)}),[p,m]}catch(a){throw p!==0&&g._OrtReleaseRunOptions(p),m.forEach(n=>g._free(n)),a}}},6640:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OnnxruntimeWebAssemblySessionHandler=void 0;const y=c(2806),d=c(2235),f=c(2850),g=c(9544);let p;o.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(m){const l=await fetch(m);if(l.status!==200)throw new Error(`failed to load model: ${m}`);const a=await l.arrayBuffer();return(0,g.createSessionAllocate)(new Uint8Array(a))}async loadModel(m,l){if(p||(await(0,g.initializeRuntime)(d.env),p=!0),typeof m=="string")if(typeof process<"u"&&process.versions&&process.versions.node){const a=await(0,f.promisify)(y.readFile)(m);[this.sessionId,this.inputNames,this.outputNames]=await(0,g.createSession)(a,l)}else{const a=await this.createSessionAllocate(m);[this.sessionId,this.inputNames,this.outputNames]=await(0,g.createSessionFinalize)(a,l)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,g.createSession)(m,l)}async dispose(){return(0,g.releaseSession)(this.sessionId)}async run(m,l,a){const n=[],e=[];Object.entries(m).forEach(h=>{const b=h[0],_=h[1],x=this.inputNames.indexOf(b);if(x===-1)throw new Error(`invalid input '${b}'`);n.push(_),e.push(x)});const t=[];Object.entries(l).forEach(h=>{const b=h[0],_=this.outputNames.indexOf(b);if(_===-1)throw new Error(`invalid output '${b}'`);t.push(_)});const r=await(0,g.run)(this.sessionId,e,n.map(h=>[h.type,h.dims,h.data]),t,a),u={};for(let h=0;h<r.length;h++)u[this.outputNames[t[h]]]=new d.Tensor(r[h][0],r[h][2],r[h][1]);return u}startProfiling(){}endProfiling(){(0,g.endProfiling)(this.sessionId)}}},7622:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.setSessionOptions=void 0;const y=c(263),d=c(1497);o.setSessionOptions=f=>{var g,p,m,l;const a=(0,y.getInstance)();let n=0;const e=[],t=f||{};(r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});const u=r.extra.session;u.use_ort_model_bytes_directly||(u.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(h=>(typeof h=="string"?h:h.name)==="webgpu")&&(r.enableMemPattern=!1)})(t);try{const r=(O=>{switch(O){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${O}`)}})((g=t.graphOptimizationLevel)!==null&&g!==void 0?g:"all"),u=(O=>{switch(O){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${O}`)}})((p=t.executionMode)!==null&&p!==void 0?p:"sequential"),h=typeof t.logId=="string"?(0,d.allocWasmString)(t.logId,e):0,b=(m=t.logSeverityLevel)!==null&&m!==void 0?m:2;if(!Number.isInteger(b)||b<0||b>4)throw new Error(`log serverity level is not valid: ${b}`);const _=(l=t.logVerbosityLevel)!==null&&l!==void 0?l:0;if(!Number.isInteger(_)||_<0||_>4)throw new Error(`log verbosity level is not valid: ${_}`);const x=typeof t.optimizedModelFilePath=="string"?(0,d.allocWasmString)(t.optimizedModelFilePath,e):0;return n=a._OrtCreateSessionOptions(r,!!t.enableCpuMemArena,!!t.enableMemPattern,u,!!t.enableProfiling,0,h,b,_,x),n===0&&(0,d.checkLastError)("Can't create session options."),t.executionProviders&&((O,S,I)=>{for(const A of S){let R=typeof A=="string"?A:A.name;switch(R){case"xnnpack":R="XNNPACK";break;case"webnn":if(R="WEBNN",typeof A!="string"){const U=A;if(U!=null&&U.deviceType){const G=(0,d.allocWasmString)("deviceType",I),X=(0,d.allocWasmString)(U.deviceType,I);(0,y.getInstance)()._OrtAddSessionConfigEntry(O,G,X)!==0&&(0,d.checkLastError)(`Can't set a session config entry: 'deviceType' - ${U.deviceType}.`)}if(U!=null&&U.powerPreference){const G=(0,d.allocWasmString)("powerPreference",I),X=(0,d.allocWasmString)(U.powerPreference,I);(0,y.getInstance)()._OrtAddSessionConfigEntry(O,G,X)!==0&&(0,d.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${U.powerPreference}.`)}}break;case"webgpu":R="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${R}`)}const j=(0,d.allocWasmString)(R,I);(0,y.getInstance)()._OrtAppendExecutionProvider(O,j)!==0&&(0,d.checkLastError)(`Can't append execution provider: ${R}.`)}})(n,t.executionProviders,e),t.extra!==void 0&&(0,d.iterateExtraOptions)(t.extra,"",new WeakSet,(O,S)=>{const I=(0,d.allocWasmString)(O,e),A=(0,d.allocWasmString)(S,e);a._OrtAddSessionConfigEntry(n,I,A)!==0&&(0,d.checkLastError)(`Can't set a session config entry: ${O} - ${S}.`)}),[n,e]}catch(r){throw n!==0&&a._OrtReleaseSessionOptions(n),e.forEach(u=>a._free(u)),r}}},7917:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.logLevelStringToEnum=o.tensorTypeToTypedArrayConstructor=o.getTensorElementSize=o.tensorDataTypeEnumToString=o.tensorDataTypeStringToEnum=void 0,o.tensorDataTypeStringToEnum=c=>{switch(c){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${c}`)}},o.tensorDataTypeEnumToString=c=>{switch(c){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${c}`)}},o.getTensorElementSize=c=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][c],o.tensorTypeToTypedArrayConstructor=c=>{switch(c){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${c}`)}},o.logLevelStringToEnum=c=>{switch(c){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${c}`)}}},1259:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.extractTransferableBuffers=o.endProfiling=o.run=o.releaseSession=o.createSession=o.createSessionFinalize=o.createSessionAllocate=o.initRuntime=void 0;const y=c(7918),d=c(7622),f=c(7917),g=c(263),p=c(1497);o.initRuntime=async l=>{var a,n;a=l.wasm.numThreads,n=(0,f.logLevelStringToEnum)(l.logLevel),(0,g.getInstance)()._OrtInit(a,n)!==0&&(0,p.checkLastError)("Can't initialize onnxruntime.")};const m=new Map;o.createSessionAllocate=l=>{const a=(0,g.getInstance)(),n=a._malloc(l.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${l.byteLength}.`);return a.HEAPU8.set(l,n),[n,l.byteLength]},o.createSessionFinalize=(l,a)=>{const n=(0,g.getInstance)();let e=0,t=0,r=[];const u=[],h=[];try{[t,r]=(0,d.setSessionOptions)(a),e=n._OrtCreateSession(l[0],l[1],t),e===0&&(0,p.checkLastError)("Can't create a session.");const[b,_]=(S=>{const I=(0,g.getInstance)(),A=I.stackSave();try{const R=I.stackAlloc(8);return I._OrtGetInputOutputCount(S,R,R+4)!==0&&(0,p.checkLastError)("Can't get session input/output count."),[I.HEAP32[R/4],I.HEAP32[R/4+1]]}finally{I.stackRestore(A)}})(e),x=[],O=[];for(let S=0;S<b;S++){const I=n._OrtGetInputName(e,S);I===0&&(0,p.checkLastError)("Can't get an input name."),u.push(I),x.push(n.UTF8ToString(I))}for(let S=0;S<_;S++){const I=n._OrtGetOutputName(e,S);I===0&&(0,p.checkLastError)("Can't get an output name."),h.push(I),O.push(n.UTF8ToString(I))}return m.set(e,[e,u,h]),[e,x,O]}catch(b){throw u.forEach(_=>n._OrtFree(_)),h.forEach(_=>n._OrtFree(_)),e!==0&&n._OrtReleaseSession(e),b}finally{n._free(l[0]),t!==0&&n._OrtReleaseSessionOptions(t),r.forEach(b=>n._free(b))}},o.createSession=(l,a)=>{const n=(0,o.createSessionAllocate)(l);return(0,o.createSessionFinalize)(n,a)},o.releaseSession=l=>{const a=(0,g.getInstance)(),n=m.get(l);if(!n)throw new Error(`cannot release session. invalid session id: ${l}`);const[e,t,r]=n;t.forEach(u=>a._OrtFree(u)),r.forEach(u=>a._OrtFree(u)),a._OrtReleaseSession(e),m.delete(l)},o.run=async(l,a,n,e,t)=>{const r=(0,g.getInstance)(),u=m.get(l);if(!u)throw new Error(`cannot run inference. invalid session id: ${l}`);const[h,b,_]=u,x=a.length,O=e.length;let S=0,I=[];const A=[],R=[];try{[S,I]=(0,y.setRunOptions)(t);for(let Q=0;Q<x;Q++){const C=n[Q][0],F=n[Q][1],Z=n[Q][2];let le,se;if(Array.isArray(Z)){se=4*Z.length,le=r._malloc(se),R.push(le);let ye=le/4;for(let _e=0;_e<Z.length;_e++){if(typeof Z[_e]!="string")throw new TypeError(`tensor data at index ${_e} is not a string`);r.HEAPU32[ye++]=(0,p.allocWasmString)(Z[_e],R)}}else se=Z.byteLength,le=r._malloc(se),R.push(le),r.HEAPU8.set(new Uint8Array(Z.buffer,Z.byteOffset,se),le);const ge=r.stackSave(),ce=r.stackAlloc(4*F.length);try{let ye=ce/4;F.forEach(Ie=>r.HEAP32[ye++]=Ie);const _e=r._OrtCreateTensor((0,f.tensorDataTypeStringToEnum)(C),le,se,ce,F.length);_e===0&&(0,p.checkLastError)(`Can't create tensor for input[${Q}].`),A.push(_e)}finally{r.stackRestore(ge)}}const j=r.stackSave(),U=r.stackAlloc(4*x),G=r.stackAlloc(4*x),X=r.stackAlloc(4*O),$=r.stackAlloc(4*O);try{let Q=U/4,C=G/4,F=X/4,Z=$/4;for(let ce=0;ce<x;ce++)r.HEAPU32[Q++]=A[ce],r.HEAPU32[C++]=b[a[ce]];for(let ce=0;ce<O;ce++)r.HEAPU32[F++]=0,r.HEAPU32[Z++]=_[e[ce]];let le=r._OrtRun(h,G,U,x,$,O,X,S);const se=r.jsepRunPromise;se&&se.then!==void 0&&(le=await se);const ge=[];le!==0&&(0,p.checkLastError)("failed to call OrtRun().");for(let ce=0;ce<O;ce++){const ye=r.HEAPU32[X/4+ce],_e=r.stackSave(),Ie=r.stackAlloc(16);let xe,ke=0;try{le=r._OrtGetTensorData(ye,Ie,Ie+4,Ie+8,Ie+12),le!==0&&(0,p.checkLastError)(`Can't access output tensor data on index ${ce}.`);let je=Ie/4;const Je=r.HEAPU32[je++];ke=r.HEAPU32[je++];const ot=r.HEAPU32[je++],Vt=r.HEAPU32[je++],nt=[];for(let Ge=0;Ge<Vt;Ge++)nt.push(r.HEAPU32[ot/4+Ge]);r._OrtFree(ot);const vt=nt.length===0?1:nt.reduce((Ge,ze)=>Ge*ze);if(xe=(0,f.tensorDataTypeEnumToString)(Je),xe==="string"){const Ge=[];let ze=ke/4;for(let lt=0;lt<vt;lt++){const _t=r.HEAPU32[ze++],Ye=lt===vt-1?void 0:r.HEAPU32[ze]-_t;Ge.push(r.UTF8ToString(_t,Ye))}ge.push([xe,nt,Ge])}else{const Ge=new((0,f.tensorTypeToTypedArrayConstructor)(xe))(vt);new Uint8Array(Ge.buffer,Ge.byteOffset,Ge.byteLength).set(r.HEAPU8.subarray(ke,ke+Ge.byteLength)),ge.push([xe,nt,Ge])}}finally{r.stackRestore(_e),xe==="string"&&ke&&r._free(ke),r._OrtReleaseTensor(ye)}}return ge}finally{r.stackRestore(j)}}finally{A.forEach(j=>r._OrtReleaseTensor(j)),R.forEach(j=>r._free(j)),S!==0&&r._OrtReleaseRunOptions(S),I.forEach(j=>r._free(j))}},o.endProfiling=l=>{const a=(0,g.getInstance)(),n=m.get(l);if(!n)throw new Error("invalid session id");const e=n[0],t=a._OrtEndProfiling(e);t===0&&(0,p.checkLastError)("Can't get an profile file name."),a._OrtFree(t)},o.extractTransferableBuffers=l=>{const a=[];for(const n of l){const e=n[2];!Array.isArray(e)&&e.buffer&&a.push(e.buffer)}return a}},263:function(w,o,c){var y=this&&this.__createBinding||(Object.create?function(t,r,u,h){h===void 0&&(h=u);var b=Object.getOwnPropertyDescriptor(r,u);b&&!("get"in b?!r.__esModule:b.writable||b.configurable)||(b={enumerable:!0,get:function(){return r[u]}}),Object.defineProperty(t,h,b)}:function(t,r,u,h){h===void 0&&(h=u),t[h]=r[u]}),d=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),f=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var u in t)u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)&&y(r,t,u);return d(r,t),r};Object.defineProperty(o,"__esModule",{value:!0}),o.dispose=o.getInstance=o.initializeWebAssembly=void 0;const g=f(c(6449)),p=c(932),m=c(3474);let l,a=!1,n=!1,e=!1;o.initializeWebAssembly=async t=>{if(a)return Promise.resolve();if(n)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(e)throw new Error("previous call to 'initializeWebAssembly()' failed.");n=!0;const r=t.initTimeout,u=t.numThreads,h=t.simd,b=u>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),_=h&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),x=t.wasmPaths,O=typeof x=="string"?x:void 0,S=((j,U)=>U?j?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":j?"ort-wasm-simd.wasm":"ort-wasm.wasm")(_,b),I=typeof x=="object"?x[S]:void 0;let A=!1;const R=[];if(r>0&&R.push(new Promise(j=>{setTimeout(()=>{A=!0,j()},r)})),R.push(new Promise((j,U)=>{const G=b?m:p,X={locateFile:($,Q)=>b&&$.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([c(4154)],{type:"text/javascript"})):$.endsWith(".wasm")?I||(O??Q)+S:Q+$};if(b)if(typeof Blob>"u")X.mainScriptUrlOrBlob=g.join(__dirname,"ort-wasm-threaded.js");else{const $=`var ortWasmThreaded=(function(){var _scriptDir;return ${G.toString()}})();`;X.mainScriptUrlOrBlob=new Blob([$],{type:"text/javascript"})}G(X).then($=>{n=!1,a=!0,l=$,j()},$=>{n=!1,e=!0,U($)})})),await Promise.race(R),A)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},o.getInstance=()=>{if(a&&l)return l;throw new Error("WebAssembly is not initialized yet.")},o.dispose=()=>{var t;!a||n||e||(n=!0,(t=l.PThread)===null||t===void 0||t.terminateAllThreads(),l=void 0,n=!1,a=!1,e=!0)}},1497:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.checkLastError=o.iterateExtraOptions=o.allocWasmString=void 0;const y=c(263);o.allocWasmString=(d,f)=>{const g=(0,y.getInstance)(),p=g.lengthBytesUTF8(d)+1,m=g._malloc(p);return g.stringToUTF8(d,m,p),f.push(m),m},o.iterateExtraOptions=(d,f,g,p)=>{if(typeof d=="object"&&d!==null){if(g.has(d))throw new Error("Circular reference in options");g.add(d)}Object.entries(d).forEach(([m,l])=>{const a=f?f+m:m;if(typeof l=="object")(0,o.iterateExtraOptions)(l,a+".",g,p);else if(typeof l=="string"||typeof l=="number")p(a,l.toString());else{if(typeof l!="boolean")throw new Error("Can't handle extra config type: "+typeof l);p(a,l?"1":"0")}})},o.checkLastError=d=>{const f=(0,y.getInstance)(),g=f.stackSave();try{const p=f.stackAlloc(8);f._OrtGetLastError(p,p+4);const m=f.HEAP32[p/4],l=f.HEAPU32[p/4+1],a=l?f.UTF8ToString(l):"";throw new Error(`${d} ERROR_CODE: ${m}, ERROR_MESSAGE: ${a}`)}finally{f.stackRestore(g)}}},8050:(w,o,c)=>{c.d(o,{Z:()=>f});var y=c(6614),d=c.n(y);function f(){return d()('/*!\n* ONNX Runtime Web v1.16.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:w=>{w.exports=function(o,c,y,d){var f=self||window;try{try{var g;try{g=new f.Blob([o])}catch{(g=new(f.BlobBuilder||f.WebKitBlobBuilder||f.MozBlobBuilder||f.MSBlobBuilder)).append(o),g=g.getBlob()}var p=f.URL||f.webkitURL,m=p.createObjectURL(g),l=new f[c](m,y);return p.revokeObjectURL(m),l}catch{return new f[c]("data:application/javascript,".concat(encodeURIComponent(o)),y)}}catch{if(!d)throw Error("Inline worker is not supported");return new f[c](d,y)}}},2446:(w,o,c)=>{var y,d,f,g=c(2100),p=g.Reader,m=g.Writer,l=g.util,a=g.roots.default||(g.roots.default={});a.onnx=((f={}).Version=(y={},(d=Object.create(y))[y[0]="_START_VERSION"]=0,d[y[1]="IR_VERSION_2017_10_10"]=1,d[y[2]="IR_VERSION_2017_10_30"]=2,d[y[3]="IR_VERSION_2017_11_3"]=3,d[y[4]="IR_VERSION_2019_1_22"]=4,d[y[5]="IR_VERSION_2019_3_18"]=5,d[y[6]="IR_VERSION_2019_9_19"]=6,d[y[7]="IR_VERSION_2020_5_8"]=7,d[y[8]="IR_VERSION_2021_7_30"]=8,d[y[9]="IR_VERSION"]=9,d),f.AttributeProto=function(){function n(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.name="",n.prototype.refAttrName="",n.prototype.docString="",n.prototype.type=0,n.prototype.f=0,n.prototype.i=l.Long?l.Long.fromBits(0,0,!1):0,n.prototype.s=l.newBuffer([]),n.prototype.t=null,n.prototype.g=null,n.prototype.sparseTensor=null,n.prototype.tp=null,n.prototype.floats=l.emptyArray,n.prototype.ints=l.emptyArray,n.prototype.strings=l.emptyArray,n.prototype.tensors=l.emptyArray,n.prototype.graphs=l.emptyArray,n.prototype.sparseTensors=l.emptyArray,n.prototype.typeProtos=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),e.f!=null&&Object.hasOwnProperty.call(e,"f")&&t.uint32(21).float(e.f),e.i!=null&&Object.hasOwnProperty.call(e,"i")&&t.uint32(24).int64(e.i),e.s!=null&&Object.hasOwnProperty.call(e,"s")&&t.uint32(34).bytes(e.s),e.t!=null&&Object.hasOwnProperty.call(e,"t")&&a.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),e.g!=null&&Object.hasOwnProperty.call(e,"g")&&a.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),e.floats!=null&&e.floats.length){t.uint32(58).fork();for(var r=0;r<e.floats.length;++r)t.float(e.floats[r]);t.ldelim()}if(e.ints!=null&&e.ints.length){for(t.uint32(66).fork(),r=0;r<e.ints.length;++r)t.int64(e.ints[r]);t.ldelim()}if(e.strings!=null&&e.strings.length)for(r=0;r<e.strings.length;++r)t.uint32(74).bytes(e.strings[r]);if(e.tensors!=null&&e.tensors.length)for(r=0;r<e.tensors.length;++r)a.onnx.TensorProto.encode(e.tensors[r],t.uint32(82).fork()).ldelim();if(e.graphs!=null&&e.graphs.length)for(r=0;r<e.graphs.length;++r)a.onnx.GraphProto.encode(e.graphs[r],t.uint32(90).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(106).string(e.docString),e.tp!=null&&Object.hasOwnProperty.call(e,"tp")&&a.onnx.TypeProto.encode(e.tp,t.uint32(114).fork()).ldelim(),e.typeProtos!=null&&e.typeProtos.length)for(r=0;r<e.typeProtos.length;++r)a.onnx.TypeProto.encode(e.typeProtos[r],t.uint32(122).fork()).ldelim();if(e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(160).int32(e.type),e.refAttrName!=null&&Object.hasOwnProperty.call(e,"refAttrName")&&t.uint32(170).string(e.refAttrName),e.sparseTensor!=null&&Object.hasOwnProperty.call(e,"sparseTensor")&&a.onnx.SparseTensorProto.encode(e.sparseTensor,t.uint32(178).fork()).ldelim(),e.sparseTensors!=null&&e.sparseTensors.length)for(r=0;r<e.sparseTensors.length;++r)a.onnx.SparseTensorProto.encode(e.sparseTensors[r],t.uint32(186).fork()).ldelim();return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.AttributeProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.name=e.string();break;case 21:u.refAttrName=e.string();break;case 13:u.docString=e.string();break;case 20:u.type=e.int32();break;case 2:u.f=e.float();break;case 3:u.i=e.int64();break;case 4:u.s=e.bytes();break;case 5:u.t=a.onnx.TensorProto.decode(e,e.uint32());break;case 6:u.g=a.onnx.GraphProto.decode(e,e.uint32());break;case 22:u.sparseTensor=a.onnx.SparseTensorProto.decode(e,e.uint32());break;case 14:u.tp=a.onnx.TypeProto.decode(e,e.uint32());break;case 7:if(u.floats&&u.floats.length||(u.floats=[]),(7&h)==2)for(var b=e.uint32()+e.pos;e.pos<b;)u.floats.push(e.float());else u.floats.push(e.float());break;case 8:if(u.ints&&u.ints.length||(u.ints=[]),(7&h)==2)for(b=e.uint32()+e.pos;e.pos<b;)u.ints.push(e.int64());else u.ints.push(e.int64());break;case 9:u.strings&&u.strings.length||(u.strings=[]),u.strings.push(e.bytes());break;case 10:u.tensors&&u.tensors.length||(u.tensors=[]),u.tensors.push(a.onnx.TensorProto.decode(e,e.uint32()));break;case 11:u.graphs&&u.graphs.length||(u.graphs=[]),u.graphs.push(a.onnx.GraphProto.decode(e,e.uint32()));break;case 23:u.sparseTensors&&u.sparseTensors.length||(u.sparseTensors=[]),u.sparseTensors.push(a.onnx.SparseTensorProto.decode(e,e.uint32()));break;case 15:u.typeProtos&&u.typeProtos.length||(u.typeProtos=[]),u.typeProtos.push(a.onnx.TypeProto.decode(e,e.uint32()));break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&!l.isString(e.refAttrName))return"refAttrName: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(e.f!=null&&e.hasOwnProperty("f")&&typeof e.f!="number")return"f: number expected";if(e.i!=null&&e.hasOwnProperty("i")&&!(l.isInteger(e.i)||e.i&&l.isInteger(e.i.low)&&l.isInteger(e.i.high)))return"i: integer|Long expected";if(e.s!=null&&e.hasOwnProperty("s")&&!(e.s&&typeof e.s.length=="number"||l.isString(e.s)))return"s: buffer expected";if(e.t!=null&&e.hasOwnProperty("t")&&(r=a.onnx.TensorProto.verify(e.t)))return"t."+r;if(e.g!=null&&e.hasOwnProperty("g")&&(r=a.onnx.GraphProto.verify(e.g)))return"g."+r;if(e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")&&(r=a.onnx.SparseTensorProto.verify(e.sparseTensor)))return"sparseTensor."+r;if(e.tp!=null&&e.hasOwnProperty("tp")&&(r=a.onnx.TypeProto.verify(e.tp)))return"tp."+r;if(e.floats!=null&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if(typeof e.floats[t]!="number")return"floats: number[] expected"}if(e.ints!=null&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(l.isInteger(e.ints[t])||e.ints[t]&&l.isInteger(e.ints[t].low)&&l.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(e.strings!=null&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&typeof e.strings[t].length=="number"||l.isString(e.strings[t])))return"strings: buffer[] expected"}if(e.tensors!=null&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(r=a.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+r}if(e.graphs!=null&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t)if(r=a.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+r}if(e.sparseTensors!=null&&e.hasOwnProperty("sparseTensors")){if(!Array.isArray(e.sparseTensors))return"sparseTensors: array expected";for(t=0;t<e.sparseTensors.length;++t)if(r=a.onnx.SparseTensorProto.verify(e.sparseTensors[t]))return"sparseTensors."+r}if(e.typeProtos!=null&&e.hasOwnProperty("typeProtos")){if(!Array.isArray(e.typeProtos))return"typeProtos: array expected";for(t=0;t<e.typeProtos.length;++t){var r;if(r=a.onnx.TypeProto.verify(e.typeProtos[t]))return"typeProtos."+r}}return null},n.fromObject=function(e){if(e instanceof a.onnx.AttributeProto)return e;var t=new a.onnx.AttributeProto;switch(e.name!=null&&(t.name=String(e.name)),e.refAttrName!=null&&(t.refAttrName=String(e.refAttrName)),e.docString!=null&&(t.docString=String(e.docString)),e.type){default:if(typeof e.type=="number"){t.type=e.type;break}break;case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"SPARSE_TENSOR":case 11:t.type=11;break;case"TYPE_PROTO":case 13:t.type=13;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10;break;case"SPARSE_TENSORS":case 12:t.type=12;break;case"TYPE_PROTOS":case 14:t.type=14}if(e.f!=null&&(t.f=Number(e.f)),e.i!=null&&(l.Long?(t.i=l.Long.fromValue(e.i)).unsigned=!1:typeof e.i=="string"?t.i=parseInt(e.i,10):typeof e.i=="number"?t.i=e.i:typeof e.i=="object"&&(t.i=new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),e.s!=null&&(typeof e.s=="string"?l.base64.decode(e.s,t.s=l.newBuffer(l.base64.length(e.s)),0):e.s.length>=0&&(t.s=e.s)),e.t!=null){if(typeof e.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");t.t=a.onnx.TensorProto.fromObject(e.t)}if(e.g!=null){if(typeof e.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");t.g=a.onnx.GraphProto.fromObject(e.g)}if(e.sparseTensor!=null){if(typeof e.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");t.sparseTensor=a.onnx.SparseTensorProto.fromObject(e.sparseTensor)}if(e.tp!=null){if(typeof e.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");t.tp=a.onnx.TypeProto.fromObject(e.tp)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var r=0;r<e.floats.length;++r)t.floats[r]=Number(e.floats[r])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],r=0;r<e.ints.length;++r)l.Long?(t.ints[r]=l.Long.fromValue(e.ints[r])).unsigned=!1:typeof e.ints[r]=="string"?t.ints[r]=parseInt(e.ints[r],10):typeof e.ints[r]=="number"?t.ints[r]=e.ints[r]:typeof e.ints[r]=="object"&&(t.ints[r]=new l.LongBits(e.ints[r].low>>>0,e.ints[r].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],r=0;r<e.strings.length;++r)typeof e.strings[r]=="string"?l.base64.decode(e.strings[r],t.strings[r]=l.newBuffer(l.base64.length(e.strings[r])),0):e.strings[r].length>=0&&(t.strings[r]=e.strings[r])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],r=0;r<e.tensors.length;++r){if(typeof e.tensors[r]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[r]=a.onnx.TensorProto.fromObject(e.tensors[r])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],r=0;r<e.graphs.length;++r){if(typeof e.graphs[r]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[r]=a.onnx.GraphProto.fromObject(e.graphs[r])}}if(e.sparseTensors){if(!Array.isArray(e.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(t.sparseTensors=[],r=0;r<e.sparseTensors.length;++r){if(typeof e.sparseTensors[r]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");t.sparseTensors[r]=a.onnx.SparseTensorProto.fromObject(e.sparseTensors[r])}}if(e.typeProtos){if(!Array.isArray(e.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(t.typeProtos=[],r=0;r<e.typeProtos.length;++r){if(typeof e.typeProtos[r]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");t.typeProtos[r]=a.onnx.TypeProto.fromObject(e.typeProtos[r])}}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.floats=[],r.ints=[],r.strings=[],r.tensors=[],r.graphs=[],r.typeProtos=[],r.sparseTensors=[]),t.defaults){if(r.name="",r.f=0,l.Long){var u=new l.Long(0,0,!1);r.i=t.longs===String?u.toString():t.longs===Number?u.toNumber():u}else r.i=t.longs===String?"0":0;t.bytes===String?r.s="":(r.s=[],t.bytes!==Array&&(r.s=l.newBuffer(r.s))),r.t=null,r.g=null,r.docString="",r.tp=null,r.type=t.enums===String?"UNDEFINED":0,r.refAttrName="",r.sparseTensor=null}if(e.name!=null&&e.hasOwnProperty("name")&&(r.name=e.name),e.f!=null&&e.hasOwnProperty("f")&&(r.f=t.json&&!isFinite(e.f)?String(e.f):e.f),e.i!=null&&e.hasOwnProperty("i")&&(typeof e.i=="number"?r.i=t.longs===String?String(e.i):e.i:r.i=t.longs===String?l.Long.prototype.toString.call(e.i):t.longs===Number?new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),e.s!=null&&e.hasOwnProperty("s")&&(r.s=t.bytes===String?l.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),e.t!=null&&e.hasOwnProperty("t")&&(r.t=a.onnx.TensorProto.toObject(e.t,t)),e.g!=null&&e.hasOwnProperty("g")&&(r.g=a.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){r.floats=[];for(var h=0;h<e.floats.length;++h)r.floats[h]=t.json&&!isFinite(e.floats[h])?String(e.floats[h]):e.floats[h]}if(e.ints&&e.ints.length)for(r.ints=[],h=0;h<e.ints.length;++h)typeof e.ints[h]=="number"?r.ints[h]=t.longs===String?String(e.ints[h]):e.ints[h]:r.ints[h]=t.longs===String?l.Long.prototype.toString.call(e.ints[h]):t.longs===Number?new l.LongBits(e.ints[h].low>>>0,e.ints[h].high>>>0).toNumber():e.ints[h];if(e.strings&&e.strings.length)for(r.strings=[],h=0;h<e.strings.length;++h)r.strings[h]=t.bytes===String?l.base64.encode(e.strings[h],0,e.strings[h].length):t.bytes===Array?Array.prototype.slice.call(e.strings[h]):e.strings[h];if(e.tensors&&e.tensors.length)for(r.tensors=[],h=0;h<e.tensors.length;++h)r.tensors[h]=a.onnx.TensorProto.toObject(e.tensors[h],t);if(e.graphs&&e.graphs.length)for(r.graphs=[],h=0;h<e.graphs.length;++h)r.graphs[h]=a.onnx.GraphProto.toObject(e.graphs[h],t);if(e.docString!=null&&e.hasOwnProperty("docString")&&(r.docString=e.docString),e.tp!=null&&e.hasOwnProperty("tp")&&(r.tp=a.onnx.TypeProto.toObject(e.tp,t)),e.typeProtos&&e.typeProtos.length)for(r.typeProtos=[],h=0;h<e.typeProtos.length;++h)r.typeProtos[h]=a.onnx.TypeProto.toObject(e.typeProtos[h],t);if(e.type!=null&&e.hasOwnProperty("type")&&(r.type=t.enums===String?a.onnx.AttributeProto.AttributeType[e.type]===void 0?e.type:a.onnx.AttributeProto.AttributeType[e.type]:e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&(r.refAttrName=e.refAttrName),e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")&&(r.sparseTensor=a.onnx.SparseTensorProto.toObject(e.sparseTensor,t)),e.sparseTensors&&e.sparseTensors.length)for(r.sparseTensors=[],h=0;h<e.sparseTensors.length;++h)r.sparseTensors[h]=a.onnx.SparseTensorProto.toObject(e.sparseTensors[h],t);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.AttributeProto"},n.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[11]="SPARSE_TENSOR"]=11,t[e[13]="TYPE_PROTO"]=13,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t[e[12]="SPARSE_TENSORS"]=12,t[e[14]="TYPE_PROTOS"]=14,t}(),n}(),f.ValueInfoProto=function(){function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.name="",n.prototype.type=null,n.prototype.docString="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=m.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&a.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(26).string(e.docString),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.ValueInfoProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.name=e.string();break;case 2:u.type=a.onnx.TypeProto.decode(e,e.uint32());break;case 3:u.docString=e.string();break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(e.type!=null&&e.hasOwnProperty("type")){var t=a.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return e.docString!=null&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},n.fromObject=function(e){if(e instanceof a.onnx.ValueInfoProto)return e;var t=new a.onnx.ValueInfoProto;if(e.name!=null&&(t.name=String(e.name)),e.type!=null){if(typeof e.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=a.onnx.TypeProto.fromObject(e.type)}return e.docString!=null&&(t.docString=String(e.docString)),t},n.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.type=null,r.docString=""),e.name!=null&&e.hasOwnProperty("name")&&(r.name=e.name),e.type!=null&&e.hasOwnProperty("type")&&(r.type=a.onnx.TypeProto.toObject(e.type,t)),e.docString!=null&&e.hasOwnProperty("docString")&&(r.docString=e.docString),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ValueInfoProto"},n}(),f.NodeProto=function(){function n(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.input=l.emptyArray,n.prototype.output=l.emptyArray,n.prototype.name="",n.prototype.opType="",n.prototype.domain="",n.prototype.attribute=l.emptyArray,n.prototype.docString="",n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.input!=null&&e.input.length)for(var r=0;r<e.input.length;++r)t.uint32(10).string(e.input[r]);if(e.output!=null&&e.output.length)for(r=0;r<e.output.length;++r)t.uint32(18).string(e.output[r]);if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),e.opType!=null&&Object.hasOwnProperty.call(e,"opType")&&t.uint32(34).string(e.opType),e.attribute!=null&&e.attribute.length)for(r=0;r<e.attribute.length;++r)a.onnx.AttributeProto.encode(e.attribute[r],t.uint32(42).fork()).ldelim();return e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(50).string(e.docString),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(58).string(e.domain),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.NodeProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.input&&u.input.length||(u.input=[]),u.input.push(e.string());break;case 2:u.output&&u.output.length||(u.output=[]),u.output.push(e.string());break;case 3:u.name=e.string();break;case 4:u.opType=e.string();break;case 7:u.domain=e.string();break;case 5:u.attribute&&u.attribute.length||(u.attribute=[]),u.attribute.push(a.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:u.docString=e.string();break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!l.isString(e.input[t]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!l.isString(e.output[t]))return"output: string[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(e.opType!=null&&e.hasOwnProperty("opType")&&!l.isString(e.opType))return"opType: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var r=a.onnx.AttributeProto.verify(e.attribute[t]);if(r)return"attribute."+r}}return e.docString!=null&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},n.fromObject=function(e){if(e instanceof a.onnx.NodeProto)return e;var t=new a.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var r=0;r<e.input.length;++r)t.input[r]=String(e.input[r])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],r=0;r<e.output.length;++r)t.output[r]=String(e.output[r])}if(e.name!=null&&(t.name=String(e.name)),e.opType!=null&&(t.opType=String(e.opType)),e.domain!=null&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],r=0;r<e.attribute.length;++r){if(typeof e.attribute[r]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[r]=a.onnx.AttributeProto.fromObject(e.attribute[r])}}return e.docString!=null&&(t.docString=String(e.docString)),t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.input=[],r.output=[],r.attribute=[]),t.defaults&&(r.name="",r.opType="",r.docString="",r.domain=""),e.input&&e.input.length){r.input=[];for(var u=0;u<e.input.length;++u)r.input[u]=e.input[u]}if(e.output&&e.output.length)for(r.output=[],u=0;u<e.output.length;++u)r.output[u]=e.output[u];if(e.name!=null&&e.hasOwnProperty("name")&&(r.name=e.name),e.opType!=null&&e.hasOwnProperty("opType")&&(r.opType=e.opType),e.attribute&&e.attribute.length)for(r.attribute=[],u=0;u<e.attribute.length;++u)r.attribute[u]=a.onnx.AttributeProto.toObject(e.attribute[u],t);return e.docString!=null&&e.hasOwnProperty("docString")&&(r.docString=e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&(r.domain=e.domain),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.NodeProto"},n}(),f.TrainingInfoProto=function(){function n(e){if(this.initializationBinding=[],this.updateBinding=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.initialization=null,n.prototype.algorithm=null,n.prototype.initializationBinding=l.emptyArray,n.prototype.updateBinding=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.initialization!=null&&Object.hasOwnProperty.call(e,"initialization")&&a.onnx.GraphProto.encode(e.initialization,t.uint32(10).fork()).ldelim(),e.algorithm!=null&&Object.hasOwnProperty.call(e,"algorithm")&&a.onnx.GraphProto.encode(e.algorithm,t.uint32(18).fork()).ldelim(),e.initializationBinding!=null&&e.initializationBinding.length)for(var r=0;r<e.initializationBinding.length;++r)a.onnx.StringStringEntryProto.encode(e.initializationBinding[r],t.uint32(26).fork()).ldelim();if(e.updateBinding!=null&&e.updateBinding.length)for(r=0;r<e.updateBinding.length;++r)a.onnx.StringStringEntryProto.encode(e.updateBinding[r],t.uint32(34).fork()).ldelim();return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.TrainingInfoProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.initialization=a.onnx.GraphProto.decode(e,e.uint32());break;case 2:u.algorithm=a.onnx.GraphProto.decode(e,e.uint32());break;case 3:u.initializationBinding&&u.initializationBinding.length||(u.initializationBinding=[]),u.initializationBinding.push(a.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 4:u.updateBinding&&u.updateBinding.length||(u.updateBinding=[]),u.updateBinding.push(a.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.initialization!=null&&e.hasOwnProperty("initialization")&&(r=a.onnx.GraphProto.verify(e.initialization)))return"initialization."+r;if(e.algorithm!=null&&e.hasOwnProperty("algorithm")&&(r=a.onnx.GraphProto.verify(e.algorithm)))return"algorithm."+r;if(e.initializationBinding!=null&&e.hasOwnProperty("initializationBinding")){if(!Array.isArray(e.initializationBinding))return"initializationBinding: array expected";for(var t=0;t<e.initializationBinding.length;++t)if(r=a.onnx.StringStringEntryProto.verify(e.initializationBinding[t]))return"initializationBinding."+r}if(e.updateBinding!=null&&e.hasOwnProperty("updateBinding")){if(!Array.isArray(e.updateBinding))return"updateBinding: array expected";for(t=0;t<e.updateBinding.length;++t){var r;if(r=a.onnx.StringStringEntryProto.verify(e.updateBinding[t]))return"updateBinding."+r}}return null},n.fromObject=function(e){if(e instanceof a.onnx.TrainingInfoProto)return e;var t=new a.onnx.TrainingInfoProto;if(e.initialization!=null){if(typeof e.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");t.initialization=a.onnx.GraphProto.fromObject(e.initialization)}if(e.algorithm!=null){if(typeof e.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");t.algorithm=a.onnx.GraphProto.fromObject(e.algorithm)}if(e.initializationBinding){if(!Array.isArray(e.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");t.initializationBinding=[];for(var r=0;r<e.initializationBinding.length;++r){if(typeof e.initializationBinding[r]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");t.initializationBinding[r]=a.onnx.StringStringEntryProto.fromObject(e.initializationBinding[r])}}if(e.updateBinding){if(!Array.isArray(e.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(t.updateBinding=[],r=0;r<e.updateBinding.length;++r){if(typeof e.updateBinding[r]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");t.updateBinding[r]=a.onnx.StringStringEntryProto.fromObject(e.updateBinding[r])}}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.initializationBinding=[],r.updateBinding=[]),t.defaults&&(r.initialization=null,r.algorithm=null),e.initialization!=null&&e.hasOwnProperty("initialization")&&(r.initialization=a.onnx.GraphProto.toObject(e.initialization,t)),e.algorithm!=null&&e.hasOwnProperty("algorithm")&&(r.algorithm=a.onnx.GraphProto.toObject(e.algorithm,t)),e.initializationBinding&&e.initializationBinding.length){r.initializationBinding=[];for(var u=0;u<e.initializationBinding.length;++u)r.initializationBinding[u]=a.onnx.StringStringEntryProto.toObject(e.initializationBinding[u],t)}if(e.updateBinding&&e.updateBinding.length)for(r.updateBinding=[],u=0;u<e.updateBinding.length;++u)r.updateBinding[u]=a.onnx.StringStringEntryProto.toObject(e.updateBinding[u],t);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TrainingInfoProto"},n}(),f.ModelProto=function(){function n(e){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.irVersion=l.Long?l.Long.fromBits(0,0,!1):0,n.prototype.opsetImport=l.emptyArray,n.prototype.producerName="",n.prototype.producerVersion="",n.prototype.domain="",n.prototype.modelVersion=l.Long?l.Long.fromBits(0,0,!1):0,n.prototype.docString="",n.prototype.graph=null,n.prototype.metadataProps=l.emptyArray,n.prototype.trainingInfo=l.emptyArray,n.prototype.functions=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.irVersion!=null&&Object.hasOwnProperty.call(e,"irVersion")&&t.uint32(8).int64(e.irVersion),e.producerName!=null&&Object.hasOwnProperty.call(e,"producerName")&&t.uint32(18).string(e.producerName),e.producerVersion!=null&&Object.hasOwnProperty.call(e,"producerVersion")&&t.uint32(26).string(e.producerVersion),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(34).string(e.domain),e.modelVersion!=null&&Object.hasOwnProperty.call(e,"modelVersion")&&t.uint32(40).int64(e.modelVersion),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(50).string(e.docString),e.graph!=null&&Object.hasOwnProperty.call(e,"graph")&&a.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),e.opsetImport!=null&&e.opsetImport.length)for(var r=0;r<e.opsetImport.length;++r)a.onnx.OperatorSetIdProto.encode(e.opsetImport[r],t.uint32(66).fork()).ldelim();if(e.metadataProps!=null&&e.metadataProps.length)for(r=0;r<e.metadataProps.length;++r)a.onnx.StringStringEntryProto.encode(e.metadataProps[r],t.uint32(114).fork()).ldelim();if(e.trainingInfo!=null&&e.trainingInfo.length)for(r=0;r<e.trainingInfo.length;++r)a.onnx.TrainingInfoProto.encode(e.trainingInfo[r],t.uint32(162).fork()).ldelim();if(e.functions!=null&&e.functions.length)for(r=0;r<e.functions.length;++r)a.onnx.FunctionProto.encode(e.functions[r],t.uint32(202).fork()).ldelim();return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.ModelProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.irVersion=e.int64();break;case 8:u.opsetImport&&u.opsetImport.length||(u.opsetImport=[]),u.opsetImport.push(a.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:u.producerName=e.string();break;case 3:u.producerVersion=e.string();break;case 4:u.domain=e.string();break;case 5:u.modelVersion=e.int64();break;case 6:u.docString=e.string();break;case 7:u.graph=a.onnx.GraphProto.decode(e,e.uint32());break;case 14:u.metadataProps&&u.metadataProps.length||(u.metadataProps=[]),u.metadataProps.push(a.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 20:u.trainingInfo&&u.trainingInfo.length||(u.trainingInfo=[]),u.trainingInfo.push(a.onnx.TrainingInfoProto.decode(e,e.uint32()));break;case 25:u.functions&&u.functions.length||(u.functions=[]),u.functions.push(a.onnx.FunctionProto.decode(e,e.uint32()));break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&!(l.isInteger(e.irVersion)||e.irVersion&&l.isInteger(e.irVersion.low)&&l.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(r=a.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+r}if(e.producerName!=null&&e.hasOwnProperty("producerName")&&!l.isString(e.producerName))return"producerName: string expected";if(e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&!l.isString(e.producerVersion))return"producerVersion: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&!(l.isInteger(e.modelVersion)||e.modelVersion&&l.isInteger(e.modelVersion.low)&&l.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(e.graph!=null&&e.hasOwnProperty("graph")&&(r=a.onnx.GraphProto.verify(e.graph)))return"graph."+r;if(e.metadataProps!=null&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t)if(r=a.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+r}if(e.trainingInfo!=null&&e.hasOwnProperty("trainingInfo")){if(!Array.isArray(e.trainingInfo))return"trainingInfo: array expected";for(t=0;t<e.trainingInfo.length;++t)if(r=a.onnx.TrainingInfoProto.verify(e.trainingInfo[t]))return"trainingInfo."+r}if(e.functions!=null&&e.hasOwnProperty("functions")){if(!Array.isArray(e.functions))return"functions: array expected";for(t=0;t<e.functions.length;++t){var r;if(r=a.onnx.FunctionProto.verify(e.functions[t]))return"functions."+r}}return null},n.fromObject=function(e){if(e instanceof a.onnx.ModelProto)return e;var t=new a.onnx.ModelProto;if(e.irVersion!=null&&(l.Long?(t.irVersion=l.Long.fromValue(e.irVersion)).unsigned=!1:typeof e.irVersion=="string"?t.irVersion=parseInt(e.irVersion,10):typeof e.irVersion=="number"?t.irVersion=e.irVersion:typeof e.irVersion=="object"&&(t.irVersion=new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var r=0;r<e.opsetImport.length;++r){if(typeof e.opsetImport[r]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[r]=a.onnx.OperatorSetIdProto.fromObject(e.opsetImport[r])}}if(e.producerName!=null&&(t.producerName=String(e.producerName)),e.producerVersion!=null&&(t.producerVersion=String(e.producerVersion)),e.domain!=null&&(t.domain=String(e.domain)),e.modelVersion!=null&&(l.Long?(t.modelVersion=l.Long.fromValue(e.modelVersion)).unsigned=!1:typeof e.modelVersion=="string"?t.modelVersion=parseInt(e.modelVersion,10):typeof e.modelVersion=="number"?t.modelVersion=e.modelVersion:typeof e.modelVersion=="object"&&(t.modelVersion=new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),e.docString!=null&&(t.docString=String(e.docString)),e.graph!=null){if(typeof e.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=a.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],r=0;r<e.metadataProps.length;++r){if(typeof e.metadataProps[r]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[r]=a.onnx.StringStringEntryProto.fromObject(e.metadataProps[r])}}if(e.trainingInfo){if(!Array.isArray(e.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(t.trainingInfo=[],r=0;r<e.trainingInfo.length;++r){if(typeof e.trainingInfo[r]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");t.trainingInfo[r]=a.onnx.TrainingInfoProto.fromObject(e.trainingInfo[r])}}if(e.functions){if(!Array.isArray(e.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(t.functions=[],r=0;r<e.functions.length;++r){if(typeof e.functions[r]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");t.functions[r]=a.onnx.FunctionProto.fromObject(e.functions[r])}}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.opsetImport=[],r.metadataProps=[],r.trainingInfo=[],r.functions=[]),t.defaults){if(l.Long){var u=new l.Long(0,0,!1);r.irVersion=t.longs===String?u.toString():t.longs===Number?u.toNumber():u}else r.irVersion=t.longs===String?"0":0;r.producerName="",r.producerVersion="",r.domain="",l.Long?(u=new l.Long(0,0,!1),r.modelVersion=t.longs===String?u.toString():t.longs===Number?u.toNumber():u):r.modelVersion=t.longs===String?"0":0,r.docString="",r.graph=null}if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&(typeof e.irVersion=="number"?r.irVersion=t.longs===String?String(e.irVersion):e.irVersion:r.irVersion=t.longs===String?l.Long.prototype.toString.call(e.irVersion):t.longs===Number?new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&(r.producerName=e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&(r.producerVersion=e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&(r.domain=e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&(typeof e.modelVersion=="number"?r.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:r.modelVersion=t.longs===String?l.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&(r.docString=e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&(r.graph=a.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){r.opsetImport=[];for(var h=0;h<e.opsetImport.length;++h)r.opsetImport[h]=a.onnx.OperatorSetIdProto.toObject(e.opsetImport[h],t)}if(e.metadataProps&&e.metadataProps.length)for(r.metadataProps=[],h=0;h<e.metadataProps.length;++h)r.metadataProps[h]=a.onnx.StringStringEntryProto.toObject(e.metadataProps[h],t);if(e.trainingInfo&&e.trainingInfo.length)for(r.trainingInfo=[],h=0;h<e.trainingInfo.length;++h)r.trainingInfo[h]=a.onnx.TrainingInfoProto.toObject(e.trainingInfo[h],t);if(e.functions&&e.functions.length)for(r.functions=[],h=0;h<e.functions.length;++h)r.functions[h]=a.onnx.FunctionProto.toObject(e.functions[h],t);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ModelProto"},n}(),f.StringStringEntryProto=function(){function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.key="",n.prototype.value="",n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=m.create()),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.StringStringEntryProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.key=e.string();break;case 2:u.value=e.string();break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!l.isString(e.key)?"key: string expected":e.value!=null&&e.hasOwnProperty("value")&&!l.isString(e.value)?"value: string expected":null},n.fromObject=function(e){if(e instanceof a.onnx.StringStringEntryProto)return e;var t=new a.onnx.StringStringEntryProto;return e.key!=null&&(t.key=String(e.key)),e.value!=null&&(t.value=String(e.value)),t},n.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=""),e.key!=null&&e.hasOwnProperty("key")&&(r.key=e.key),e.value!=null&&e.hasOwnProperty("value")&&(r.value=e.value),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.StringStringEntryProto"},n}(),f.TensorAnnotation=function(){function n(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.tensorName="",n.prototype.quantParameterTensorNames=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.tensorName!=null&&Object.hasOwnProperty.call(e,"tensorName")&&t.uint32(10).string(e.tensorName),e.quantParameterTensorNames!=null&&e.quantParameterTensorNames.length)for(var r=0;r<e.quantParameterTensorNames.length;++r)a.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[r],t.uint32(18).fork()).ldelim();return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.TensorAnnotation;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.tensorName=e.string();break;case 2:u.quantParameterTensorNames&&u.quantParameterTensorNames.length||(u.quantParameterTensorNames=[]),u.quantParameterTensorNames.push(a.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.tensorName!=null&&e.hasOwnProperty("tensorName")&&!l.isString(e.tensorName))return"tensorName: string expected";if(e.quantParameterTensorNames!=null&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var r=a.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(r)return"quantParameterTensorNames."+r}}return null},n.fromObject=function(e){if(e instanceof a.onnx.TensorAnnotation)return e;var t=new a.onnx.TensorAnnotation;if(e.tensorName!=null&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r){if(typeof e.quantParameterTensorNames[r]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[r]=a.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[r])}}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.quantParameterTensorNames=[]),t.defaults&&(r.tensorName=""),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&(r.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){r.quantParameterTensorNames=[];for(var u=0;u<e.quantParameterTensorNames.length;++u)r.quantParameterTensorNames[u]=a.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[u],t)}return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorAnnotation"},n}(),f.GraphProto=function(){function n(e){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.node=l.emptyArray,n.prototype.name="",n.prototype.initializer=l.emptyArray,n.prototype.sparseInitializer=l.emptyArray,n.prototype.docString="",n.prototype.input=l.emptyArray,n.prototype.output=l.emptyArray,n.prototype.valueInfo=l.emptyArray,n.prototype.quantizationAnnotation=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.node!=null&&e.node.length)for(var r=0;r<e.node.length;++r)a.onnx.NodeProto.encode(e.node[r],t.uint32(10).fork()).ldelim();if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),e.initializer!=null&&e.initializer.length)for(r=0;r<e.initializer.length;++r)a.onnx.TensorProto.encode(e.initializer[r],t.uint32(42).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(82).string(e.docString),e.input!=null&&e.input.length)for(r=0;r<e.input.length;++r)a.onnx.ValueInfoProto.encode(e.input[r],t.uint32(90).fork()).ldelim();if(e.output!=null&&e.output.length)for(r=0;r<e.output.length;++r)a.onnx.ValueInfoProto.encode(e.output[r],t.uint32(98).fork()).ldelim();if(e.valueInfo!=null&&e.valueInfo.length)for(r=0;r<e.valueInfo.length;++r)a.onnx.ValueInfoProto.encode(e.valueInfo[r],t.uint32(106).fork()).ldelim();if(e.quantizationAnnotation!=null&&e.quantizationAnnotation.length)for(r=0;r<e.quantizationAnnotation.length;++r)a.onnx.TensorAnnotation.encode(e.quantizationAnnotation[r],t.uint32(114).fork()).ldelim();if(e.sparseInitializer!=null&&e.sparseInitializer.length)for(r=0;r<e.sparseInitializer.length;++r)a.onnx.SparseTensorProto.encode(e.sparseInitializer[r],t.uint32(122).fork()).ldelim();return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.GraphProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.node&&u.node.length||(u.node=[]),u.node.push(a.onnx.NodeProto.decode(e,e.uint32()));break;case 2:u.name=e.string();break;case 5:u.initializer&&u.initializer.length||(u.initializer=[]),u.initializer.push(a.onnx.TensorProto.decode(e,e.uint32()));break;case 15:u.sparseInitializer&&u.sparseInitializer.length||(u.sparseInitializer=[]),u.sparseInitializer.push(a.onnx.SparseTensorProto.decode(e,e.uint32()));break;case 10:u.docString=e.string();break;case 11:u.input&&u.input.length||(u.input=[]),u.input.push(a.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:u.output&&u.output.length||(u.output=[]),u.output.push(a.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:u.valueInfo&&u.valueInfo.length||(u.valueInfo=[]),u.valueInfo.push(a.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:u.quantizationAnnotation&&u.quantizationAnnotation.length||(u.quantizationAnnotation=[]),u.quantizationAnnotation.push(a.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(r=a.onnx.NodeProto.verify(e.node[t]))return"node."+r}if(e.name!=null&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(e.initializer!=null&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(r=a.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+r}if(e.sparseInitializer!=null&&e.hasOwnProperty("sparseInitializer")){if(!Array.isArray(e.sparseInitializer))return"sparseInitializer: array expected";for(t=0;t<e.sparseInitializer.length;++t)if(r=a.onnx.SparseTensorProto.verify(e.sparseInitializer[t]))return"sparseInitializer."+r}if(e.docString!=null&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(r=a.onnx.ValueInfoProto.verify(e.input[t]))return"input."+r}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(r=a.onnx.ValueInfoProto.verify(e.output[t]))return"output."+r}if(e.valueInfo!=null&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(r=a.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+r}if(e.quantizationAnnotation!=null&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var r;if(r=a.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+r}}return null},n.fromObject=function(e){if(e instanceof a.onnx.GraphProto)return e;var t=new a.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var r=0;r<e.node.length;++r){if(typeof e.node[r]!="object")throw TypeError(".onnx.GraphProto.node: object expected");t.node[r]=a.onnx.NodeProto.fromObject(e.node[r])}}if(e.name!=null&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],r=0;r<e.initializer.length;++r){if(typeof e.initializer[r]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[r]=a.onnx.TensorProto.fromObject(e.initializer[r])}}if(e.sparseInitializer){if(!Array.isArray(e.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(t.sparseInitializer=[],r=0;r<e.sparseInitializer.length;++r){if(typeof e.sparseInitializer[r]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");t.sparseInitializer[r]=a.onnx.SparseTensorProto.fromObject(e.sparseInitializer[r])}}if(e.docString!=null&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],r=0;r<e.input.length;++r){if(typeof e.input[r]!="object")throw TypeError(".onnx.GraphProto.input: object expected");t.input[r]=a.onnx.ValueInfoProto.fromObject(e.input[r])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],r=0;r<e.output.length;++r){if(typeof e.output[r]!="object")throw TypeError(".onnx.GraphProto.output: object expected");t.output[r]=a.onnx.ValueInfoProto.fromObject(e.output[r])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],r=0;r<e.valueInfo.length;++r){if(typeof e.valueInfo[r]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[r]=a.onnx.ValueInfoProto.fromObject(e.valueInfo[r])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r){if(typeof e.quantizationAnnotation[r]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[r]=a.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[r])}}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.node=[],r.initializer=[],r.input=[],r.output=[],r.valueInfo=[],r.quantizationAnnotation=[],r.sparseInitializer=[]),t.defaults&&(r.name="",r.docString=""),e.node&&e.node.length){r.node=[];for(var u=0;u<e.node.length;++u)r.node[u]=a.onnx.NodeProto.toObject(e.node[u],t)}if(e.name!=null&&e.hasOwnProperty("name")&&(r.name=e.name),e.initializer&&e.initializer.length)for(r.initializer=[],u=0;u<e.initializer.length;++u)r.initializer[u]=a.onnx.TensorProto.toObject(e.initializer[u],t);if(e.docString!=null&&e.hasOwnProperty("docString")&&(r.docString=e.docString),e.input&&e.input.length)for(r.input=[],u=0;u<e.input.length;++u)r.input[u]=a.onnx.ValueInfoProto.toObject(e.input[u],t);if(e.output&&e.output.length)for(r.output=[],u=0;u<e.output.length;++u)r.output[u]=a.onnx.ValueInfoProto.toObject(e.output[u],t);if(e.valueInfo&&e.valueInfo.length)for(r.valueInfo=[],u=0;u<e.valueInfo.length;++u)r.valueInfo[u]=a.onnx.ValueInfoProto.toObject(e.valueInfo[u],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(r.quantizationAnnotation=[],u=0;u<e.quantizationAnnotation.length;++u)r.quantizationAnnotation[u]=a.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[u],t);if(e.sparseInitializer&&e.sparseInitializer.length)for(r.sparseInitializer=[],u=0;u<e.sparseInitializer.length;++u)r.sparseInitializer[u]=a.onnx.SparseTensorProto.toObject(e.sparseInitializer[u],t);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.GraphProto"},n}(),f.TensorProto=function(){function n(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.dims=l.emptyArray,n.prototype.dataType=0,n.prototype.segment=null,n.prototype.floatData=l.emptyArray,n.prototype.int32Data=l.emptyArray,n.prototype.stringData=l.emptyArray,n.prototype.int64Data=l.emptyArray,n.prototype.name="",n.prototype.docString="",n.prototype.rawData=l.newBuffer([]),n.prototype.externalData=l.emptyArray,n.prototype.dataLocation=0,n.prototype.doubleData=l.emptyArray,n.prototype.uint64Data=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.dims!=null&&e.dims.length){t.uint32(10).fork();for(var r=0;r<e.dims.length;++r)t.int64(e.dims[r]);t.ldelim()}if(e.dataType!=null&&Object.hasOwnProperty.call(e,"dataType")&&t.uint32(16).int32(e.dataType),e.segment!=null&&Object.hasOwnProperty.call(e,"segment")&&a.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),e.floatData!=null&&e.floatData.length){for(t.uint32(34).fork(),r=0;r<e.floatData.length;++r)t.float(e.floatData[r]);t.ldelim()}if(e.int32Data!=null&&e.int32Data.length){for(t.uint32(42).fork(),r=0;r<e.int32Data.length;++r)t.int32(e.int32Data[r]);t.ldelim()}if(e.stringData!=null&&e.stringData.length)for(r=0;r<e.stringData.length;++r)t.uint32(50).bytes(e.stringData[r]);if(e.int64Data!=null&&e.int64Data.length){for(t.uint32(58).fork(),r=0;r<e.int64Data.length;++r)t.int64(e.int64Data[r]);t.ldelim()}if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(66).string(e.name),e.rawData!=null&&Object.hasOwnProperty.call(e,"rawData")&&t.uint32(74).bytes(e.rawData),e.doubleData!=null&&e.doubleData.length){for(t.uint32(82).fork(),r=0;r<e.doubleData.length;++r)t.double(e.doubleData[r]);t.ldelim()}if(e.uint64Data!=null&&e.uint64Data.length){for(t.uint32(90).fork(),r=0;r<e.uint64Data.length;++r)t.uint64(e.uint64Data[r]);t.ldelim()}if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(98).string(e.docString),e.externalData!=null&&e.externalData.length)for(r=0;r<e.externalData.length;++r)a.onnx.StringStringEntryProto.encode(e.externalData[r],t.uint32(106).fork()).ldelim();return e.dataLocation!=null&&Object.hasOwnProperty.call(e,"dataLocation")&&t.uint32(112).int32(e.dataLocation),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.TensorProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:if(u.dims&&u.dims.length||(u.dims=[]),(7&h)==2)for(var b=e.uint32()+e.pos;e.pos<b;)u.dims.push(e.int64());else u.dims.push(e.int64());break;case 2:u.dataType=e.int32();break;case 3:u.segment=a.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(u.floatData&&u.floatData.length||(u.floatData=[]),(7&h)==2)for(b=e.uint32()+e.pos;e.pos<b;)u.floatData.push(e.float());else u.floatData.push(e.float());break;case 5:if(u.int32Data&&u.int32Data.length||(u.int32Data=[]),(7&h)==2)for(b=e.uint32()+e.pos;e.pos<b;)u.int32Data.push(e.int32());else u.int32Data.push(e.int32());break;case 6:u.stringData&&u.stringData.length||(u.stringData=[]),u.stringData.push(e.bytes());break;case 7:if(u.int64Data&&u.int64Data.length||(u.int64Data=[]),(7&h)==2)for(b=e.uint32()+e.pos;e.pos<b;)u.int64Data.push(e.int64());else u.int64Data.push(e.int64());break;case 8:u.name=e.string();break;case 12:u.docString=e.string();break;case 9:u.rawData=e.bytes();break;case 13:u.externalData&&u.externalData.length||(u.externalData=[]),u.externalData.push(a.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:u.dataLocation=e.int32();break;case 10:if(u.doubleData&&u.doubleData.length||(u.doubleData=[]),(7&h)==2)for(b=e.uint32()+e.pos;e.pos<b;)u.doubleData.push(e.double());else u.doubleData.push(e.double());break;case 11:if(u.uint64Data&&u.uint64Data.length||(u.uint64Data=[]),(7&h)==2)for(b=e.uint32()+e.pos;e.pos<b;)u.uint64Data.push(e.uint64());else u.uint64Data.push(e.uint64());break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(l.isInteger(e.dims[t])||e.dims[t]&&l.isInteger(e.dims[t].low)&&l.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&!l.isInteger(e.dataType))return"dataType: integer expected";if(e.segment!=null&&e.hasOwnProperty("segment")&&(r=a.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+r;if(e.floatData!=null&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if(typeof e.floatData[t]!="number")return"floatData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!l.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(e.stringData!=null&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&typeof e.stringData[t].length=="number"||l.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(l.isInteger(e.int64Data[t])||e.int64Data[t]&&l.isInteger(e.int64Data[t].low)&&l.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||l.isString(e.rawData)))return"rawData: buffer expected";if(e.externalData!=null&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var r;if(r=a.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+r}}if(e.dataLocation!=null&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if(typeof e.doubleData[t]!="number")return"doubleData: number[] expected"}if(e.uint64Data!=null&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(l.isInteger(e.uint64Data[t])||e.uint64Data[t]&&l.isInteger(e.uint64Data[t].low)&&l.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},n.fromObject=function(e){if(e instanceof a.onnx.TensorProto)return e;var t=new a.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var r=0;r<e.dims.length;++r)l.Long?(t.dims[r]=l.Long.fromValue(e.dims[r])).unsigned=!1:typeof e.dims[r]=="string"?t.dims[r]=parseInt(e.dims[r],10):typeof e.dims[r]=="number"?t.dims[r]=e.dims[r]:typeof e.dims[r]=="object"&&(t.dims[r]=new l.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber())}if(e.dataType!=null&&(t.dataType=0|e.dataType),e.segment!=null){if(typeof e.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=a.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],r=0;r<e.floatData.length;++r)t.floatData[r]=Number(e.floatData[r])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],r=0;r<e.int32Data.length;++r)t.int32Data[r]=0|e.int32Data[r]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],r=0;r<e.stringData.length;++r)typeof e.stringData[r]=="string"?l.base64.decode(e.stringData[r],t.stringData[r]=l.newBuffer(l.base64.length(e.stringData[r])),0):e.stringData[r].length>=0&&(t.stringData[r]=e.stringData[r])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],r=0;r<e.int64Data.length;++r)l.Long?(t.int64Data[r]=l.Long.fromValue(e.int64Data[r])).unsigned=!1:typeof e.int64Data[r]=="string"?t.int64Data[r]=parseInt(e.int64Data[r],10):typeof e.int64Data[r]=="number"?t.int64Data[r]=e.int64Data[r]:typeof e.int64Data[r]=="object"&&(t.int64Data[r]=new l.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber())}if(e.name!=null&&(t.name=String(e.name)),e.docString!=null&&(t.docString=String(e.docString)),e.rawData!=null&&(typeof e.rawData=="string"?l.base64.decode(e.rawData,t.rawData=l.newBuffer(l.base64.length(e.rawData)),0):e.rawData.length>=0&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],r=0;r<e.externalData.length;++r){if(typeof e.externalData[r]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[r]=a.onnx.StringStringEntryProto.fromObject(e.externalData[r])}}switch(e.dataLocation){default:if(typeof e.dataLocation=="number"){t.dataLocation=e.dataLocation;break}break;case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],r=0;r<e.doubleData.length;++r)t.doubleData[r]=Number(e.doubleData[r])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],r=0;r<e.uint64Data.length;++r)l.Long?(t.uint64Data[r]=l.Long.fromValue(e.uint64Data[r])).unsigned=!0:typeof e.uint64Data[r]=="string"?t.uint64Data[r]=parseInt(e.uint64Data[r],10):typeof e.uint64Data[r]=="number"?t.uint64Data[r]=e.uint64Data[r]:typeof e.uint64Data[r]=="object"&&(t.uint64Data[r]=new l.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0))}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dims=[],r.floatData=[],r.int32Data=[],r.stringData=[],r.int64Data=[],r.doubleData=[],r.uint64Data=[],r.externalData=[]),t.defaults&&(r.dataType=0,r.segment=null,r.name="",t.bytes===String?r.rawData="":(r.rawData=[],t.bytes!==Array&&(r.rawData=l.newBuffer(r.rawData))),r.docString="",r.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){r.dims=[];for(var u=0;u<e.dims.length;++u)typeof e.dims[u]=="number"?r.dims[u]=t.longs===String?String(e.dims[u]):e.dims[u]:r.dims[u]=t.longs===String?l.Long.prototype.toString.call(e.dims[u]):t.longs===Number?new l.LongBits(e.dims[u].low>>>0,e.dims[u].high>>>0).toNumber():e.dims[u]}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&(r.dataType=e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&(r.segment=a.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(r.floatData=[],u=0;u<e.floatData.length;++u)r.floatData[u]=t.json&&!isFinite(e.floatData[u])?String(e.floatData[u]):e.floatData[u];if(e.int32Data&&e.int32Data.length)for(r.int32Data=[],u=0;u<e.int32Data.length;++u)r.int32Data[u]=e.int32Data[u];if(e.stringData&&e.stringData.length)for(r.stringData=[],u=0;u<e.stringData.length;++u)r.stringData[u]=t.bytes===String?l.base64.encode(e.stringData[u],0,e.stringData[u].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[u]):e.stringData[u];if(e.int64Data&&e.int64Data.length)for(r.int64Data=[],u=0;u<e.int64Data.length;++u)typeof e.int64Data[u]=="number"?r.int64Data[u]=t.longs===String?String(e.int64Data[u]):e.int64Data[u]:r.int64Data[u]=t.longs===String?l.Long.prototype.toString.call(e.int64Data[u]):t.longs===Number?new l.LongBits(e.int64Data[u].low>>>0,e.int64Data[u].high>>>0).toNumber():e.int64Data[u];if(e.name!=null&&e.hasOwnProperty("name")&&(r.name=e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&(r.rawData=t.bytes===String?l.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(r.doubleData=[],u=0;u<e.doubleData.length;++u)r.doubleData[u]=t.json&&!isFinite(e.doubleData[u])?String(e.doubleData[u]):e.doubleData[u];if(e.uint64Data&&e.uint64Data.length)for(r.uint64Data=[],u=0;u<e.uint64Data.length;++u)typeof e.uint64Data[u]=="number"?r.uint64Data[u]=t.longs===String?String(e.uint64Data[u]):e.uint64Data[u]:r.uint64Data[u]=t.longs===String?l.Long.prototype.toString.call(e.uint64Data[u]):t.longs===Number?new l.LongBits(e.uint64Data[u].low>>>0,e.uint64Data[u].high>>>0).toNumber(!0):e.uint64Data[u];if(e.docString!=null&&e.hasOwnProperty("docString")&&(r.docString=e.docString),e.externalData&&e.externalData.length)for(r.externalData=[],u=0;u<e.externalData.length;++u)r.externalData[u]=a.onnx.StringStringEntryProto.toObject(e.externalData[u],t);return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&(r.dataLocation=t.enums===String?a.onnx.TensorProto.DataLocation[e.dataLocation]===void 0?e.dataLocation:a.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorProto"},n.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t[e[17]="FLOAT8E4M3FN"]=17,t[e[18]="FLOAT8E4M3FNUZ"]=18,t[e[19]="FLOAT8E5M2"]=19,t[e[20]="FLOAT8E5M2FNUZ"]=20,t}(),n.Segment=function(){function e(t){if(t)for(var r=Object.keys(t),u=0;u<r.length;++u)t[r[u]]!=null&&(this[r[u]]=t[r[u]])}return e.prototype.begin=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.end=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=m.create()),t.begin!=null&&Object.hasOwnProperty.call(t,"begin")&&r.uint32(8).int64(t.begin),t.end!=null&&Object.hasOwnProperty.call(t,"end")&&r.uint32(16).int64(t.end),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof p||(t=p.create(t));for(var u=r===void 0?t.len:t.pos+r,h=new a.onnx.TensorProto.Segment;t.pos<u;){var b=t.uint32();switch(b>>>3){case 1:h.begin=t.int64();break;case 2:h.end=t.int64();break;default:t.skipType(7&b)}}return h},e.decodeDelimited=function(t){return t instanceof p||(t=new p(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.begin!=null&&t.hasOwnProperty("begin")&&!(l.isInteger(t.begin)||t.begin&&l.isInteger(t.begin.low)&&l.isInteger(t.begin.high))?"begin: integer|Long expected":t.end!=null&&t.hasOwnProperty("end")&&!(l.isInteger(t.end)||t.end&&l.isInteger(t.end.low)&&l.isInteger(t.end.high))?"end: integer|Long expected":null},e.fromObject=function(t){if(t instanceof a.onnx.TensorProto.Segment)return t;var r=new a.onnx.TensorProto.Segment;return t.begin!=null&&(l.Long?(r.begin=l.Long.fromValue(t.begin)).unsigned=!1:typeof t.begin=="string"?r.begin=parseInt(t.begin,10):typeof t.begin=="number"?r.begin=t.begin:typeof t.begin=="object"&&(r.begin=new l.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber())),t.end!=null&&(l.Long?(r.end=l.Long.fromValue(t.end)).unsigned=!1:typeof t.end=="string"?r.end=parseInt(t.end,10):typeof t.end=="number"?r.end=t.end:typeof t.end=="object"&&(r.end=new l.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber())),r},e.toObject=function(t,r){r||(r={});var u={};if(r.defaults){if(l.Long){var h=new l.Long(0,0,!1);u.begin=r.longs===String?h.toString():r.longs===Number?h.toNumber():h}else u.begin=r.longs===String?"0":0;l.Long?(h=new l.Long(0,0,!1),u.end=r.longs===String?h.toString():r.longs===Number?h.toNumber():h):u.end=r.longs===String?"0":0}return t.begin!=null&&t.hasOwnProperty("begin")&&(typeof t.begin=="number"?u.begin=r.longs===String?String(t.begin):t.begin:u.begin=r.longs===String?l.Long.prototype.toString.call(t.begin):r.longs===Number?new l.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber():t.begin),t.end!=null&&t.hasOwnProperty("end")&&(typeof t.end=="number"?u.end=r.longs===String?String(t.end):t.end:u.end=r.longs===String?l.Long.prototype.toString.call(t.end):r.longs===Number?new l.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber():t.end),u},e.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorProto.Segment"},e}(),n.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),n}(),f.SparseTensorProto=function(){function n(e){if(this.dims=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.values=null,n.prototype.indices=null,n.prototype.dims=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.values!=null&&Object.hasOwnProperty.call(e,"values")&&a.onnx.TensorProto.encode(e.values,t.uint32(10).fork()).ldelim(),e.indices!=null&&Object.hasOwnProperty.call(e,"indices")&&a.onnx.TensorProto.encode(e.indices,t.uint32(18).fork()).ldelim(),e.dims!=null&&e.dims.length){t.uint32(26).fork();for(var r=0;r<e.dims.length;++r)t.int64(e.dims[r]);t.ldelim()}return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.SparseTensorProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.values=a.onnx.TensorProto.decode(e,e.uint32());break;case 2:u.indices=a.onnx.TensorProto.decode(e,e.uint32());break;case 3:if(u.dims&&u.dims.length||(u.dims=[]),(7&h)==2)for(var b=e.uint32()+e.pos;e.pos<b;)u.dims.push(e.int64());else u.dims.push(e.int64());break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var t;if(e.values!=null&&e.hasOwnProperty("values")&&(t=a.onnx.TensorProto.verify(e.values)))return"values."+t;if(e.indices!=null&&e.hasOwnProperty("indices")&&(t=a.onnx.TensorProto.verify(e.indices)))return"indices."+t;if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var r=0;r<e.dims.length;++r)if(!(l.isInteger(e.dims[r])||e.dims[r]&&l.isInteger(e.dims[r].low)&&l.isInteger(e.dims[r].high)))return"dims: integer|Long[] expected"}return null},n.fromObject=function(e){if(e instanceof a.onnx.SparseTensorProto)return e;var t=new a.onnx.SparseTensorProto;if(e.values!=null){if(typeof e.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");t.values=a.onnx.TensorProto.fromObject(e.values)}if(e.indices!=null){if(typeof e.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");t.indices=a.onnx.TensorProto.fromObject(e.indices)}if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");t.dims=[];for(var r=0;r<e.dims.length;++r)l.Long?(t.dims[r]=l.Long.fromValue(e.dims[r])).unsigned=!1:typeof e.dims[r]=="string"?t.dims[r]=parseInt(e.dims[r],10):typeof e.dims[r]=="number"?t.dims[r]=e.dims[r]:typeof e.dims[r]=="object"&&(t.dims[r]=new l.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber())}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dims=[]),t.defaults&&(r.values=null,r.indices=null),e.values!=null&&e.hasOwnProperty("values")&&(r.values=a.onnx.TensorProto.toObject(e.values,t)),e.indices!=null&&e.hasOwnProperty("indices")&&(r.indices=a.onnx.TensorProto.toObject(e.indices,t)),e.dims&&e.dims.length){r.dims=[];for(var u=0;u<e.dims.length;++u)typeof e.dims[u]=="number"?r.dims[u]=t.longs===String?String(e.dims[u]):e.dims[u]:r.dims[u]=t.longs===String?l.Long.prototype.toString.call(e.dims[u]):t.longs===Number?new l.LongBits(e.dims[u].low>>>0,e.dims[u].high>>>0).toNumber():e.dims[u]}return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.SparseTensorProto"},n}(),f.TensorShapeProto=function(){function n(e){if(this.dim=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.dim=l.emptyArray,n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.dim!=null&&e.dim.length)for(var r=0;r<e.dim.length;++r)a.onnx.TensorShapeProto.Dimension.encode(e.dim[r],t.uint32(10).fork()).ldelim();return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.TensorShapeProto;e.pos<r;){var h=e.uint32();h>>>3==1?(u.dim&&u.dim.length||(u.dim=[]),u.dim.push(a.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&h)}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dim!=null&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var r=a.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(r)return"dim."+r}}return null},n.fromObject=function(e){if(e instanceof a.onnx.TensorShapeProto)return e;var t=new a.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var r=0;r<e.dim.length;++r){if(typeof e.dim[r]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[r]=a.onnx.TensorShapeProto.Dimension.fromObject(e.dim[r])}}return t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dim=[]),e.dim&&e.dim.length){r.dim=[];for(var u=0;u<e.dim.length;++u)r.dim[u]=a.onnx.TensorShapeProto.Dimension.toObject(e.dim[u],t)}return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorShapeProto"},n.Dimension=function(){function e(r){if(r)for(var u=Object.keys(r),h=0;h<u.length;++h)r[u[h]]!=null&&(this[u[h]]=r[u[h]])}var t;return e.prototype.dimValue=null,e.prototype.dimParam=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:l.oneOfGetter(t=["dimValue","dimParam"]),set:l.oneOfSetter(t)}),e.create=function(r){return new e(r)},e.encode=function(r,u){return u||(u=m.create()),r.dimValue!=null&&Object.hasOwnProperty.call(r,"dimValue")&&u.uint32(8).int64(r.dimValue),r.dimParam!=null&&Object.hasOwnProperty.call(r,"dimParam")&&u.uint32(18).string(r.dimParam),r.denotation!=null&&Object.hasOwnProperty.call(r,"denotation")&&u.uint32(26).string(r.denotation),u},e.encodeDelimited=function(r,u){return this.encode(r,u).ldelim()},e.decode=function(r,u){r instanceof p||(r=p.create(r));for(var h=u===void 0?r.len:r.pos+u,b=new a.onnx.TensorShapeProto.Dimension;r.pos<h;){var _=r.uint32();switch(_>>>3){case 1:b.dimValue=r.int64();break;case 2:b.dimParam=r.string();break;case 3:b.denotation=r.string();break;default:r.skipType(7&_)}}return b},e.decodeDelimited=function(r){return r instanceof p||(r=new p(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var u={};if(r.dimValue!=null&&r.hasOwnProperty("dimValue")&&(u.value=1,!(l.isInteger(r.dimValue)||r.dimValue&&l.isInteger(r.dimValue.low)&&l.isInteger(r.dimValue.high))))return"dimValue: integer|Long expected";if(r.dimParam!=null&&r.hasOwnProperty("dimParam")){if(u.value===1)return"value: multiple values";if(u.value=1,!l.isString(r.dimParam))return"dimParam: string expected"}return r.denotation!=null&&r.hasOwnProperty("denotation")&&!l.isString(r.denotation)?"denotation: string expected":null},e.fromObject=function(r){if(r instanceof a.onnx.TensorShapeProto.Dimension)return r;var u=new a.onnx.TensorShapeProto.Dimension;return r.dimValue!=null&&(l.Long?(u.dimValue=l.Long.fromValue(r.dimValue)).unsigned=!1:typeof r.dimValue=="string"?u.dimValue=parseInt(r.dimValue,10):typeof r.dimValue=="number"?u.dimValue=r.dimValue:typeof r.dimValue=="object"&&(u.dimValue=new l.LongBits(r.dimValue.low>>>0,r.dimValue.high>>>0).toNumber())),r.dimParam!=null&&(u.dimParam=String(r.dimParam)),r.denotation!=null&&(u.denotation=String(r.denotation)),u},e.toObject=function(r,u){u||(u={});var h={};return u.defaults&&(h.denotation=""),r.dimValue!=null&&r.hasOwnProperty("dimValue")&&(typeof r.dimValue=="number"?h.dimValue=u.longs===String?String(r.dimValue):r.dimValue:h.dimValue=u.longs===String?l.Long.prototype.toString.call(r.dimValue):u.longs===Number?new l.LongBits(r.dimValue.low>>>0,r.dimValue.high>>>0).toNumber():r.dimValue,u.oneofs&&(h.value="dimValue")),r.dimParam!=null&&r.hasOwnProperty("dimParam")&&(h.dimParam=r.dimParam,u.oneofs&&(h.value="dimParam")),r.denotation!=null&&r.hasOwnProperty("denotation")&&(h.denotation=r.denotation),h},e.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TensorShapeProto.Dimension"},e}(),n}(),f.TypeProto=function(){function n(t){if(t)for(var r=Object.keys(t),u=0;u<r.length;++u)t[r[u]]!=null&&(this[r[u]]=t[r[u]])}var e;return n.prototype.tensorType=null,n.prototype.sequenceType=null,n.prototype.mapType=null,n.prototype.optionalType=null,n.prototype.sparseTensorType=null,n.prototype.denotation="",Object.defineProperty(n.prototype,"value",{get:l.oneOfGetter(e=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:l.oneOfSetter(e)}),n.create=function(t){return new n(t)},n.encode=function(t,r){return r||(r=m.create()),t.tensorType!=null&&Object.hasOwnProperty.call(t,"tensorType")&&a.onnx.TypeProto.Tensor.encode(t.tensorType,r.uint32(10).fork()).ldelim(),t.sequenceType!=null&&Object.hasOwnProperty.call(t,"sequenceType")&&a.onnx.TypeProto.Sequence.encode(t.sequenceType,r.uint32(34).fork()).ldelim(),t.mapType!=null&&Object.hasOwnProperty.call(t,"mapType")&&a.onnx.TypeProto.Map.encode(t.mapType,r.uint32(42).fork()).ldelim(),t.denotation!=null&&Object.hasOwnProperty.call(t,"denotation")&&r.uint32(50).string(t.denotation),t.sparseTensorType!=null&&Object.hasOwnProperty.call(t,"sparseTensorType")&&a.onnx.TypeProto.SparseTensor.encode(t.sparseTensorType,r.uint32(66).fork()).ldelim(),t.optionalType!=null&&Object.hasOwnProperty.call(t,"optionalType")&&a.onnx.TypeProto.Optional.encode(t.optionalType,r.uint32(74).fork()).ldelim(),r},n.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},n.decode=function(t,r){t instanceof p||(t=p.create(t));for(var u=r===void 0?t.len:t.pos+r,h=new a.onnx.TypeProto;t.pos<u;){var b=t.uint32();switch(b>>>3){case 1:h.tensorType=a.onnx.TypeProto.Tensor.decode(t,t.uint32());break;case 4:h.sequenceType=a.onnx.TypeProto.Sequence.decode(t,t.uint32());break;case 5:h.mapType=a.onnx.TypeProto.Map.decode(t,t.uint32());break;case 9:h.optionalType=a.onnx.TypeProto.Optional.decode(t,t.uint32());break;case 8:h.sparseTensorType=a.onnx.TypeProto.SparseTensor.decode(t,t.uint32());break;case 6:h.denotation=t.string();break;default:t.skipType(7&b)}}return h},n.decodeDelimited=function(t){return t instanceof p||(t=new p(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";var r={};if(t.tensorType!=null&&t.hasOwnProperty("tensorType")&&(r.value=1,u=a.onnx.TypeProto.Tensor.verify(t.tensorType)))return"tensorType."+u;if(t.sequenceType!=null&&t.hasOwnProperty("sequenceType")){if(r.value===1)return"value: multiple values";if(r.value=1,u=a.onnx.TypeProto.Sequence.verify(t.sequenceType))return"sequenceType."+u}if(t.mapType!=null&&t.hasOwnProperty("mapType")){if(r.value===1)return"value: multiple values";if(r.value=1,u=a.onnx.TypeProto.Map.verify(t.mapType))return"mapType."+u}if(t.optionalType!=null&&t.hasOwnProperty("optionalType")){if(r.value===1)return"value: multiple values";if(r.value=1,u=a.onnx.TypeProto.Optional.verify(t.optionalType))return"optionalType."+u}if(t.sparseTensorType!=null&&t.hasOwnProperty("sparseTensorType")){if(r.value===1)return"value: multiple values";var u;if(r.value=1,u=a.onnx.TypeProto.SparseTensor.verify(t.sparseTensorType))return"sparseTensorType."+u}return t.denotation!=null&&t.hasOwnProperty("denotation")&&!l.isString(t.denotation)?"denotation: string expected":null},n.fromObject=function(t){if(t instanceof a.onnx.TypeProto)return t;var r=new a.onnx.TypeProto;if(t.tensorType!=null){if(typeof t.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");r.tensorType=a.onnx.TypeProto.Tensor.fromObject(t.tensorType)}if(t.sequenceType!=null){if(typeof t.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");r.sequenceType=a.onnx.TypeProto.Sequence.fromObject(t.sequenceType)}if(t.mapType!=null){if(typeof t.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");r.mapType=a.onnx.TypeProto.Map.fromObject(t.mapType)}if(t.optionalType!=null){if(typeof t.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");r.optionalType=a.onnx.TypeProto.Optional.fromObject(t.optionalType)}if(t.sparseTensorType!=null){if(typeof t.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");r.sparseTensorType=a.onnx.TypeProto.SparseTensor.fromObject(t.sparseTensorType)}return t.denotation!=null&&(r.denotation=String(t.denotation)),r},n.toObject=function(t,r){r||(r={});var u={};return r.defaults&&(u.denotation=""),t.tensorType!=null&&t.hasOwnProperty("tensorType")&&(u.tensorType=a.onnx.TypeProto.Tensor.toObject(t.tensorType,r),r.oneofs&&(u.value="tensorType")),t.sequenceType!=null&&t.hasOwnProperty("sequenceType")&&(u.sequenceType=a.onnx.TypeProto.Sequence.toObject(t.sequenceType,r),r.oneofs&&(u.value="sequenceType")),t.mapType!=null&&t.hasOwnProperty("mapType")&&(u.mapType=a.onnx.TypeProto.Map.toObject(t.mapType,r),r.oneofs&&(u.value="mapType")),t.denotation!=null&&t.hasOwnProperty("denotation")&&(u.denotation=t.denotation),t.sparseTensorType!=null&&t.hasOwnProperty("sparseTensorType")&&(u.sparseTensorType=a.onnx.TypeProto.SparseTensor.toObject(t.sparseTensorType,r),r.oneofs&&(u.value="sparseTensorType")),t.optionalType!=null&&t.hasOwnProperty("optionalType")&&(u.optionalType=a.onnx.TypeProto.Optional.toObject(t.optionalType,r),r.oneofs&&(u.value="optionalType")),u},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TypeProto"},n.Tensor=function(){function t(r){if(r)for(var u=Object.keys(r),h=0;h<u.length;++h)r[u[h]]!=null&&(this[u[h]]=r[u[h]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(r){return new t(r)},t.encode=function(r,u){return u||(u=m.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&u.uint32(8).int32(r.elemType),r.shape!=null&&Object.hasOwnProperty.call(r,"shape")&&a.onnx.TensorShapeProto.encode(r.shape,u.uint32(18).fork()).ldelim(),u},t.encodeDelimited=function(r,u){return this.encode(r,u).ldelim()},t.decode=function(r,u){r instanceof p||(r=p.create(r));for(var h=u===void 0?r.len:r.pos+u,b=new a.onnx.TypeProto.Tensor;r.pos<h;){var _=r.uint32();switch(_>>>3){case 1:b.elemType=r.int32();break;case 2:b.shape=a.onnx.TensorShapeProto.decode(r,r.uint32());break;default:r.skipType(7&_)}}return b},t.decodeDelimited=function(r){return r instanceof p||(r=new p(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")&&!l.isInteger(r.elemType))return"elemType: integer expected";if(r.shape!=null&&r.hasOwnProperty("shape")){var u=a.onnx.TensorShapeProto.verify(r.shape);if(u)return"shape."+u}return null},t.fromObject=function(r){if(r instanceof a.onnx.TypeProto.Tensor)return r;var u=new a.onnx.TypeProto.Tensor;if(r.elemType!=null&&(u.elemType=0|r.elemType),r.shape!=null){if(typeof r.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");u.shape=a.onnx.TensorShapeProto.fromObject(r.shape)}return u},t.toObject=function(r,u){u||(u={});var h={};return u.defaults&&(h.elemType=0,h.shape=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(h.elemType=r.elemType),r.shape!=null&&r.hasOwnProperty("shape")&&(h.shape=a.onnx.TensorShapeProto.toObject(r.shape,u)),h},t.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Tensor"},t}(),n.Sequence=function(){function t(r){if(r)for(var u=Object.keys(r),h=0;h<u.length;++h)r[u[h]]!=null&&(this[u[h]]=r[u[h]])}return t.prototype.elemType=null,t.create=function(r){return new t(r)},t.encode=function(r,u){return u||(u=m.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&a.onnx.TypeProto.encode(r.elemType,u.uint32(10).fork()).ldelim(),u},t.encodeDelimited=function(r,u){return this.encode(r,u).ldelim()},t.decode=function(r,u){r instanceof p||(r=p.create(r));for(var h=u===void 0?r.len:r.pos+u,b=new a.onnx.TypeProto.Sequence;r.pos<h;){var _=r.uint32();_>>>3==1?b.elemType=a.onnx.TypeProto.decode(r,r.uint32()):r.skipType(7&_)}return b},t.decodeDelimited=function(r){return r instanceof p||(r=new p(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")){var u=a.onnx.TypeProto.verify(r.elemType);if(u)return"elemType."+u}return null},t.fromObject=function(r){if(r instanceof a.onnx.TypeProto.Sequence)return r;var u=new a.onnx.TypeProto.Sequence;if(r.elemType!=null){if(typeof r.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");u.elemType=a.onnx.TypeProto.fromObject(r.elemType)}return u},t.toObject=function(r,u){u||(u={});var h={};return u.defaults&&(h.elemType=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(h.elemType=a.onnx.TypeProto.toObject(r.elemType,u)),h},t.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Sequence"},t}(),n.Map=function(){function t(r){if(r)for(var u=Object.keys(r),h=0;h<u.length;++h)r[u[h]]!=null&&(this[u[h]]=r[u[h]])}return t.prototype.keyType=0,t.prototype.valueType=null,t.create=function(r){return new t(r)},t.encode=function(r,u){return u||(u=m.create()),r.keyType!=null&&Object.hasOwnProperty.call(r,"keyType")&&u.uint32(8).int32(r.keyType),r.valueType!=null&&Object.hasOwnProperty.call(r,"valueType")&&a.onnx.TypeProto.encode(r.valueType,u.uint32(18).fork()).ldelim(),u},t.encodeDelimited=function(r,u){return this.encode(r,u).ldelim()},t.decode=function(r,u){r instanceof p||(r=p.create(r));for(var h=u===void 0?r.len:r.pos+u,b=new a.onnx.TypeProto.Map;r.pos<h;){var _=r.uint32();switch(_>>>3){case 1:b.keyType=r.int32();break;case 2:b.valueType=a.onnx.TypeProto.decode(r,r.uint32());break;default:r.skipType(7&_)}}return b},t.decodeDelimited=function(r){return r instanceof p||(r=new p(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.keyType!=null&&r.hasOwnProperty("keyType")&&!l.isInteger(r.keyType))return"keyType: integer expected";if(r.valueType!=null&&r.hasOwnProperty("valueType")){var u=a.onnx.TypeProto.verify(r.valueType);if(u)return"valueType."+u}return null},t.fromObject=function(r){if(r instanceof a.onnx.TypeProto.Map)return r;var u=new a.onnx.TypeProto.Map;if(r.keyType!=null&&(u.keyType=0|r.keyType),r.valueType!=null){if(typeof r.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");u.valueType=a.onnx.TypeProto.fromObject(r.valueType)}return u},t.toObject=function(r,u){u||(u={});var h={};return u.defaults&&(h.keyType=0,h.valueType=null),r.keyType!=null&&r.hasOwnProperty("keyType")&&(h.keyType=r.keyType),r.valueType!=null&&r.hasOwnProperty("valueType")&&(h.valueType=a.onnx.TypeProto.toObject(r.valueType,u)),h},t.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Map"},t}(),n.Optional=function(){function t(r){if(r)for(var u=Object.keys(r),h=0;h<u.length;++h)r[u[h]]!=null&&(this[u[h]]=r[u[h]])}return t.prototype.elemType=null,t.create=function(r){return new t(r)},t.encode=function(r,u){return u||(u=m.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&a.onnx.TypeProto.encode(r.elemType,u.uint32(10).fork()).ldelim(),u},t.encodeDelimited=function(r,u){return this.encode(r,u).ldelim()},t.decode=function(r,u){r instanceof p||(r=p.create(r));for(var h=u===void 0?r.len:r.pos+u,b=new a.onnx.TypeProto.Optional;r.pos<h;){var _=r.uint32();_>>>3==1?b.elemType=a.onnx.TypeProto.decode(r,r.uint32()):r.skipType(7&_)}return b},t.decodeDelimited=function(r){return r instanceof p||(r=new p(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")){var u=a.onnx.TypeProto.verify(r.elemType);if(u)return"elemType."+u}return null},t.fromObject=function(r){if(r instanceof a.onnx.TypeProto.Optional)return r;var u=new a.onnx.TypeProto.Optional;if(r.elemType!=null){if(typeof r.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");u.elemType=a.onnx.TypeProto.fromObject(r.elemType)}return u},t.toObject=function(r,u){u||(u={});var h={};return u.defaults&&(h.elemType=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(h.elemType=a.onnx.TypeProto.toObject(r.elemType,u)),h},t.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Optional"},t}(),n.SparseTensor=function(){function t(r){if(r)for(var u=Object.keys(r),h=0;h<u.length;++h)r[u[h]]!=null&&(this[u[h]]=r[u[h]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(r){return new t(r)},t.encode=function(r,u){return u||(u=m.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&u.uint32(8).int32(r.elemType),r.shape!=null&&Object.hasOwnProperty.call(r,"shape")&&a.onnx.TensorShapeProto.encode(r.shape,u.uint32(18).fork()).ldelim(),u},t.encodeDelimited=function(r,u){return this.encode(r,u).ldelim()},t.decode=function(r,u){r instanceof p||(r=p.create(r));for(var h=u===void 0?r.len:r.pos+u,b=new a.onnx.TypeProto.SparseTensor;r.pos<h;){var _=r.uint32();switch(_>>>3){case 1:b.elemType=r.int32();break;case 2:b.shape=a.onnx.TensorShapeProto.decode(r,r.uint32());break;default:r.skipType(7&_)}}return b},t.decodeDelimited=function(r){return r instanceof p||(r=new p(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")&&!l.isInteger(r.elemType))return"elemType: integer expected";if(r.shape!=null&&r.hasOwnProperty("shape")){var u=a.onnx.TensorShapeProto.verify(r.shape);if(u)return"shape."+u}return null},t.fromObject=function(r){if(r instanceof a.onnx.TypeProto.SparseTensor)return r;var u=new a.onnx.TypeProto.SparseTensor;if(r.elemType!=null&&(u.elemType=0|r.elemType),r.shape!=null){if(typeof r.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");u.shape=a.onnx.TensorShapeProto.fromObject(r.shape)}return u},t.toObject=function(r,u){u||(u={});var h={};return u.defaults&&(h.elemType=0,h.shape=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(h.elemType=r.elemType),r.shape!=null&&r.hasOwnProperty("shape")&&(h.shape=a.onnx.TensorShapeProto.toObject(r.shape,u)),h},t.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.SparseTensor"},t}(),n}(),f.OperatorSetIdProto=function(){function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.domain="",n.prototype.version=l.Long?l.Long.fromBits(0,0,!1):0,n.create=function(e){return new n(e)},n.encode=function(e,t){return t||(t=m.create()),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(10).string(e.domain),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).int64(e.version),t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.OperatorSetIdProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.domain=e.string();break;case 2:u.version=e.int64();break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){return typeof e!="object"||e===null?"object expected":e.domain!=null&&e.hasOwnProperty("domain")&&!l.isString(e.domain)?"domain: string expected":e.version!=null&&e.hasOwnProperty("version")&&!(l.isInteger(e.version)||e.version&&l.isInteger(e.version.low)&&l.isInteger(e.version.high))?"version: integer|Long expected":null},n.fromObject=function(e){if(e instanceof a.onnx.OperatorSetIdProto)return e;var t=new a.onnx.OperatorSetIdProto;return e.domain!=null&&(t.domain=String(e.domain)),e.version!=null&&(l.Long?(t.version=l.Long.fromValue(e.version)).unsigned=!1:typeof e.version=="string"?t.version=parseInt(e.version,10):typeof e.version=="number"?t.version=e.version:typeof e.version=="object"&&(t.version=new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},n.toObject=function(e,t){t||(t={});var r={};if(t.defaults)if(r.domain="",l.Long){var u=new l.Long(0,0,!1);r.version=t.longs===String?u.toString():t.longs===Number?u.toNumber():u}else r.version=t.longs===String?"0":0;return e.domain!=null&&e.hasOwnProperty("domain")&&(r.domain=e.domain),e.version!=null&&e.hasOwnProperty("version")&&(typeof e.version=="number"?r.version=t.longs===String?String(e.version):e.version:r.version=t.longs===String?l.Long.prototype.toString.call(e.version):t.longs===Number?new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.OperatorSetIdProto"},n}(),f.OperatorStatus=function(){var n={},e=Object.create(n);return e[n[0]="EXPERIMENTAL"]=0,e[n[1]="STABLE"]=1,e}(),f.FunctionProto=function(){function n(e){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)e[t[r]]!=null&&(this[t[r]]=e[t[r]])}return n.prototype.name="",n.prototype.input=l.emptyArray,n.prototype.output=l.emptyArray,n.prototype.attribute=l.emptyArray,n.prototype.attributeProto=l.emptyArray,n.prototype.node=l.emptyArray,n.prototype.docString="",n.prototype.opsetImport=l.emptyArray,n.prototype.domain="",n.create=function(e){return new n(e)},n.encode=function(e,t){if(t||(t=m.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),e.input!=null&&e.input.length)for(var r=0;r<e.input.length;++r)t.uint32(34).string(e.input[r]);if(e.output!=null&&e.output.length)for(r=0;r<e.output.length;++r)t.uint32(42).string(e.output[r]);if(e.attribute!=null&&e.attribute.length)for(r=0;r<e.attribute.length;++r)t.uint32(50).string(e.attribute[r]);if(e.node!=null&&e.node.length)for(r=0;r<e.node.length;++r)a.onnx.NodeProto.encode(e.node[r],t.uint32(58).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(66).string(e.docString),e.opsetImport!=null&&e.opsetImport.length)for(r=0;r<e.opsetImport.length;++r)a.onnx.OperatorSetIdProto.encode(e.opsetImport[r],t.uint32(74).fork()).ldelim();if(e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(82).string(e.domain),e.attributeProto!=null&&e.attributeProto.length)for(r=0;r<e.attributeProto.length;++r)a.onnx.AttributeProto.encode(e.attributeProto[r],t.uint32(90).fork()).ldelim();return t},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(e,t){e instanceof p||(e=p.create(e));for(var r=t===void 0?e.len:e.pos+t,u=new a.onnx.FunctionProto;e.pos<r;){var h=e.uint32();switch(h>>>3){case 1:u.name=e.string();break;case 4:u.input&&u.input.length||(u.input=[]),u.input.push(e.string());break;case 5:u.output&&u.output.length||(u.output=[]),u.output.push(e.string());break;case 6:u.attribute&&u.attribute.length||(u.attribute=[]),u.attribute.push(e.string());break;case 11:u.attributeProto&&u.attributeProto.length||(u.attributeProto=[]),u.attributeProto.push(a.onnx.AttributeProto.decode(e,e.uint32()));break;case 7:u.node&&u.node.length||(u.node=[]),u.node.push(a.onnx.NodeProto.decode(e,e.uint32()));break;case 8:u.docString=e.string();break;case 9:u.opsetImport&&u.opsetImport.length||(u.opsetImport=[]),u.opsetImport.push(a.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 10:u.domain=e.string();break;default:e.skipType(7&h)}}return u},n.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!l.isString(e.input[t]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!l.isString(e.output[t]))return"output: string[] expected"}if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t)if(!l.isString(e.attribute[t]))return"attribute: string[] expected"}if(e.attributeProto!=null&&e.hasOwnProperty("attributeProto")){if(!Array.isArray(e.attributeProto))return"attributeProto: array expected";for(t=0;t<e.attributeProto.length;++t)if(r=a.onnx.AttributeProto.verify(e.attributeProto[t]))return"attributeProto."+r}if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(t=0;t<e.node.length;++t)if(r=a.onnx.NodeProto.verify(e.node[t]))return"node."+r}if(e.docString!=null&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(t=0;t<e.opsetImport.length;++t){var r;if(r=a.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+r}}return e.domain!=null&&e.hasOwnProperty("domain")&&!l.isString(e.domain)?"domain: string expected":null},n.fromObject=function(e){if(e instanceof a.onnx.FunctionProto)return e;var t=new a.onnx.FunctionProto;if(e.name!=null&&(t.name=String(e.name)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.FunctionProto.input: array expected");t.input=[];for(var r=0;r<e.input.length;++r)t.input[r]=String(e.input[r])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(t.output=[],r=0;r<e.output.length;++r)t.output[r]=String(e.output[r])}if(e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(t.attribute=[],r=0;r<e.attribute.length;++r)t.attribute[r]=String(e.attribute[r])}if(e.attributeProto){if(!Array.isArray(e.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(t.attributeProto=[],r=0;r<e.attributeProto.length;++r){if(typeof e.attributeProto[r]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");t.attributeProto[r]=a.onnx.AttributeProto.fromObject(e.attributeProto[r])}}if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(t.node=[],r=0;r<e.node.length;++r){if(typeof e.node[r]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");t.node[r]=a.onnx.NodeProto.fromObject(e.node[r])}}if(e.docString!=null&&(t.docString=String(e.docString)),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(t.opsetImport=[],r=0;r<e.opsetImport.length;++r){if(typeof e.opsetImport[r]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");t.opsetImport[r]=a.onnx.OperatorSetIdProto.fromObject(e.opsetImport[r])}}return e.domain!=null&&(t.domain=String(e.domain)),t},n.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.input=[],r.output=[],r.attribute=[],r.node=[],r.opsetImport=[],r.attributeProto=[]),t.defaults&&(r.name="",r.docString="",r.domain=""),e.name!=null&&e.hasOwnProperty("name")&&(r.name=e.name),e.input&&e.input.length){r.input=[];for(var u=0;u<e.input.length;++u)r.input[u]=e.input[u]}if(e.output&&e.output.length)for(r.output=[],u=0;u<e.output.length;++u)r.output[u]=e.output[u];if(e.attribute&&e.attribute.length)for(r.attribute=[],u=0;u<e.attribute.length;++u)r.attribute[u]=e.attribute[u];if(e.node&&e.node.length)for(r.node=[],u=0;u<e.node.length;++u)r.node[u]=a.onnx.NodeProto.toObject(e.node[u],t);if(e.docString!=null&&e.hasOwnProperty("docString")&&(r.docString=e.docString),e.opsetImport&&e.opsetImport.length)for(r.opsetImport=[],u=0;u<e.opsetImport.length;++u)r.opsetImport[u]=a.onnx.OperatorSetIdProto.toObject(e.opsetImport[u],t);if(e.domain!=null&&e.hasOwnProperty("domain")&&(r.domain=e.domain),e.attributeProto&&e.attributeProto.length)for(r.attributeProto=[],u=0;u<e.attributeProto.length;++u)r.attributeProto[u]=a.onnx.AttributeProto.toObject(e.attributeProto[u],t);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.FunctionProto"},n}(),f),w.exports=a},3474:(w,o,c)=>{var y,d=(y=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(y=y||__filename),function(f={}){function g(){return le.buffer!=ye.buffer&&Je(),ye}function p(){return le.buffer!=ye.buffer&&Je(),_e}function m(){return le.buffer!=ye.buffer&&Je(),Ie}function l(){return le.buffer!=ye.buffer&&Je(),xe}function a(){return le.buffer!=ye.buffer&&Je(),ke}var n,e,t=f;t.ready=new Promise((E,L)=>{n=E,e=L});var r,u,h,b=Object.assign({},t),_="./this.program",x=(E,L)=>{throw L},O=typeof window=="object",S=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A=t.ENVIRONMENT_IS_PTHREAD||!1,R="";function j(E){return t.locateFile?t.locateFile(E,R):R+E}if(I){var U=c(1384),G=c(908);let E;R=S?G.dirname(R)+"/":__dirname+"/",r=(L,B)=>(L=L.startsWith("file://")?new URL(L):G.normalize(L),U.readFileSync(L,B?void 0:"utf8")),h=L=>((L=r(L,!0)).buffer||(L=new Uint8Array(L)),L),u=(L,B,K,ee=!0)=>{L=L.startsWith("file://")?new URL(L):G.normalize(L),U.readFile(L,ee?void 0:"utf8",(pe,ve)=>{pe?K(pe):B(ee?ve.buffer:ve)})},!t.thisProgram&&1<process.argv.length&&(_=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),x=(L,B)=>{throw process.exitCode=L,B},t.inspect=()=>"[Emscripten Module object]";try{E=c(9925)}catch(L){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),L}commonjsGlobal.Worker=E.Worker}else(O||S)&&(S?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),y&&(R=y),R=R.indexOf("blob:")!==0?R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):"",I||(r=E=>{var L=new XMLHttpRequest;return L.open("GET",E,!1),L.send(null),L.responseText},S&&(h=E=>{var L=new XMLHttpRequest;return L.open("GET",E,!1),L.responseType="arraybuffer",L.send(null),new Uint8Array(L.response)}),u=(E,L,B)=>{var K=new XMLHttpRequest;K.open("GET",E,!0),K.responseType="arraybuffer",K.onload=()=>{K.status==200||K.status==0&&K.response?L(K.response):B()},K.onerror=B,K.send(null)}));I&&typeof performance>"u"&&(commonjsGlobal.performance=c(6953).performance);var X=console.log.bind(console),$=console.error.bind(console);I&&(X=(...E)=>U.writeSync(1,E.join(" ")+`
`),$=(...E)=>U.writeSync(2,E.join(" ")+`
`));var Q,C=t.print||X,F=t.printErr||$;Object.assign(t,b),b=null,t.thisProgram&&(_=t.thisProgram),t.quit&&(x=t.quit),t.wasmBinary&&(Q=t.wasmBinary);var Z=t.noExitRuntime||!0;typeof WebAssembly!="object"&&at("no native wasm support detected");var le,se,ge,ce,ye,_e,Ie,xe,ke,je=!1;function Je(){var E=le.buffer;t.HEAP8=ye=new Int8Array(E),t.HEAP16=new Int16Array(E),t.HEAP32=Ie=new Int32Array(E),t.HEAPU8=_e=new Uint8Array(E),t.HEAPU16=new Uint16Array(E),t.HEAPU32=xe=new Uint32Array(E),t.HEAPF32=new Float32Array(E),t.HEAPF64=ke=new Float64Array(E)}var ot=t.INITIAL_MEMORY||16777216;if(5242880<=ot||at("INITIAL_MEMORY should be larger than STACK_SIZE, was "+ot+"! (STACK_SIZE=5242880)"),A)le=t.wasmMemory;else if(t.wasmMemory)le=t.wasmMemory;else if(!((le=new WebAssembly.Memory({initial:ot/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw F("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&F("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Je(),ot=le.buffer.byteLength;var Vt,nt=[],vt=[],Ge=[],ze=0;function lt(){return Z||0<ze}var _t,Ye,xt=0,Tt=null;function Nt(){xt++,t.monitorRunDependencies&&t.monitorRunDependencies(xt)}function ct(){if(xt--,t.monitorRunDependencies&&t.monitorRunDependencies(xt),xt==0&&Tt){var E=Tt;Tt=null,E()}}function at(E){throw t.onAbort&&t.onAbort(E),F(E="Aborted("+E+")"),je=!0,ce=1,E=new WebAssembly.RuntimeError(E+". Build with -sASSERTIONS for more info."),e(E),E}function At(E){return E.startsWith("data:application/octet-stream;base64,")}function Zn(E){if(E==_t&&Q)return new Uint8Array(Q);if(h)return h(E);throw"both async and sync fetching of the wasm failed"}function cn(E,L,B){return function(K){if(!Q&&(O||S)){if(typeof fetch=="function"&&!K.startsWith("file://"))return fetch(K,{credentials:"same-origin"}).then(ee=>{if(!ee.ok)throw"failed to load wasm binary file at '"+K+"'";return ee.arrayBuffer()}).catch(()=>Zn(K));if(u)return new Promise((ee,pe)=>{u(K,ve=>ee(new Uint8Array(ve)),pe)})}return Promise.resolve().then(()=>Zn(K))}(E).then(K=>WebAssembly.instantiate(K,L)).then(K=>K).then(B,K=>{F("failed to asynchronously prepare wasm: "+K),at(K)})}function gn(E){this.name="ExitStatus",this.message=`Program terminated with exit(${E})`,this.status=E}function Zt(E){E.terminate(),E.onmessage=()=>{}}function Gt(E){(E=we.Fa[E])||at(),we.fb(E)}function mn(E){var L=we.Za();if(!L)return 6;we.Ia.push(L),we.Fa[E.Ha]=L,L.Ha=E.Ha;var B={cmd:"run",start_routine:E.gb,arg:E.Ya,pthread_ptr:E.Ha};return I&&L.unref(),L.postMessage(B,E.mb),0}At(_t="ort-wasm-threaded.wasm")||(_t=j(_t));var Dn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,yn=(E,L,B)=>{var K=(L>>>=0)+B;for(B=L;E[B]&&!(B>=K);)++B;if(16<B-L&&E.buffer&&Dn)return Dn.decode(E.buffer instanceof SharedArrayBuffer?E.slice(L,B):E.subarray(L,B));for(K="";L<B;){var ee=E[L++];if(128&ee){var pe=63&E[L++];if((224&ee)==192)K+=String.fromCharCode((31&ee)<<6|pe);else{var ve=63&E[L++];65536>(ee=(240&ee)==224?(15&ee)<<12|pe<<6|ve:(7&ee)<<18|pe<<12|ve<<6|63&E[L++])?K+=String.fromCharCode(ee):(ee-=65536,K+=String.fromCharCode(55296|ee>>10,56320|1023&ee))}}else K+=String.fromCharCode(ee)}return K},Wt=(E,L)=>(E>>>=0)?yn(p(),E,L):"";function bn(E){if(A)return He(1,1,E);ce=E,lt()||(we.hb(),t.onExit&&t.onExit(E),je=!0),x(E,new gn(E))}var dn=E=>{if(ce=E,A)throw vn(E),"unwind";bn(E)},we={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){A?we.ab():we.$a()},$a:function(){nt.unshift(()=>{Nt(),we.bb(()=>ct())})},ab:function(){we.receiveObjectTransfer=we.eb,we.threadInitTLS=we.Sa,we.setExitStatus=we.Ra,Z=!1},Ra:function(E){ce=E},rb:["$terminateWorker"],hb:function(){for(var E of we.Ia)Zt(E);for(E of we.La)Zt(E);we.La=[],we.Ia=[],we.Fa=[]},fb:function(E){var L=E.Ha;delete we.Fa[L],we.La.push(E),we.Ia.splice(we.Ia.indexOf(E),1),E.Ha=0,lr(L)},eb:function(){},Sa:function(){we.Ta.forEach(E=>E())},cb:E=>new Promise(L=>{E.onmessage=ee=>{var pe=(ee=ee.data).cmd;if(ee.targetThread&&ee.targetThread!=qn()){var ve=we.Fa[ee.qb];ve?ve.postMessage(ee,ee.transferList):F('Internal error! Worker sent a message "'+pe+'" to target pthread '+ee.targetThread+", but that thread no longer exists!")}else pe==="checkMailbox"?sr():pe==="spawnThread"?mn(ee):pe==="cleanupThread"?Gt(ee.thread):pe==="killThread"?(ee=ee.thread,pe=we.Fa[ee],delete we.Fa[ee],Zt(pe),lr(ee),we.Ia.splice(we.Ia.indexOf(pe),1),pe.Ha=0):pe==="cancelThread"?we.Fa[ee.thread].postMessage({cmd:"cancel"}):pe==="loaded"?(E.loaded=!0,L(E)):pe==="alert"?alert("Thread "+ee.threadId+": "+ee.text):ee.target==="setimmediate"?E.postMessage(ee):pe==="callHandler"?t[ee.handler](...ee.args):pe&&F("worker sent an unknown command "+pe)},E.onerror=ee=>{throw F("worker sent an error! "+ee.filename+":"+ee.lineno+": "+ee.message),ee},I&&(E.on("message",function(ee){E.onmessage({data:ee})}),E.on("error",function(ee){E.onerror(ee)}));var B,K=[];for(B of["onExit","onAbort","print","printErr"])t.hasOwnProperty(B)&&K.push(B);E.postMessage({cmd:"load",handlers:K,urlOrBlob:t.mainScriptUrlOrBlob||y,wasmMemory:le,wasmModule:ge})}),bb:function(E){E()},Xa:function(){var E=j("ort-wasm-threaded.worker.js");E=new Worker(E),we.La.push(E)},Za:function(){return we.La.length==0&&(we.Xa(),we.cb(we.La[0])),we.La.pop()}};t.PThread=we;var nn=E=>{for(;0<E.length;)E.shift()(t)};function vn(E){if(A)return He(2,0,E);dn(E)}t.establishStackSpace=function(){var E=qn(),L=m()[E+52>>2>>>0];E=m()[E+56>>2>>>0],cr(L,L-E),rn(L)};var N=[];function q(E){this.Oa=E-24,this.Wa=function(L){l()[this.Oa+4>>2>>>0]=L},this.Va=function(L){l()[this.Oa+8>>2>>>0]=L},this.Pa=function(L,B){this.Ua(),this.Wa(L),this.Va(B)},this.Ua=function(){l()[this.Oa+16>>2>>>0]=0}}function Y(E,L,B,K){return A?He(3,1,E,L,B,K):ie(E,L,B,K)}function ie(E,L,B,K){if(E>>>=0,L>>>=0,B>>>=0,K>>>=0,typeof SharedArrayBuffer>"u")return F("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var ee=[];return A&&ee.length===0?Y(E,L,B,K):(E={gb:B,Ha:E,Ya:K,mb:ee},A?(E.ob="spawnThread",postMessage(E,ee),0):mn(E))}function de(E,L,B){return A?He(4,1,E,L,B):0}function be(E,L){if(A)return He(5,1,E,L)}t.invokeEntryPoint=function(E,L){var B=N[E];B||(E>=N.length&&(N.length=E+1),N[E]=B=Vt.get(E)),E=B(L),lt()?we.Ra(E):Yn(E)};var Ae=E=>{for(var L=0,B=0;B<E.length;++B){var K=E.charCodeAt(B);127>=K?L++:2047>=K?L+=2:55296<=K&&57343>=K?(L+=4,++B):L+=3}return L},rt=(E,L,B,K)=>{if(!(0<K))return 0;var ee=B>>>=0;K=B+K-1;for(var pe=0;pe<E.length;++pe){var ve=E.charCodeAt(pe);if(55296<=ve&&57343>=ve&&(ve=65536+((1023&ve)<<10)|1023&E.charCodeAt(++pe)),127>=ve){if(B>=K)break;L[B++>>>0]=ve}else{if(2047>=ve){if(B+1>=K)break;L[B++>>>0]=192|ve>>6}else{if(65535>=ve){if(B+2>=K)break;L[B++>>>0]=224|ve>>12}else{if(B+3>=K)break;L[B++>>>0]=240|ve>>18,L[B++>>>0]=128|ve>>12&63}L[B++>>>0]=128|ve>>6&63}L[B++>>>0]=128|63&ve}}return L[B>>>0]=0,B-ee},dt=(E,L,B)=>rt(E,p(),L,B);function pt(E,L){if(A)return He(6,1,E,L)}function ft(E,L,B){if(A)return He(7,1,E,L,B)}function Gn(E,L,B){return A?He(8,1,E,L,B):0}function Wn(E,L){if(A)return He(9,1,E,L)}function te(E,L,B){if(A)return He(10,1,E,L,B)}function Le(E,L,B,K){if(A)return He(11,1,E,L,B,K)}function Ze(E,L,B,K){if(A)return He(12,1,E,L,B,K)}function Ht(E,L,B,K){if(A)return He(13,1,E,L,B,K)}function Hn(E){if(A)return He(14,1,E)}function Qr(E,L){if(A)return He(15,1,E,L)}function ei(E,L,B){if(A)return He(16,1,E,L,B)}var ro=E=>{if(!je)try{if(E(),!lt())try{A?Yn(ce):dn(ce)}catch(L){L instanceof gn||L=="unwind"||x(1,L)}}catch(L){L instanceof gn||L=="unwind"||x(1,L)}};function Or(E){E>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(m(),E>>2,E).value.then(sr),E+=128,Atomics.store(m(),E>>2,1))}function sr(){var E=qn();E&&(Or(E),ro(()=>pi()))}t.__emscripten_thread_mailbox_await=Or,t.checkMailbox=sr;var Cn=E=>E%4==0&&(E%100!=0||E%400==0),Sr=[0,31,60,91,121,152,182,213,244,274,305,335],ti=[0,31,59,90,120,151,181,212,243,273,304,334];function ni(E,L,B,K,ee,pe,ve,Qe){return A?He(17,1,E,L,B,K,ee,pe,ve,Qe):-52}function ri(E,L,B,K,ee,pe,ve){if(A)return He(18,1,E,L,B,K,ee,pe,ve)}var ii=E=>{var L=Ae(E)+1,B=Kn(L);return B&&dt(E,B,L),B},io=E=>{var L=Xn();return E=E(),rn(L),E};function He(E,L){var B=arguments.length-2,K=arguments;return io(()=>{for(var ee=dr(8*B),pe=ee>>3,ve=0;ve<B;ve++){var Qe=K[2+ve];a()[pe+ve>>>0]=Qe}return Rr(E,B,ee,L)})}var kn,Ir=[],$n={},oi=()=>{if(!kn){var E,L={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(E in $n)$n[E]===void 0?delete L[E]:L[E]=$n[E];var B=[];for(E in L)B.push(`${E}=${L[E]}`);kn=B}return kn};function ai(E,L){if(A)return He(19,1,E,L);E>>>=0,L>>>=0;var B=0;return oi().forEach(function(K,ee){var pe=L+B;for(ee=l()[E+4*ee>>2>>>0]=pe,pe=0;pe<K.length;++pe)g()[ee++>>0>>>0]=K.charCodeAt(pe);g()[ee>>0>>>0]=0,B+=K.length+1}),0}function si(E,L){if(A)return He(20,1,E,L);E>>>=0,L>>>=0;var B=oi();l()[E>>2>>>0]=B.length;var K=0;return B.forEach(function(ee){K+=ee.length+1}),l()[L>>2>>>0]=K,0}function Ar(E){return A?He(21,1,E):52}function Pr(E,L,B,K){return A?He(22,1,E,L,B,K):52}function Er(E,L,B,K,ee){return A?He(23,1,E,L,B,K,ee):70}var oo=[null,[],[]];function ui(E,L,B,K){if(A)return He(24,1,E,L,B,K);L>>>=0,B>>>=0,K>>>=0;for(var ee=0,pe=0;pe<B;pe++){var ve=l()[L>>2>>>0],Qe=l()[L+4>>2>>>0];L+=8;for(var Pt=0;Pt<Qe;Pt++){var ht=p()[ve+Pt>>>0],Ot=oo[E];ht===0||ht===10?((E===1?C:F)(yn(Ot,0)),Ot.length=0):Ot.push(ht)}ee+=Qe}return l()[K>>2>>>0]=ee,0}var li=E=>(li=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return K=>(K.set(crypto.getRandomValues(new Uint8Array(K.byteLength))),K);if(I)try{var L=c(760);if(L.randomFillSync)return K=>L.randomFillSync(K);var B=L.randomBytes;return K=>(K.set(B(K.byteLength)),K)}catch{}at("initRandomDevice")})())(E),ci=[31,29,31,30,31,30,31,31,30,31,30,31],Dr=[31,28,31,30,31,30,31,31,30,31,30,31],di=(E,L)=>{g().set(E,L>>>0)};function Cr(E,L,B,K){function ee(ne,Me,et){for(ne=typeof ne=="number"?ne.toString():ne||"";ne.length<Me;)ne=et[0]+ne;return ne}function pe(ne,Me){return ee(ne,Me,"0")}function ve(ne,Me){function et(gi){return 0>gi?-1:0<gi?1:0}var _n;return(_n=et(ne.getFullYear()-Me.getFullYear()))===0&&(_n=et(ne.getMonth()-Me.getMonth()))===0&&(_n=et(ne.getDate()-Me.getDate())),_n}function Qe(ne){switch(ne.getDay()){case 0:return new Date(ne.getFullYear()-1,11,29);case 1:return ne;case 2:return new Date(ne.getFullYear(),0,3);case 3:return new Date(ne.getFullYear(),0,2);case 4:return new Date(ne.getFullYear(),0,1);case 5:return new Date(ne.getFullYear()-1,11,31);case 6:return new Date(ne.getFullYear()-1,11,30)}}function Pt(ne){var Me=ne.Ja;for(ne=new Date(new Date(ne.Ka+1900,0,1).getTime());0<Me;){var et=ne.getMonth(),_n=(Cn(ne.getFullYear())?ci:Dr)[et];if(!(Me>_n-ne.getDate())){ne.setDate(ne.getDate()+Me);break}Me-=_n-ne.getDate()+1,ne.setDate(1),11>et?ne.setMonth(et+1):(ne.setMonth(0),ne.setFullYear(ne.getFullYear()+1))}return et=new Date(ne.getFullYear()+1,0,4),Me=Qe(new Date(ne.getFullYear(),0,4)),et=Qe(et),0>=ve(Me,ne)?0>=ve(et,ne)?ne.getFullYear()+1:ne.getFullYear():ne.getFullYear()-1}E>>>=0,L>>>=0,B>>>=0,K>>>=0;var ht=m()[K+40>>2>>>0];for(var Ot in K={kb:m()[K>>2>>>0],jb:m()[K+4>>2>>>0],Ma:m()[K+8>>2>>>0],Qa:m()[K+12>>2>>>0],Na:m()[K+16>>2>>>0],Ka:m()[K+20>>2>>>0],Ga:m()[K+24>>2>>>0],Ja:m()[K+28>>2>>>0],sb:m()[K+32>>2>>>0],ib:m()[K+36>>2>>>0],lb:ht?Wt(ht):""},B=Wt(B),ht={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})B=B.replace(new RegExp(Ot,"g"),ht[Ot]);var fi="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),hi="January February March April May June July August September October November December".split(" ");for(Ot in ht={"%a":ne=>fi[ne.Ga].substring(0,3),"%A":ne=>fi[ne.Ga],"%b":ne=>hi[ne.Na].substring(0,3),"%B":ne=>hi[ne.Na],"%C":ne=>pe((ne.Ka+1900)/100|0,2),"%d":ne=>pe(ne.Qa,2),"%e":ne=>ee(ne.Qa,2," "),"%g":ne=>Pt(ne).toString().substring(2),"%G":ne=>Pt(ne),"%H":ne=>pe(ne.Ma,2),"%I":ne=>((ne=ne.Ma)==0?ne=12:12<ne&&(ne-=12),pe(ne,2)),"%j":ne=>{for(var Me=0,et=0;et<=ne.Na-1;Me+=(Cn(ne.Ka+1900)?ci:Dr)[et++]);return pe(ne.Qa+Me,3)},"%m":ne=>pe(ne.Na+1,2),"%M":ne=>pe(ne.jb,2),"%n":()=>`
`,"%p":ne=>0<=ne.Ma&&12>ne.Ma?"AM":"PM","%S":ne=>pe(ne.kb,2),"%t":()=>"	","%u":ne=>ne.Ga||7,"%U":ne=>pe(Math.floor((ne.Ja+7-ne.Ga)/7),2),"%V":ne=>{var Me=Math.floor((ne.Ja+7-(ne.Ga+6)%7)/7);if(2>=(ne.Ga+371-ne.Ja-2)%7&&Me++,Me)Me==53&&((et=(ne.Ga+371-ne.Ja)%7)==4||et==3&&Cn(ne.Ka)||(Me=1));else{Me=52;var et=(ne.Ga+7-ne.Ja-1)%7;(et==4||et==5&&Cn(ne.Ka%400-1))&&Me++}return pe(Me,2)},"%w":ne=>ne.Ga,"%W":ne=>pe(Math.floor((ne.Ja+7-(ne.Ga+6)%7)/7),2),"%y":ne=>(ne.Ka+1900).toString().substring(2),"%Y":ne=>ne.Ka+1900,"%z":ne=>{var Me=0<=(ne=ne.ib);return ne=Math.abs(ne)/60,(Me?"+":"-")+("0000"+(ne/60*100+ne%60)).slice(-4)},"%Z":ne=>ne.lb,"%%":()=>"%"},B=B.replace(/%%/g,"\0\0"),ht)B.includes(Ot)&&(B=B.replace(new RegExp(Ot,"g"),ht[Ot](K)));return Ot=function(ne){var Me=Array(Ae(ne)+1);return rt(ne,Me,0,Me.length),Me}(B=B.replace(/\0\0/g,"%")),Ot.length>L?0:(di(Ot,E),Ot.length-1)}we.Pa();var kr=[null,bn,vn,Y,de,be,pt,ft,Gn,Wn,te,Le,Ze,Ht,Hn,Qr,ei,ni,ri,ai,si,Ar,Pr,Er,ui],ao={b:function(E,L,B){throw new q(E>>>=0).Pa(L>>>0,B>>>0),E},N:function(E){$r(E>>>0,!S,1,!O,131072,!1),we.Sa()},k:function(E){E>>>=0,A?postMessage({cmd:"cleanupThread",thread:E}):Gt(E)},I:ie,h:de,T:be,E:pt,G:ft,U:Gn,R:Wn,J:te,Q:Le,o:Ze,F:Ht,C:Hn,S:Qr,D:ei,q:()=>!0,A:function(E,L){(E>>>=0)==L>>>0?setTimeout(()=>sr()):A?postMessage({targetThread:E,cmd:"checkMailbox"}):(E=we.Fa[E])&&E.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Or,p:function(E){I&&we.Fa[E>>>0].ref()},t:function(E,L,B){E=L+2097152>>>0<4194305-!!E?(E>>>0)+4294967296*L:NaN,B>>>=0,E=new Date(1e3*E),m()[B>>2>>>0]=E.getUTCSeconds(),m()[B+4>>2>>>0]=E.getUTCMinutes(),m()[B+8>>2>>>0]=E.getUTCHours(),m()[B+12>>2>>>0]=E.getUTCDate(),m()[B+16>>2>>>0]=E.getUTCMonth(),m()[B+20>>2>>>0]=E.getUTCFullYear()-1900,m()[B+24>>2>>>0]=E.getUTCDay(),E=(E.getTime()-Date.UTC(E.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,m()[B+28>>2>>>0]=E},u:function(E,L,B){E=L+2097152>>>0<4194305-!!E?(E>>>0)+4294967296*L:NaN,B>>>=0,E=new Date(1e3*E),m()[B>>2>>>0]=E.getSeconds(),m()[B+4>>2>>>0]=E.getMinutes(),m()[B+8>>2>>>0]=E.getHours(),m()[B+12>>2>>>0]=E.getDate(),m()[B+16>>2>>>0]=E.getMonth(),m()[B+20>>2>>>0]=E.getFullYear()-1900,m()[B+24>>2>>>0]=E.getDay(),L=(Cn(E.getFullYear())?Sr:ti)[E.getMonth()]+E.getDate()-1|0,m()[B+28>>2>>>0]=L,m()[B+36>>2>>>0]=-60*E.getTimezoneOffset(),L=new Date(E.getFullYear(),6,1).getTimezoneOffset();var K=new Date(E.getFullYear(),0,1).getTimezoneOffset();E=0|(L!=K&&E.getTimezoneOffset()==Math.min(K,L)),m()[B+32>>2>>>0]=E},v:function(E){E>>>=0;var L=new Date(m()[E+20>>2>>>0]+1900,m()[E+16>>2>>>0],m()[E+12>>2>>>0],m()[E+8>>2>>>0],m()[E+4>>2>>>0],m()[E>>2>>>0],0),B=m()[E+32>>2>>>0],K=L.getTimezoneOffset(),ee=new Date(L.getFullYear(),6,1).getTimezoneOffset(),pe=new Date(L.getFullYear(),0,1).getTimezoneOffset(),ve=Math.min(pe,ee);return 0>B?m()[E+32>>2>>>0]=+(ee!=pe&&ve==K):0<B!=(ve==K)&&(ee=Math.max(pe,ee),L.setTime(L.getTime()+6e4*((0<B?ve:ee)-K))),m()[E+24>>2>>>0]=L.getDay(),B=(Cn(L.getFullYear())?Sr:ti)[L.getMonth()]+L.getDate()-1|0,m()[E+28>>2>>>0]=B,m()[E>>2>>>0]=L.getSeconds(),m()[E+4>>2>>>0]=L.getMinutes(),m()[E+8>>2>>>0]=L.getHours(),m()[E+12>>2>>>0]=L.getDate(),m()[E+16>>2>>>0]=L.getMonth(),m()[E+20>>2>>>0]=L.getYear(),E=L.getTime()/1e3,Lr((Ye=E,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)),E>>>0},r:ni,s:ri,z:function(E,L,B){function K(ht){return(ht=ht.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ht[1]:"GMT"}E>>>=0,L>>>=0,B>>>=0;var ee=new Date().getFullYear(),pe=new Date(ee,0,1),ve=new Date(ee,6,1);ee=pe.getTimezoneOffset();var Qe=ve.getTimezoneOffset(),Pt=Math.max(ee,Qe);l()[E>>2>>>0]=60*Pt,m()[L>>2>>>0]=+(ee!=Qe),E=K(pe),L=K(ve),E=ii(E),L=ii(L),Qe<ee?(l()[B>>2>>>0]=E,l()[B+4>>2>>>0]=L):(l()[B>>2>>>0]=L,l()[B+4>>2>>>0]=E)},c:()=>{at("")},l:function(){},i:function(){return Date.now()},V:()=>{throw ze+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return I?c(3993).cpus().length:navigator.hardwareConcurrency},K:function(E,L,B,K){for(we.pb=L>>>0,Ir.length=B,L=K>>>0>>3,K=0;K<B;K++)Ir[K]=a()[L+K>>>0];return kr[E].apply(null,Ir)},y:function(E){E>>>=0;var L=p().length;if(E<=L||4294901760<E)return!1;for(var B=1;4>=B;B*=2){var K=L*(1+.2/B);K=Math.min(K,E+100663296);var ee=Math;K=Math.max(E,K);e:{ee=ee.min.call(ee,4294901760,K+(65536-K%65536)%65536)-le.buffer.byteLength+65535>>>16;try{le.grow(ee),Je();var pe=1;break e}catch{}pe=void 0}if(pe)return!0}return!1},O:ai,P:si,j:dn,g:Ar,n:Pr,w:Er,m:ui,x:function(E,L){return E>>>=0,L>>>=0,li(p().subarray(E>>>0,E+L>>>0)),0},a:le||t.wasmMemory,H:Cr,d:function(E,L,B,K){return Cr(E>>>0,L>>>0,B>>>0,K>>>0)}};(function(){function E(B,K){return B=B.exports,se=B=function(ee){var pe=Qe=>()=>Qe()>>>0,ve=Qe=>Pt=>Qe(Pt)>>>0;return(ee=Object.assign({},ee)).__errno_location=pe(ee.__errno_location),ee.pthread_self=pe(ee.pthread_self),ee.malloc=ve(ee.malloc),ee.stackSave=pe(ee.stackSave),ee.stackAlloc=ve(ee.stackAlloc),ee}(B),we.Ta.push(se.sa),Vt=se.ta,vt.unshift(se.W),ge=K,ct(),B}var L={a:ao};if(Nt(),t.instantiateWasm)try{return t.instantiateWasm(L,E)}catch(B){F("Module.instantiateWasm callback failed with error: "+B),e(B)}(function(B,K){var ee=_t;return Q||typeof WebAssembly.instantiateStreaming!="function"||At(ee)||ee.startsWith("file://")||I||typeof fetch!="function"?cn(ee,B,K):fetch(ee,{credentials:"same-origin"}).then(pe=>WebAssembly.instantiateStreaming(pe,B).then(K,function(ve){return F("wasm streaming compile failed: "+ve),F("falling back to ArrayBuffer instantiation"),cn(ee,B,K)}))})(L,function(B){E(B.instance,B.module)}).catch(e)})(),t._OrtInit=(E,L)=>(t._OrtInit=se.X)(E,L),t._OrtGetLastError=(E,L)=>(t._OrtGetLastError=se.Y)(E,L),t._OrtCreateSessionOptions=(E,L,B,K,ee,pe,ve,Qe,Pt,ht)=>(t._OrtCreateSessionOptions=se.Z)(E,L,B,K,ee,pe,ve,Qe,Pt,ht),t._OrtAppendExecutionProvider=(E,L)=>(t._OrtAppendExecutionProvider=se._)(E,L),t._OrtAddSessionConfigEntry=(E,L,B)=>(t._OrtAddSessionConfigEntry=se.$)(E,L,B),t._OrtReleaseSessionOptions=E=>(t._OrtReleaseSessionOptions=se.aa)(E),t._OrtCreateSession=(E,L,B)=>(t._OrtCreateSession=se.ba)(E,L,B),t._OrtReleaseSession=E=>(t._OrtReleaseSession=se.ca)(E),t._OrtGetInputOutputCount=(E,L,B)=>(t._OrtGetInputOutputCount=se.da)(E,L,B),t._OrtGetInputName=(E,L)=>(t._OrtGetInputName=se.ea)(E,L),t._OrtGetOutputName=(E,L)=>(t._OrtGetOutputName=se.fa)(E,L),t._OrtFree=E=>(t._OrtFree=se.ga)(E),t._OrtCreateTensor=(E,L,B,K,ee)=>(t._OrtCreateTensor=se.ha)(E,L,B,K,ee),t._OrtGetTensorData=(E,L,B,K,ee)=>(t._OrtGetTensorData=se.ia)(E,L,B,K,ee),t._OrtReleaseTensor=E=>(t._OrtReleaseTensor=se.ja)(E),t._OrtCreateRunOptions=(E,L,B,K)=>(t._OrtCreateRunOptions=se.ka)(E,L,B,K),t._OrtAddRunConfigEntry=(E,L,B)=>(t._OrtAddRunConfigEntry=se.la)(E,L,B),t._OrtReleaseRunOptions=E=>(t._OrtReleaseRunOptions=se.ma)(E),t._OrtRun=(E,L,B,K,ee,pe,ve,Qe)=>(t._OrtRun=se.na)(E,L,B,K,ee,pe,ve,Qe),t._OrtEndProfiling=E=>(t._OrtEndProfiling=se.oa)(E);var qn=t._pthread_self=()=>(qn=t._pthread_self=se.pa)(),Kn=t._malloc=E=>(Kn=t._malloc=se.qa)(E);t._free=E=>(t._free=se.ra)(E),t.__emscripten_tls_init=()=>(t.__emscripten_tls_init=se.sa)();var $r=t.__emscripten_thread_init=(E,L,B,K,ee,pe)=>($r=t.__emscripten_thread_init=se.ua)(E,L,B,K,ee,pe);t.__emscripten_thread_crashed=()=>(t.__emscripten_thread_crashed=se.va)();var ur,Rr=(E,L,B,K)=>(Rr=se.wa)(E,L,B,K),lr=E=>(lr=se.xa)(E),Yn=t.__emscripten_thread_exit=E=>(Yn=t.__emscripten_thread_exit=se.ya)(E),pi=t.__emscripten_check_mailbox=()=>(pi=t.__emscripten_check_mailbox=se.za)(),Lr=E=>(Lr=se.Aa)(E),cr=(E,L)=>(cr=se.Ba)(E,L),Xn=()=>(Xn=se.Ca)(),rn=E=>(rn=se.Da)(E),dr=E=>(dr=se.Ea)(E);function Nr(){function E(){if(!ur&&(ur=!0,t.calledRun=!0,!je)&&(A||nn(vt),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),!A)){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var L=t.postRun.shift();Ge.unshift(L)}nn(Ge)}}if(!(0<xt))if(A)n(t),A||nn(vt),startWorker(t);else{if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)nt.unshift(t.preRun.shift());nn(nt),0<xt||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),E()},1)):E())}}if(t.keepRuntimeAlive=lt,t.wasmMemory=le,t.stackAlloc=dr,t.stackSave=Xn,t.stackRestore=rn,t.UTF8ToString=Wt,t.stringToUTF8=dt,t.lengthBytesUTF8=Ae,t.ExitStatus=gn,t.PThread=we,Tt=function E(){ur||Nr(),ur||(Tt=E)},t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Nr(),f.ready});w.exports=d},932:(w,o,c)=>{var y,d=(y=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(y=y||__filename),function(f={}){var g,p,m=f;m.ready=new Promise((N,q)=>{g=N,p=q});var l,a,n,e=Object.assign({},m),t="./this.program",r=(N,q)=>{throw q},u=typeof window=="object",h=typeof importScripts=="function",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_="";if(b){var x=c(1384),O=c(908);_=h?O.dirname(_)+"/":__dirname+"/",l=(N,q)=>(N=N.startsWith("file://")?new URL(N):O.normalize(N),x.readFileSync(N,q?void 0:"utf8")),n=N=>((N=l(N,!0)).buffer||(N=new Uint8Array(N)),N),a=(N,q,Y,ie=!0)=>{N=N.startsWith("file://")?new URL(N):O.normalize(N),x.readFile(N,ie?void 0:"utf8",(de,be)=>{de?Y(de):q(ie?be.buffer:be)})},!m.thisProgram&&1<process.argv.length&&(t=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r=(N,q)=>{throw process.exitCode=N,q},m.inspect=()=>"[Emscripten Module object]"}else(u||h)&&(h?_=self.location.href:typeof document<"u"&&document.currentScript&&(_=document.currentScript.src),y&&(_=y),_=_.indexOf("blob:")!==0?_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):"",l=N=>{var q=new XMLHttpRequest;return q.open("GET",N,!1),q.send(null),q.responseText},h&&(n=N=>{var q=new XMLHttpRequest;return q.open("GET",N,!1),q.responseType="arraybuffer",q.send(null),new Uint8Array(q.response)}),a=(N,q,Y)=>{var ie=new XMLHttpRequest;ie.open("GET",N,!0),ie.responseType="arraybuffer",ie.onload=()=>{ie.status==200||ie.status==0&&ie.response?q(ie.response):Y()},ie.onerror=Y,ie.send(null)});var S,I=m.print||console.log.bind(console),A=m.printErr||console.error.bind(console);Object.assign(m,e),e=null,m.thisProgram&&(t=m.thisProgram),m.quit&&(r=m.quit),m.wasmBinary&&(S=m.wasmBinary);var R=m.noExitRuntime||!0;typeof WebAssembly!="object"&&xe("no native wasm support detected");var j,U,G,X,$,Q,C=!1;function F(){var N=j.buffer;m.HEAP8=G=new Int8Array(N),m.HEAP16=new Int16Array(N),m.HEAP32=$=new Int32Array(N),m.HEAPU8=X=new Uint8Array(N),m.HEAPU16=new Uint16Array(N),m.HEAPU32=Q=new Uint32Array(N),m.HEAPF32=new Float32Array(N),m.HEAPF64=new Float64Array(N)}var Z=[],le=[],se=[];function ge(){var N=m.preRun.shift();Z.unshift(N)}var ce,ye,_e=0,Ie=null;function xe(N){throw m.onAbort&&m.onAbort(N),A(N="Aborted("+N+")"),C=!0,N=new WebAssembly.RuntimeError(N+". Build with -sASSERTIONS for more info."),p(N),N}function ke(N){return N.startsWith("data:application/octet-stream;base64,")}if(!ke(ce="ort-wasm.wasm")){var je=ce;ce=m.locateFile?m.locateFile(je,_):_+je}function Je(N){if(N==ce&&S)return new Uint8Array(S);if(n)return n(N);throw"both async and sync fetching of the wasm failed"}function ot(N,q,Y){return function(ie){if(!S&&(u||h)){if(typeof fetch=="function"&&!ie.startsWith("file://"))return fetch(ie,{credentials:"same-origin"}).then(de=>{if(!de.ok)throw"failed to load wasm binary file at '"+ie+"'";return de.arrayBuffer()}).catch(()=>Je(ie));if(a)return new Promise((de,be)=>{a(ie,Ae=>de(new Uint8Array(Ae)),be)})}return Promise.resolve().then(()=>Je(ie))}(N).then(ie=>WebAssembly.instantiate(ie,q)).then(ie=>ie).then(Y,ie=>{A("failed to asynchronously prepare wasm: "+ie),xe(ie)})}function Vt(N){this.name="ExitStatus",this.message=`Program terminated with exit(${N})`,this.status=N}var nt=N=>{for(;0<N.length;)N.shift()(m)};function vt(N){this.qa=N-24,this.va=function(q){Q[this.qa+4>>2>>>0]=q},this.ua=function(q){Q[this.qa+8>>2>>>0]=q},this.sa=function(q,Y){this.ta(),this.va(q),this.ua(Y)},this.ta=function(){Q[this.qa+16>>2>>>0]=0}}var Ge,ze=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,lt=(N,q,Y)=>{var ie=(q>>>=0)+Y;for(Y=q;N[Y]&&!(Y>=ie);)++Y;if(16<Y-q&&N.buffer&&ze)return ze.decode(N.subarray(q,Y));for(ie="";q<Y;){var de=N[q++];if(128&de){var be=63&N[q++];if((224&de)==192)ie+=String.fromCharCode((31&de)<<6|be);else{var Ae=63&N[q++];65536>(de=(240&de)==224?(15&de)<<12|be<<6|Ae:(7&de)<<18|be<<12|Ae<<6|63&N[q++])?ie+=String.fromCharCode(de):(de-=65536,ie+=String.fromCharCode(55296|de>>10,56320|1023&de))}}else ie+=String.fromCharCode(de)}return ie},_t=(N,q)=>(N>>>=0)?lt(X,N,q):"",Ye=N=>{for(var q=0,Y=0;Y<N.length;++Y){var ie=N.charCodeAt(Y);127>=ie?q++:2047>=ie?q+=2:55296<=ie&&57343>=ie?(q+=4,++Y):q+=3}return q},xt=(N,q,Y,ie)=>{if(!(0<ie))return 0;var de=Y>>>=0;ie=Y+ie-1;for(var be=0;be<N.length;++be){var Ae=N.charCodeAt(be);if(55296<=Ae&&57343>=Ae&&(Ae=65536+((1023&Ae)<<10)|1023&N.charCodeAt(++be)),127>=Ae){if(Y>=ie)break;q[Y++>>>0]=Ae}else{if(2047>=Ae){if(Y+1>=ie)break;q[Y++>>>0]=192|Ae>>6}else{if(65535>=Ae){if(Y+2>=ie)break;q[Y++>>>0]=224|Ae>>12}else{if(Y+3>=ie)break;q[Y++>>>0]=240|Ae>>18,q[Y++>>>0]=128|Ae>>12&63}q[Y++>>>0]=128|Ae>>6&63}q[Y++>>>0]=128|63&Ae}}return q[Y>>>0]=0,Y-de},Tt=N=>N%4==0&&(N%100!=0||N%400==0),Nt=[0,31,60,91,121,152,182,213,244,274,305,335],ct=[0,31,59,90,120,151,181,212,243,273,304,334],at=N=>{var q=Ye(N)+1,Y=yn(q);return Y&&xt(N,X,Y,q),Y},At={},Zn=()=>{if(!Ge){var N,q={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:t||"./this.program"};for(N in At)At[N]===void 0?delete q[N]:q[N]=At[N];var Y=[];for(N in q)Y.push(`${N}=${q[N]}`);Ge=Y}return Ge},cn=[null,[],[]],gn=N=>(gn=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return ie=>crypto.getRandomValues(ie);if(b)try{var q=c(760);if(q.randomFillSync)return ie=>q.randomFillSync(ie);var Y=q.randomBytes;return ie=>(ie.set(Y(ie.byteLength)),ie)}catch{}xe("initRandomDevice")})())(N),Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Gt=[31,28,31,30,31,30,31,31,30,31,30,31];function mn(N,q,Y,ie){function de(te,Le,Ze){for(te=typeof te=="number"?te.toString():te||"";te.length<Le;)te=Ze[0]+te;return te}function be(te,Le){return de(te,Le,"0")}function Ae(te,Le){function Ze(Hn){return 0>Hn?-1:0<Hn?1:0}var Ht;return(Ht=Ze(te.getFullYear()-Le.getFullYear()))===0&&(Ht=Ze(te.getMonth()-Le.getMonth()))===0&&(Ht=Ze(te.getDate()-Le.getDate())),Ht}function rt(te){switch(te.getDay()){case 0:return new Date(te.getFullYear()-1,11,29);case 1:return te;case 2:return new Date(te.getFullYear(),0,3);case 3:return new Date(te.getFullYear(),0,2);case 4:return new Date(te.getFullYear(),0,1);case 5:return new Date(te.getFullYear()-1,11,31);case 6:return new Date(te.getFullYear()-1,11,30)}}function dt(te){var Le=te.ma;for(te=new Date(new Date(te.na+1900,0,1).getTime());0<Le;){var Ze=te.getMonth(),Ht=(Tt(te.getFullYear())?Zt:Gt)[Ze];if(!(Le>Ht-te.getDate())){te.setDate(te.getDate()+Le);break}Le-=Ht-te.getDate()+1,te.setDate(1),11>Ze?te.setMonth(Ze+1):(te.setMonth(0),te.setFullYear(te.getFullYear()+1))}return Ze=new Date(te.getFullYear()+1,0,4),Le=rt(new Date(te.getFullYear(),0,4)),Ze=rt(Ze),0>=Ae(Le,te)?0>=Ae(Ze,te)?te.getFullYear()+1:te.getFullYear():te.getFullYear()-1}N>>>=0,q>>>=0,Y>>>=0;var pt=$[40+(ie>>>=0)>>2>>>0];for(var ft in ie={ya:$[ie>>2>>>0],xa:$[ie+4>>2>>>0],oa:$[ie+8>>2>>>0],ra:$[ie+12>>2>>>0],pa:$[ie+16>>2>>>0],na:$[ie+20>>2>>>0],ha:$[ie+24>>2>>>0],ma:$[ie+28>>2>>>0],Aa:$[ie+32>>2>>>0],wa:$[ie+36>>2>>>0],za:pt?_t(pt):""},Y=_t(Y),pt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Y=Y.replace(new RegExp(ft,"g"),pt[ft]);var Gn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Wn="January February March April May June July August September October November December".split(" ");for(ft in pt={"%a":te=>Gn[te.ha].substring(0,3),"%A":te=>Gn[te.ha],"%b":te=>Wn[te.pa].substring(0,3),"%B":te=>Wn[te.pa],"%C":te=>be((te.na+1900)/100|0,2),"%d":te=>be(te.ra,2),"%e":te=>de(te.ra,2," "),"%g":te=>dt(te).toString().substring(2),"%G":te=>dt(te),"%H":te=>be(te.oa,2),"%I":te=>((te=te.oa)==0?te=12:12<te&&(te-=12),be(te,2)),"%j":te=>{for(var Le=0,Ze=0;Ze<=te.pa-1;Le+=(Tt(te.na+1900)?Zt:Gt)[Ze++]);return be(te.ra+Le,3)},"%m":te=>be(te.pa+1,2),"%M":te=>be(te.xa,2),"%n":()=>`
`,"%p":te=>0<=te.oa&&12>te.oa?"AM":"PM","%S":te=>be(te.ya,2),"%t":()=>"	","%u":te=>te.ha||7,"%U":te=>be(Math.floor((te.ma+7-te.ha)/7),2),"%V":te=>{var Le=Math.floor((te.ma+7-(te.ha+6)%7)/7);if(2>=(te.ha+371-te.ma-2)%7&&Le++,Le)Le==53&&((Ze=(te.ha+371-te.ma)%7)==4||Ze==3&&Tt(te.na)||(Le=1));else{Le=52;var Ze=(te.ha+7-te.ma-1)%7;(Ze==4||Ze==5&&Tt(te.na%400-1))&&Le++}return be(Le,2)},"%w":te=>te.ha,"%W":te=>be(Math.floor((te.ma+7-(te.ha+6)%7)/7),2),"%y":te=>(te.na+1900).toString().substring(2),"%Y":te=>te.na+1900,"%z":te=>{var Le=0<=(te=te.wa);return te=Math.abs(te)/60,(Le?"+":"-")+("0000"+(te/60*100+te%60)).slice(-4)},"%Z":te=>te.za,"%%":()=>"%"},Y=Y.replace(/%%/g,"\0\0"),pt)Y.includes(ft)&&(Y=Y.replace(new RegExp(ft,"g"),pt[ft](ie)));return ft=function(te){var Le=Array(Ye(te)+1);return xt(te,Le,0,Le.length),Le}(Y=Y.replace(/\0\0/g,"%")),ft.length>q?0:(G.set(ft,N>>>0),ft.length-1)}var Dn={a:function(N,q,Y){throw new vt(N>>>=0).sa(q>>>0,Y>>>0),N},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(N,q,Y){N=q+2097152>>>0<4194305-!!N?(N>>>0)+4294967296*q:NaN,Y>>>=0,N=new Date(1e3*N),$[Y>>2>>>0]=N.getUTCSeconds(),$[Y+4>>2>>>0]=N.getUTCMinutes(),$[Y+8>>2>>>0]=N.getUTCHours(),$[Y+12>>2>>>0]=N.getUTCDate(),$[Y+16>>2>>>0]=N.getUTCMonth(),$[Y+20>>2>>>0]=N.getUTCFullYear()-1900,$[Y+24>>2>>>0]=N.getUTCDay(),$[Y+28>>2>>>0]=(N.getTime()-Date.UTC(N.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(N,q,Y){N=q+2097152>>>0<4194305-!!N?(N>>>0)+4294967296*q:NaN,Y>>>=0,N=new Date(1e3*N),$[Y>>2>>>0]=N.getSeconds(),$[Y+4>>2>>>0]=N.getMinutes(),$[Y+8>>2>>>0]=N.getHours(),$[Y+12>>2>>>0]=N.getDate(),$[Y+16>>2>>>0]=N.getMonth(),$[Y+20>>2>>>0]=N.getFullYear()-1900,$[Y+24>>2>>>0]=N.getDay(),$[Y+28>>2>>>0]=(Tt(N.getFullYear())?Nt:ct)[N.getMonth()]+N.getDate()-1|0,$[Y+36>>2>>>0]=-60*N.getTimezoneOffset(),q=new Date(N.getFullYear(),6,1).getTimezoneOffset();var ie=new Date(N.getFullYear(),0,1).getTimezoneOffset();$[Y+32>>2>>>0]=0|(q!=ie&&N.getTimezoneOffset()==Math.min(ie,q))},p:function(N){N>>>=0;var q=new Date($[N+20>>2>>>0]+1900,$[N+16>>2>>>0],$[N+12>>2>>>0],$[N+8>>2>>>0],$[N+4>>2>>>0],$[N>>2>>>0],0),Y=$[N+32>>2>>>0],ie=q.getTimezoneOffset(),de=new Date(q.getFullYear(),6,1).getTimezoneOffset(),be=new Date(q.getFullYear(),0,1).getTimezoneOffset(),Ae=Math.min(be,de);return 0>Y?$[N+32>>2>>>0]=+(de!=be&&Ae==ie):0<Y!=(Ae==ie)&&(de=Math.max(be,de),q.setTime(q.getTime()+6e4*((0<Y?Ae:de)-ie))),$[N+24>>2>>>0]=q.getDay(),$[N+28>>2>>>0]=(Tt(q.getFullYear())?Nt:ct)[q.getMonth()]+q.getDate()-1|0,$[N>>2>>>0]=q.getSeconds(),$[N+4>>2>>>0]=q.getMinutes(),$[N+8>>2>>>0]=q.getHours(),$[N+12>>2>>>0]=q.getDate(),$[N+16>>2>>>0]=q.getMonth(),$[N+20>>2>>>0]=q.getYear(),N=q.getTime()/1e3,bn((ye=N,1<=+Math.abs(ye)?0<ye?+Math.floor(ye/4294967296)>>>0:~~+Math.ceil((ye-+(~~ye>>>0))/4294967296)>>>0:0)),N>>>0},l:function(){return-52},m:function(){},u:function(N,q,Y){function ie(dt){return(dt=dt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?dt[1]:"GMT"}Y>>>=0;var de=new Date().getFullYear(),be=new Date(de,0,1),Ae=new Date(de,6,1);de=be.getTimezoneOffset();var rt=Ae.getTimezoneOffset();Q[N>>>0>>2>>>0]=60*Math.max(de,rt),$[q>>>0>>2>>>0]=+(de!=rt),N=ie(be),q=ie(Ae),N=at(N),q=at(q),rt<de?(Q[Y>>2>>>0]=N,Q[Y+4>>2>>>0]=q):(Q[Y>>2>>>0]=q,Q[Y+4>>2>>>0]=N)},d:()=>{xe("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(N,q,Y){return q>>>=0,X.copyWithin(N>>>0>>>0,q>>>0,q+(Y>>>0)>>>0)},t:function(N){N>>>=0;var q=X.length;if(4294901760<N)return!1;for(var Y=1;4>=Y;Y*=2){var ie=q*(1+.2/Y);ie=Math.min(ie,N+100663296);var de=Math;ie=Math.max(N,ie);e:{de=de.min.call(de,4294901760,ie+(65536-ie%65536)%65536)-j.buffer.byteLength+65535>>>16;try{j.grow(de),F();var be=1;break e}catch{}be=void 0}if(be)return!0}return!1},D:function(N,q){N>>>=0,q>>>=0;var Y=0;return Zn().forEach(function(ie,de){var be=q+Y;for(de=Q[N+4*de>>2>>>0]=be,be=0;be<ie.length;++be)G[de++>>0>>>0]=ie.charCodeAt(be);G[de>>0>>>0]=0,Y+=ie.length+1}),0},E:function(N,q){N>>>=0,q>>>=0;var Y=Zn();Q[N>>2>>>0]=Y.length;var ie=0;return Y.forEach(function(de){ie+=de.length+1}),Q[q>>2>>>0]=ie,0},s:N=>{R||(m.onExit&&m.onExit(N),C=!0),r(N,new Vt(N))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(N,q,Y,ie){q>>>=0,Y>>>=0,ie>>>=0;for(var de=0,be=0;be<Y;be++){var Ae=Q[q>>2>>>0],rt=Q[q+4>>2>>>0];q+=8;for(var dt=0;dt<rt;dt++){var pt=X[Ae+dt>>>0],ft=cn[N];pt===0||pt===10?((N===1?I:A)(lt(ft,0)),ft.length=0):ft.push(pt)}de+=rt}return Q[ie>>2>>>0]=de,0},r:function(N,q){return N>>>=0,gn(X.subarray(N>>>0,N+(q>>>0)>>>0)),0},C:mn,c:function(N,q,Y,ie){return mn(N>>>0,q>>>0,Y>>>0,ie>>>0)}};(function(){function N(Y){if(Y=Y.exports,U=Y=function(de){var be=rt=>()=>rt()>>>0,Ae=rt=>dt=>rt(dt)>>>0;return(de=Object.assign({},de)).__errno_location=be(de.__errno_location),de.malloc=Ae(de.malloc),de.stackSave=be(de.stackSave),de.stackAlloc=Ae(de.stackAlloc),de}(Y),j=U.L,F(),le.unshift(U.M),_e--,m.monitorRunDependencies&&m.monitorRunDependencies(_e),_e==0&&Ie){var ie=Ie;Ie=null,ie()}return Y}var q={a:Dn};if(_e++,m.monitorRunDependencies&&m.monitorRunDependencies(_e),m.instantiateWasm)try{return m.instantiateWasm(q,N)}catch(Y){A("Module.instantiateWasm callback failed with error: "+Y),p(Y)}(function(Y,ie){var de=ce;return S||typeof WebAssembly.instantiateStreaming!="function"||ke(de)||de.startsWith("file://")||b||typeof fetch!="function"?ot(de,Y,ie):fetch(de,{credentials:"same-origin"}).then(be=>WebAssembly.instantiateStreaming(be,Y).then(ie,function(Ae){return A("wasm streaming compile failed: "+Ae),A("falling back to ArrayBuffer instantiation"),ot(de,Y,ie)}))})(q,function(Y){N(Y.instance)}).catch(p)})(),m._OrtInit=(N,q)=>(m._OrtInit=U.N)(N,q),m._OrtGetLastError=(N,q)=>(m._OrtGetLastError=U.O)(N,q),m._OrtCreateSessionOptions=(N,q,Y,ie,de,be,Ae,rt,dt,pt)=>(m._OrtCreateSessionOptions=U.P)(N,q,Y,ie,de,be,Ae,rt,dt,pt),m._OrtAppendExecutionProvider=(N,q)=>(m._OrtAppendExecutionProvider=U.Q)(N,q),m._OrtAddSessionConfigEntry=(N,q,Y)=>(m._OrtAddSessionConfigEntry=U.R)(N,q,Y),m._OrtReleaseSessionOptions=N=>(m._OrtReleaseSessionOptions=U.S)(N),m._OrtCreateSession=(N,q,Y)=>(m._OrtCreateSession=U.T)(N,q,Y),m._OrtReleaseSession=N=>(m._OrtReleaseSession=U.U)(N),m._OrtGetInputOutputCount=(N,q,Y)=>(m._OrtGetInputOutputCount=U.V)(N,q,Y),m._OrtGetInputName=(N,q)=>(m._OrtGetInputName=U.W)(N,q),m._OrtGetOutputName=(N,q)=>(m._OrtGetOutputName=U.X)(N,q),m._OrtFree=N=>(m._OrtFree=U.Y)(N),m._OrtCreateTensor=(N,q,Y,ie,de)=>(m._OrtCreateTensor=U.Z)(N,q,Y,ie,de),m._OrtGetTensorData=(N,q,Y,ie,de)=>(m._OrtGetTensorData=U._)(N,q,Y,ie,de),m._OrtReleaseTensor=N=>(m._OrtReleaseTensor=U.$)(N),m._OrtCreateRunOptions=(N,q,Y,ie)=>(m._OrtCreateRunOptions=U.aa)(N,q,Y,ie),m._OrtAddRunConfigEntry=(N,q,Y)=>(m._OrtAddRunConfigEntry=U.ba)(N,q,Y),m._OrtReleaseRunOptions=N=>(m._OrtReleaseRunOptions=U.ca)(N),m._OrtRun=(N,q,Y,ie,de,be,Ae,rt)=>(m._OrtRun=U.da)(N,q,Y,ie,de,be,Ae,rt),m._OrtEndProfiling=N=>(m._OrtEndProfiling=U.ea)(N);var yn=m._malloc=N=>(yn=m._malloc=U.fa)(N);m._free=N=>(m._free=U.ga)(N);var Wt,bn=N=>(bn=U.ia)(N),dn=()=>(dn=U.ja)(),we=N=>(we=U.ka)(N),nn=N=>(nn=U.la)(N);function vn(){function N(){if(!Wt&&(Wt=!0,m.calledRun=!0,!C)){if(nt(le),g(m),m.onRuntimeInitialized&&m.onRuntimeInitialized(),m.postRun)for(typeof m.postRun=="function"&&(m.postRun=[m.postRun]);m.postRun.length;){var q=m.postRun.shift();se.unshift(q)}nt(se)}}if(!(0<_e)){if(m.preRun)for(typeof m.preRun=="function"&&(m.preRun=[m.preRun]);m.preRun.length;)ge();nt(Z),0<_e||(m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),N()},1)):N())}}if(m.stackAlloc=nn,m.stackSave=dn,m.stackRestore=we,m.UTF8ToString=_t,m.stringToUTF8=(N,q,Y)=>xt(N,X,q,Y),m.lengthBytesUTF8=Ye,Ie=function N(){Wt||vn(),Wt||(Ie=N)},m.preInit)for(typeof m.preInit=="function"&&(m.preInit=[m.preInit]);0<m.preInit.length;)m.preInit.pop()();return vn(),f.ready});w.exports=d},4537:w=>{w.exports=function(o,c){for(var y=new Array(arguments.length-1),d=0,f=2,g=!0;f<arguments.length;)y[d++]=arguments[f++];return new Promise(function(p,m){y[d]=function(l){if(g)if(g=!1,l)m(l);else{for(var a=new Array(arguments.length-1),n=0;n<a.length;)a[n++]=arguments[n];p.apply(null,a)}};try{o.apply(c||null,y)}catch(l){g&&(g=!1,m(l))}})}},7419:(w,o)=>{var c=o;c.length=function(p){var m=p.length;if(!m)return 0;for(var l=0;--m%4>1&&p.charAt(m)==="=";)++l;return Math.ceil(3*p.length)/4-l};for(var y=new Array(64),d=new Array(123),f=0;f<64;)d[y[f]=f<26?f+65:f<52?f+71:f<62?f-4:f-59|43]=f++;c.encode=function(p,m,l){for(var a,n=null,e=[],t=0,r=0;m<l;){var u=p[m++];switch(r){case 0:e[t++]=y[u>>2],a=(3&u)<<4,r=1;break;case 1:e[t++]=y[a|u>>4],a=(15&u)<<2,r=2;break;case 2:e[t++]=y[a|u>>6],e[t++]=y[63&u],r=0}t>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,e)),t=0)}return r&&(e[t++]=y[a],e[t++]=61,r===1&&(e[t++]=61)),n?(t&&n.push(String.fromCharCode.apply(String,e.slice(0,t))),n.join("")):String.fromCharCode.apply(String,e.slice(0,t))};var g="invalid encoding";c.decode=function(p,m,l){for(var a,n=l,e=0,t=0;t<p.length;){var r=p.charCodeAt(t++);if(r===61&&e>1)break;if((r=d[r])===void 0)throw Error(g);switch(e){case 0:a=r,e=1;break;case 1:m[l++]=a<<2|(48&r)>>4,a=r,e=2;break;case 2:m[l++]=(15&a)<<4|(60&r)>>2,a=r,e=3;break;case 3:m[l++]=(3&a)<<6|r,e=0}}if(e===1)throw Error(g);return l-n},c.test=function(p){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(p)}},9211:w=>{function o(){this._listeners={}}w.exports=o,o.prototype.on=function(c,y,d){return(this._listeners[c]||(this._listeners[c]=[])).push({fn:y,ctx:d||this}),this},o.prototype.off=function(c,y){if(c===void 0)this._listeners={};else if(y===void 0)this._listeners[c]=[];else for(var d=this._listeners[c],f=0;f<d.length;)d[f].fn===y?d.splice(f,1):++f;return this},o.prototype.emit=function(c){var y=this._listeners[c];if(y){for(var d=[],f=1;f<arguments.length;)d.push(arguments[f++]);for(f=0;f<y.length;)y[f].fn.apply(y[f++].ctx,d)}return this}},945:w=>{function o(g){return typeof Float32Array<"u"?function(){var p=new Float32Array([-0]),m=new Uint8Array(p.buffer),l=m[3]===128;function a(r,u,h){p[0]=r,u[h]=m[0],u[h+1]=m[1],u[h+2]=m[2],u[h+3]=m[3]}function n(r,u,h){p[0]=r,u[h]=m[3],u[h+1]=m[2],u[h+2]=m[1],u[h+3]=m[0]}function e(r,u){return m[0]=r[u],m[1]=r[u+1],m[2]=r[u+2],m[3]=r[u+3],p[0]}function t(r,u){return m[3]=r[u],m[2]=r[u+1],m[1]=r[u+2],m[0]=r[u+3],p[0]}g.writeFloatLE=l?a:n,g.writeFloatBE=l?n:a,g.readFloatLE=l?e:t,g.readFloatBE=l?t:e}():function(){function p(l,a,n,e){var t=a<0?1:0;if(t&&(a=-a),a===0)l(1/a>0?0:2147483648,n,e);else if(isNaN(a))l(2143289344,n,e);else if(a>34028234663852886e22)l((t<<31|2139095040)>>>0,n,e);else if(a<11754943508222875e-54)l((t<<31|Math.round(a/1401298464324817e-60))>>>0,n,e);else{var r=Math.floor(Math.log(a)/Math.LN2);l((t<<31|r+127<<23|8388607&Math.round(a*Math.pow(2,-r)*8388608))>>>0,n,e)}}function m(l,a,n){var e=l(a,n),t=2*(e>>31)+1,r=e>>>23&255,u=8388607&e;return r===255?u?NaN:t*(1/0):r===0?1401298464324817e-60*t*u:t*Math.pow(2,r-150)*(u+8388608)}g.writeFloatLE=p.bind(null,c),g.writeFloatBE=p.bind(null,y),g.readFloatLE=m.bind(null,d),g.readFloatBE=m.bind(null,f)}(),typeof Float64Array<"u"?function(){var p=new Float64Array([-0]),m=new Uint8Array(p.buffer),l=m[7]===128;function a(r,u,h){p[0]=r,u[h]=m[0],u[h+1]=m[1],u[h+2]=m[2],u[h+3]=m[3],u[h+4]=m[4],u[h+5]=m[5],u[h+6]=m[6],u[h+7]=m[7]}function n(r,u,h){p[0]=r,u[h]=m[7],u[h+1]=m[6],u[h+2]=m[5],u[h+3]=m[4],u[h+4]=m[3],u[h+5]=m[2],u[h+6]=m[1],u[h+7]=m[0]}function e(r,u){return m[0]=r[u],m[1]=r[u+1],m[2]=r[u+2],m[3]=r[u+3],m[4]=r[u+4],m[5]=r[u+5],m[6]=r[u+6],m[7]=r[u+7],p[0]}function t(r,u){return m[7]=r[u],m[6]=r[u+1],m[5]=r[u+2],m[4]=r[u+3],m[3]=r[u+4],m[2]=r[u+5],m[1]=r[u+6],m[0]=r[u+7],p[0]}g.writeDoubleLE=l?a:n,g.writeDoubleBE=l?n:a,g.readDoubleLE=l?e:t,g.readDoubleBE=l?t:e}():function(){function p(l,a,n,e,t,r){var u=e<0?1:0;if(u&&(e=-e),e===0)l(0,t,r+a),l(1/e>0?0:2147483648,t,r+n);else if(isNaN(e))l(0,t,r+a),l(2146959360,t,r+n);else if(e>17976931348623157e292)l(0,t,r+a),l((u<<31|2146435072)>>>0,t,r+n);else{var h;if(e<22250738585072014e-324)l((h=e/5e-324)>>>0,t,r+a),l((u<<31|h/4294967296)>>>0,t,r+n);else{var b=Math.floor(Math.log(e)/Math.LN2);b===1024&&(b=1023),l(4503599627370496*(h=e*Math.pow(2,-b))>>>0,t,r+a),l((u<<31|b+1023<<20|1048576*h&1048575)>>>0,t,r+n)}}}function m(l,a,n,e,t){var r=l(e,t+a),u=l(e,t+n),h=2*(u>>31)+1,b=u>>>20&2047,_=4294967296*(1048575&u)+r;return b===2047?_?NaN:h*(1/0):b===0?5e-324*h*_:h*Math.pow(2,b-1075)*(_+4503599627370496)}g.writeDoubleLE=p.bind(null,c,0,4),g.writeDoubleBE=p.bind(null,y,4,0),g.readDoubleLE=m.bind(null,d,0,4),g.readDoubleBE=m.bind(null,f,4,0)}(),g}function c(g,p,m){p[m]=255&g,p[m+1]=g>>>8&255,p[m+2]=g>>>16&255,p[m+3]=g>>>24}function y(g,p,m){p[m]=g>>>24,p[m+1]=g>>>16&255,p[m+2]=g>>>8&255,p[m+3]=255&g}function d(g,p){return(g[p]|g[p+1]<<8|g[p+2]<<16|g[p+3]<<24)>>>0}function f(g,p){return(g[p]<<24|g[p+1]<<16|g[p+2]<<8|g[p+3])>>>0}w.exports=o(o)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(w){}return null}module.exports=inquire},6662:w=>{w.exports=function(o,c,y){var d=y||8192,f=d>>>1,g=null,p=d;return function(m){if(m<1||m>f)return o(m);p+m>d&&(g=o(d),p=0);var l=c.call(g,p,p+=m);return 7&p&&(p=1+(7|p)),l}}},4997:(w,o)=>{var c=o;c.length=function(y){for(var d=0,f=0,g=0;g<y.length;++g)(f=y.charCodeAt(g))<128?d+=1:f<2048?d+=2:(64512&f)==55296&&(64512&y.charCodeAt(g+1))==56320?(++g,d+=4):d+=3;return d},c.read=function(y,d,f){if(f-d<1)return"";for(var g,p=null,m=[],l=0;d<f;)(g=y[d++])<128?m[l++]=g:g>191&&g<224?m[l++]=(31&g)<<6|63&y[d++]:g>239&&g<365?(g=((7&g)<<18|(63&y[d++])<<12|(63&y[d++])<<6|63&y[d++])-65536,m[l++]=55296+(g>>10),m[l++]=56320+(1023&g)):m[l++]=(15&g)<<12|(63&y[d++])<<6|63&y[d++],l>8191&&((p||(p=[])).push(String.fromCharCode.apply(String,m)),l=0);return p?(l&&p.push(String.fromCharCode.apply(String,m.slice(0,l))),p.join("")):String.fromCharCode.apply(String,m.slice(0,l))},c.write=function(y,d,f){for(var g,p,m=f,l=0;l<y.length;++l)(g=y.charCodeAt(l))<128?d[f++]=g:g<2048?(d[f++]=g>>6|192,d[f++]=63&g|128):(64512&g)==55296&&(64512&(p=y.charCodeAt(l+1)))==56320?(g=65536+((1023&g)<<10)+(1023&p),++l,d[f++]=g>>18|240,d[f++]=g>>12&63|128,d[f++]=g>>6&63|128,d[f++]=63&g|128):(d[f++]=g>>12|224,d[f++]=g>>6&63|128,d[f++]=63&g|128);return f-m}},3442:(w,o)=>{o.__esModule=!0;var c=function(){function y(d){if(!d)throw new TypeError("Invalid argument; `value` has no value.");this.value=y.EMPTY,d&&y.isGuid(d)&&(this.value=d)}return y.isGuid=function(d){var f=d.toString();return d&&(d instanceof y||y.validator.test(f))},y.create=function(){return new y([y.gen(2),y.gen(1),y.gen(1),y.gen(1),y.gen(3)].join("-"))},y.createEmpty=function(){return new y("emptyguid")},y.parse=function(d){return new y(d)},y.raw=function(){return[y.gen(2),y.gen(1),y.gen(1),y.gen(1),y.gen(3)].join("-")},y.gen=function(d){for(var f="",g=0;g<d;g++)f+=(65536*(1+Math.random())|0).toString(16).substring(1);return f},y.prototype.equals=function(d){return y.isGuid(d)&&this.value===d.toString()},y.prototype.isEmpty=function(){return this.value===y.EMPTY},y.prototype.toString=function(){return this.value},y.prototype.toJSON=function(){return{value:this.value}},y.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),y.EMPTY="00000000-0000-0000-0000-000000000000",y}();o.Guid=c},2100:(w,o,c)=>{w.exports=c(9482)},9482:(w,o,c)=>{var y=o;function d(){y.util._configure(),y.Writer._configure(y.BufferWriter),y.Reader._configure(y.BufferReader)}y.build="minimal",y.Writer=c(1173),y.BufferWriter=c(3155),y.Reader=c(1408),y.BufferReader=c(593),y.util=c(9693),y.rpc=c(5994),y.roots=c(5054),y.configure=d,d()},1408:(w,o,c)=>{w.exports=m;var y,d=c(9693),f=d.LongBits,g=d.utf8;function p(u,h){return RangeError("index out of range: "+u.pos+" + "+(h||1)+" > "+u.len)}function m(u){this.buf=u,this.pos=0,this.len=u.length}var l,a=typeof Uint8Array<"u"?function(u){if(u instanceof Uint8Array||Array.isArray(u))return new m(u);throw Error("illegal buffer")}:function(u){if(Array.isArray(u))return new m(u);throw Error("illegal buffer")},n=function(){return d.Buffer?function(u){return(m.create=function(h){return d.Buffer.isBuffer(h)?new y(h):a(h)})(u)}:a};function e(){var u=new f(0,0),h=0;if(!(this.len-this.pos>4)){for(;h<3;++h){if(this.pos>=this.len)throw p(this);if(u.lo=(u.lo|(127&this.buf[this.pos])<<7*h)>>>0,this.buf[this.pos++]<128)return u}return u.lo=(u.lo|(127&this.buf[this.pos++])<<7*h)>>>0,u}for(;h<4;++h)if(u.lo=(u.lo|(127&this.buf[this.pos])<<7*h)>>>0,this.buf[this.pos++]<128)return u;if(u.lo=(u.lo|(127&this.buf[this.pos])<<28)>>>0,u.hi=(u.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return u;if(h=0,this.len-this.pos>4){for(;h<5;++h)if(u.hi=(u.hi|(127&this.buf[this.pos])<<7*h+3)>>>0,this.buf[this.pos++]<128)return u}else for(;h<5;++h){if(this.pos>=this.len)throw p(this);if(u.hi=(u.hi|(127&this.buf[this.pos])<<7*h+3)>>>0,this.buf[this.pos++]<128)return u}throw Error("invalid varint encoding")}function t(u,h){return(u[h-4]|u[h-3]<<8|u[h-2]<<16|u[h-1]<<24)>>>0}function r(){if(this.pos+8>this.len)throw p(this,8);return new f(t(this.buf,this.pos+=4),t(this.buf,this.pos+=4))}m.create=n(),m.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,m.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return l;if((this.pos+=5)>this.len)throw this.pos=this.len,p(this,10);return l}),m.prototype.int32=function(){return 0|this.uint32()},m.prototype.sint32=function(){var u=this.uint32();return u>>>1^-(1&u)|0},m.prototype.bool=function(){return this.uint32()!==0},m.prototype.fixed32=function(){if(this.pos+4>this.len)throw p(this,4);return t(this.buf,this.pos+=4)},m.prototype.sfixed32=function(){if(this.pos+4>this.len)throw p(this,4);return 0|t(this.buf,this.pos+=4)},m.prototype.float=function(){if(this.pos+4>this.len)throw p(this,4);var u=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,u},m.prototype.double=function(){if(this.pos+8>this.len)throw p(this,4);var u=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,u},m.prototype.bytes=function(){var u=this.uint32(),h=this.pos,b=this.pos+u;if(b>this.len)throw p(this,u);return this.pos+=u,Array.isArray(this.buf)?this.buf.slice(h,b):h===b?new this.buf.constructor(0):this._slice.call(this.buf,h,b)},m.prototype.string=function(){var u=this.bytes();return g.read(u,0,u.length)},m.prototype.skip=function(u){if(typeof u=="number"){if(this.pos+u>this.len)throw p(this,u);this.pos+=u}else do if(this.pos>=this.len)throw p(this);while(128&this.buf[this.pos++]);return this},m.prototype.skipType=function(u){switch(u){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(u=7&this.uint32())!=4;)this.skipType(u);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+u+" at offset "+this.pos)}return this},m._configure=function(u){y=u,m.create=n(),y._configure();var h=d.Long?"toLong":"toNumber";d.merge(m.prototype,{int64:function(){return e.call(this)[h](!1)},uint64:function(){return e.call(this)[h](!0)},sint64:function(){return e.call(this).zzDecode()[h](!1)},fixed64:function(){return r.call(this)[h](!0)},sfixed64:function(){return r.call(this)[h](!1)}})}},593:(w,o,c)=>{w.exports=f;var y=c(1408);(f.prototype=Object.create(y.prototype)).constructor=f;var d=c(9693);function f(g){y.call(this,g)}f._configure=function(){d.Buffer&&(f.prototype._slice=d.Buffer.prototype.slice)},f.prototype.string=function(){var g=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+g,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+g,this.len))},f._configure()},5054:w=>{w.exports={}},5994:(w,o,c)=>{o.Service=c(7948)},7948:(w,o,c)=>{w.exports=d;var y=c(9693);function d(f,g,p){if(typeof f!="function")throw TypeError("rpcImpl must be a function");y.EventEmitter.call(this),this.rpcImpl=f,this.requestDelimited=!!g,this.responseDelimited=!!p}(d.prototype=Object.create(y.EventEmitter.prototype)).constructor=d,d.prototype.rpcCall=function f(g,p,m,l,a){if(!l)throw TypeError("request must be specified");var n=this;if(!a)return y.asPromise(f,n,g,p,m,l);if(n.rpcImpl)try{return n.rpcImpl(g,p[n.requestDelimited?"encodeDelimited":"encode"](l).finish(),function(e,t){if(e)return n.emit("error",e,g),a(e);if(t!==null){if(!(t instanceof m))try{t=m[n.responseDelimited?"decodeDelimited":"decode"](t)}catch(r){return n.emit("error",r,g),a(r)}return n.emit("data",t,g),a(null,t)}n.end(!0)})}catch(e){return n.emit("error",e,g),void setTimeout(function(){a(e)},0)}else setTimeout(function(){a(Error("already ended"))},0)},d.prototype.end=function(f){return this.rpcImpl&&(f||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(w,o,c)=>{w.exports=d;var y=c(9693);function d(m,l){this.lo=m>>>0,this.hi=l>>>0}var f=d.zero=new d(0,0);f.toNumber=function(){return 0},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};var g=d.zeroHash="\0\0\0\0\0\0\0\0";d.fromNumber=function(m){if(m===0)return f;var l=m<0;l&&(m=-m);var a=m>>>0,n=(m-a)/4294967296>>>0;return l&&(n=~n>>>0,a=~a>>>0,++a>4294967295&&(a=0,++n>4294967295&&(n=0))),new d(a,n)},d.from=function(m){if(typeof m=="number")return d.fromNumber(m);if(y.isString(m)){if(!y.Long)return d.fromNumber(parseInt(m,10));m=y.Long.fromString(m)}return m.low||m.high?new d(m.low>>>0,m.high>>>0):f},d.prototype.toNumber=function(m){if(!m&&this.hi>>>31){var l=1+~this.lo>>>0,a=~this.hi>>>0;return l||(a=a+1>>>0),-(l+4294967296*a)}return this.lo+4294967296*this.hi},d.prototype.toLong=function(m){return y.Long?new y.Long(0|this.lo,0|this.hi,!!m):{low:0|this.lo,high:0|this.hi,unsigned:!!m}};var p=String.prototype.charCodeAt;d.fromHash=function(m){return m===g?f:new d((p.call(m,0)|p.call(m,1)<<8|p.call(m,2)<<16|p.call(m,3)<<24)>>>0,(p.call(m,4)|p.call(m,5)<<8|p.call(m,6)<<16|p.call(m,7)<<24)>>>0)},d.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},d.prototype.zzEncode=function(){var m=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^m)>>>0,this.lo=(this.lo<<1^m)>>>0,this},d.prototype.zzDecode=function(){var m=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^m)>>>0,this.hi=(this.hi>>>1^m)>>>0,this},d.prototype.length=function(){var m=this.lo,l=(this.lo>>>28|this.hi<<4)>>>0,a=this.hi>>>24;return a===0?l===0?m<16384?m<128?1:2:m<2097152?3:4:l<16384?l<128?5:6:l<2097152?7:8:a<128?9:10}},9693:function(w,o,c){var y=o;function d(g,p,m){for(var l=Object.keys(p),a=0;a<l.length;++a)g[l[a]]!==void 0&&m||(g[l[a]]=p[l[a]]);return g}function f(g){function p(m,l){if(!(this instanceof p))return new p(m,l);Object.defineProperty(this,"message",{get:function(){return m}}),Error.captureStackTrace?Error.captureStackTrace(this,p):Object.defineProperty(this,"stack",{value:new Error().stack||""}),l&&d(this,l)}return p.prototype=Object.create(Error.prototype,{constructor:{value:p,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return g},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),p}y.asPromise=c(4537),y.base64=c(7419),y.EventEmitter=c(9211),y.float=c(945),y.inquire=c(7199),y.utf8=c(4997),y.pool=c(6662),y.LongBits=c(1945),y.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),y.global=y.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||this,y.emptyArray=Object.freeze?Object.freeze([]):[],y.emptyObject=Object.freeze?Object.freeze({}):{},y.isInteger=Number.isInteger||function(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g},y.isString=function(g){return typeof g=="string"||g instanceof String},y.isObject=function(g){return g&&typeof g=="object"},y.isset=y.isSet=function(g,p){var m=g[p];return!(m==null||!g.hasOwnProperty(p))&&(typeof m!="object"||(Array.isArray(m)?m.length:Object.keys(m).length)>0)},y.Buffer=function(){try{var g=y.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}}(),y._Buffer_from=null,y._Buffer_allocUnsafe=null,y.newBuffer=function(g){return typeof g=="number"?y.Buffer?y._Buffer_allocUnsafe(g):new y.Array(g):y.Buffer?y._Buffer_from(g):typeof Uint8Array>"u"?g:new Uint8Array(g)},y.Array=typeof Uint8Array<"u"?Uint8Array:Array,y.Long=y.global.dcodeIO&&y.global.dcodeIO.Long||y.global.Long||y.inquire("long"),y.key2Re=/^true|false|0|1$/,y.key32Re=/^-?(?:0|[1-9][0-9]*)$/,y.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,y.longToHash=function(g){return g?y.LongBits.from(g).toHash():y.LongBits.zeroHash},y.longFromHash=function(g,p){var m=y.LongBits.fromHash(g);return y.Long?y.Long.fromBits(m.lo,m.hi,p):m.toNumber(!!p)},y.merge=d,y.lcFirst=function(g){return g.charAt(0).toLowerCase()+g.substring(1)},y.newError=f,y.ProtocolError=f("ProtocolError"),y.oneOfGetter=function(g){for(var p={},m=0;m<g.length;++m)p[g[m]]=1;return function(){for(var l=Object.keys(this),a=l.length-1;a>-1;--a)if(p[l[a]]===1&&this[l[a]]!==void 0&&this[l[a]]!==null)return l[a]}},y.oneOfSetter=function(g){return function(p){for(var m=0;m<g.length;++m)g[m]!==p&&delete this[g[m]]}},y.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},y._configure=function(){var g=y.Buffer;g?(y._Buffer_from=g.from!==Uint8Array.from&&g.from||function(p,m){return new g(p,m)},y._Buffer_allocUnsafe=g.allocUnsafe||function(p){return new g(p)}):y._Buffer_from=y._Buffer_allocUnsafe=null}},1173:(w,o,c)=>{w.exports=n;var y,d=c(9693),f=d.LongBits,g=d.base64,p=d.utf8;function m(_,x,O){this.fn=_,this.len=x,this.next=void 0,this.val=O}function l(){}function a(_){this.head=_.head,this.tail=_.tail,this.len=_.len,this.next=_.states}function n(){this.len=0,this.head=new m(l,0,0),this.tail=this.head,this.states=null}var e=function(){return d.Buffer?function(){return(n.create=function(){return new y})()}:function(){return new n}};function t(_,x,O){x[O]=255&_}function r(_,x){this.len=_,this.next=void 0,this.val=x}function u(_,x,O){for(;_.hi;)x[O++]=127&_.lo|128,_.lo=(_.lo>>>7|_.hi<<25)>>>0,_.hi>>>=7;for(;_.lo>127;)x[O++]=127&_.lo|128,_.lo=_.lo>>>7;x[O++]=_.lo}function h(_,x,O){x[O]=255&_,x[O+1]=_>>>8&255,x[O+2]=_>>>16&255,x[O+3]=_>>>24}n.create=e(),n.alloc=function(_){return new d.Array(_)},d.Array!==Array&&(n.alloc=d.pool(n.alloc,d.Array.prototype.subarray)),n.prototype._push=function(_,x,O){return this.tail=this.tail.next=new m(_,x,O),this.len+=x,this},r.prototype=Object.create(m.prototype),r.prototype.fn=function(_,x,O){for(;_>127;)x[O++]=127&_|128,_>>>=7;x[O]=_},n.prototype.uint32=function(_){return this.len+=(this.tail=this.tail.next=new r((_>>>=0)<128?1:_<16384?2:_<2097152?3:_<268435456?4:5,_)).len,this},n.prototype.int32=function(_){return _<0?this._push(u,10,f.fromNumber(_)):this.uint32(_)},n.prototype.sint32=function(_){return this.uint32((_<<1^_>>31)>>>0)},n.prototype.uint64=function(_){var x=f.from(_);return this._push(u,x.length(),x)},n.prototype.int64=n.prototype.uint64,n.prototype.sint64=function(_){var x=f.from(_).zzEncode();return this._push(u,x.length(),x)},n.prototype.bool=function(_){return this._push(t,1,_?1:0)},n.prototype.fixed32=function(_){return this._push(h,4,_>>>0)},n.prototype.sfixed32=n.prototype.fixed32,n.prototype.fixed64=function(_){var x=f.from(_);return this._push(h,4,x.lo)._push(h,4,x.hi)},n.prototype.sfixed64=n.prototype.fixed64,n.prototype.float=function(_){return this._push(d.float.writeFloatLE,4,_)},n.prototype.double=function(_){return this._push(d.float.writeDoubleLE,8,_)};var b=d.Array.prototype.set?function(_,x,O){x.set(_,O)}:function(_,x,O){for(var S=0;S<_.length;++S)x[O+S]=_[S]};n.prototype.bytes=function(_){var x=_.length>>>0;if(!x)return this._push(t,1,0);if(d.isString(_)){var O=n.alloc(x=g.length(_));g.decode(_,O,0),_=O}return this.uint32(x)._push(b,x,_)},n.prototype.string=function(_){var x=p.length(_);return x?this.uint32(x)._push(p.write,x,_):this._push(t,1,0)},n.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new m(l,0,0),this.len=0,this},n.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new m(l,0,0),this.len=0),this},n.prototype.ldelim=function(){var _=this.head,x=this.tail,O=this.len;return this.reset().uint32(O),O&&(this.tail.next=_.next,this.tail=x,this.len+=O),this},n.prototype.finish=function(){for(var _=this.head.next,x=this.constructor.alloc(this.len),O=0;_;)_.fn(_.val,x,O),O+=_.len,_=_.next;return x},n._configure=function(_){y=_,n.create=e(),y._configure()}},3155:(w,o,c)=>{w.exports=f;var y=c(1173);(f.prototype=Object.create(y.prototype)).constructor=f;var d=c(9693);function f(){y.call(this)}function g(p,m,l){p.length<40?d.utf8.write(p,m,l):m.utf8Write?m.utf8Write(p,l):m.write(p,l)}f._configure=function(){f.alloc=d._Buffer_allocUnsafe,f.writeBytesBuffer=d.Buffer&&d.Buffer.prototype instanceof Uint8Array&&d.Buffer.prototype.set.name==="set"?function(p,m,l){m.set(p,l)}:function(p,m,l){if(p.copy)p.copy(m,l,0,p.length);else for(var a=0;a<p.length;)m[l++]=p[a++]}},f.prototype.bytes=function(p){d.isString(p)&&(p=d._Buffer_from(p,"base64"));var m=p.length>>>0;return this.uint32(m),m&&this._push(f.writeBytesBuffer,m,p),this},f.prototype.string=function(p){var m=d.Buffer.byteLength(p);return this.uint32(m),m&&this._push(g,m,p),this},f._configure()},4154:w=>{w.exports=`"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveBackend=o.registerBackend=void 0;const c={},y=[];o.registerBackend=(d,f,g)=>{if(!f||typeof f.init!="function"||typeof f.createSessionHandler!="function")throw new TypeError("not a valid backend");{const p=c[d];if(p===void 0)c[d]={backend:f,priority:g};else{if(p.priority>g)return;if(p.priority===g&&p.backend!==f)throw new Error(`cannot register backend "${d}" using priority ${g}`)}if(g>=0){const m=y.indexOf(d);m!==-1&&y.splice(m,1);for(let l=0;l<y.length;l++)if(c[y[l]].priority<=g)return void y.splice(l,0,d);y.push(d)}}},o.resolveBackend=async d=>{const f=d.length===0?y:d,g=[];for(const p of f){const m=c[p];if(m){if(m.initialized)return m.backend;if(m.aborted)continue;const l=!!m.initPromise;try{return l||(m.initPromise=m.backend.init()),await m.initPromise,m.initialized=!0,m.backend}catch(a){l||g.push({name:p,err:a}),m.aborted=!0}finally{delete m.initPromise}}}throw new Error(`no available backend found. ERR: ${g.map(p=>`[${p.name}] ${p.err}`).join(", ")}`)}},4798:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.registerBackend=void 0;var y=c(685);Object.defineProperty(o,"registerBackend",{enumerable:!0,get:function(){return y.registerBackend}})},3121:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.env=void 0;const y=c(9104);let d="warning";o.env={wasm:{},webgl:{},webgpu:{},versions:{common:y.version},set logLevel(f){if(f!==void 0){if(typeof f!="string"||["verbose","info","warning","error","fatal"].indexOf(f)===-1)throw new Error(`Unsupported logging level: ${f}`);d=f}},get logLevel(){return d}},Object.defineProperty(o.env,"logLevel",{enumerable:!0})},2457:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.env=void 0;const y=c(3121);o.env=y.env},2235:function(w,o,c){var y=this&&this.__createBinding||(Object.create?function(f,g,p,m){m===void 0&&(m=p);var l=Object.getOwnPropertyDescriptor(g,p);l&&!("get"in l?!g.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return g[p]}}),Object.defineProperty(f,m,l)}:function(f,g,p,m){m===void 0&&(m=p),f[m]=g[p]}),d=this&&this.__exportStar||function(f,g){for(var p in f)p==="default"||Object.prototype.hasOwnProperty.call(g,p)||y(g,f,p)};Object.defineProperty(o,"__esModule",{value:!0}),d(c(4798),o),d(c(2457),o),d(c(3974),o),d(c(963),o),d(c(7852),o)},8036:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InferenceSession=void 0;const y=c(685),d=c(963);class f{constructor(p){this.handler=p}async run(p,m,l){const a={};let n={};if(typeof p!="object"||p===null||p instanceof d.Tensor||Array.isArray(p))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let e=!0;if(typeof m=="object"){if(m===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(m instanceof d.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(m)){if(m.length===0)throw new TypeError("'fetches' cannot be an empty array.");e=!1;for(const u of m){if(typeof u!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(u)===-1)throw new RangeError(`'fetches' contains invalid output name: ${u}.`);a[u]=null}if(typeof l=="object"&&l!==null)n=l;else if(l!==void 0)throw new TypeError("'options' must be an object.")}else{let u=!1;const h=Object.getOwnPropertyNames(m);for(const b of this.outputNames)if(h.indexOf(b)!==-1){const _=m[b];(_===null||_ instanceof d.Tensor)&&(u=!0,e=!1,a[b]=_)}if(u){if(typeof l=="object"&&l!==null)n=l;else if(l!==void 0)throw new TypeError("'options' must be an object.")}else n=m}}else if(m!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const u of this.inputNames)if(p[u]===void 0)throw new Error(`input '${u}' is missing in 'feeds'.`);if(e)for(const u of this.outputNames)a[u]=null;const t=await this.handler.run(p,a,n),r={};for(const u in t)Object.hasOwnProperty.call(t,u)&&(r[u]=new d.Tensor(t[u].type,t[u].data,t[u].dims));return r}async release(){return this.handler.dispose()}static async create(p,m,l,a){let n,e={};if(typeof p=="string"){if(n=p,typeof m=="object"&&m!==null)e=m;else if(m!==void 0)throw new TypeError("'options' must be an object.")}else if(p instanceof Uint8Array){if(n=p,typeof m=="object"&&m!==null)e=m;else if(m!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const h=p;let b=0,_=p.byteLength;if(typeof m=="object"&&m!==null)e=m;else if(typeof m=="number"){if(b=m,!Number.isSafeInteger(b))throw new RangeError("'byteOffset' must be an integer.");if(b<0||b>=h.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${h.byteLength}).`);if(_=p.byteLength-b,typeof l=="number"){if(_=l,!Number.isSafeInteger(_))throw new RangeError("'byteLength' must be an integer.");if(_<=0||b+_>h.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${h.byteLength-b}].`);if(typeof a=="object"&&a!==null)e=a;else if(a!==void 0)throw new TypeError("'options' must be an object.")}else if(l!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(m!==void 0)throw new TypeError("'options' must be an object.");n=new Uint8Array(h,b,_)}}const t=(e.executionProviders||[]).map(h=>typeof h=="string"?h:h.name),r=await(0,y.resolveBackend)(t),u=await r.createSessionHandler(n,e);return new f(u)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}o.InferenceSession=f},3974:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InferenceSession=void 0;const y=c(8036);o.InferenceSession=y.InferenceSession},7852:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0})},2350:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tensorToImageData=o.tensorToDataURL=void 0,o.tensorToDataURL=(c,y)=>{const d=document.createElement("canvas");d.width=c.dims[3],d.height=c.dims[2];const f=d.getContext("2d");if(f!=null){let g,p;(y==null?void 0:y.tensorLayout)!==void 0&&y.tensorLayout==="NHWC"?(g=c.dims[2],p=c.dims[3]):(g=c.dims[3],p=c.dims[2]);const m=(y==null?void 0:y.format)!==void 0?y.format:"RGB",l=y==null?void 0:y.norm;let a,n;l===void 0||l.mean===void 0?a=[255,255,255,255]:typeof l.mean=="number"?a=[l.mean,l.mean,l.mean,l.mean]:(a=[l.mean[0],l.mean[1],l.mean[2],0],l.mean[3]!==void 0&&(a[3]=l.mean[3])),l===void 0||l.bias===void 0?n=[0,0,0,0]:typeof l.bias=="number"?n=[l.bias,l.bias,l.bias,l.bias]:(n=[l.bias[0],l.bias[1],l.bias[2],0],l.bias[3]!==void 0&&(n[3]=l.bias[3]));const e=p*g;let t=0,r=e,u=2*e,h=-1;m==="RGBA"?(t=0,r=e,u=2*e,h=3*e):m==="RGB"?(t=0,r=e,u=2*e):m==="RBG"&&(t=0,u=e,r=2*e);for(let b=0;b<p;b++)for(let _=0;_<g;_++){const x=(c.data[t++]-n[0])*a[0],O=(c.data[r++]-n[1])*a[1],S=(c.data[u++]-n[2])*a[2],I=h===-1?255:(c.data[h++]-n[3])*a[3];f.fillStyle="rgba("+x+","+O+","+S+","+I+")",f.fillRect(_,b,1,1)}return d.toDataURL()}throw new Error("Can not access image data")},o.tensorToImageData=(c,y)=>{const d=document.createElement("canvas").getContext("2d");let f;if(d==null)throw new Error("Can not access image data");{let g,p,m;(y==null?void 0:y.tensorLayout)!==void 0&&y.tensorLayout==="NHWC"?(g=c.dims[2],p=c.dims[1],m=c.dims[3]):(g=c.dims[3],p=c.dims[2],m=c.dims[1]);const l=y!==void 0&&y.format!==void 0?y.format:"RGB",a=y==null?void 0:y.norm;let n,e;a===void 0||a.mean===void 0?n=[255,255,255,255]:typeof a.mean=="number"?n=[a.mean,a.mean,a.mean,a.mean]:(n=[a.mean[0],a.mean[1],a.mean[2],255],a.mean[3]!==void 0&&(n[3]=a.mean[3])),a===void 0||a.bias===void 0?e=[0,0,0,0]:typeof a.bias=="number"?e=[a.bias,a.bias,a.bias,a.bias]:(e=[a.bias[0],a.bias[1],a.bias[2],0],a.bias[3]!==void 0&&(e[3]=a.bias[3]));const t=p*g;if(y!==void 0&&(y.format!==void 0&&m===4&&y.format!=="RGBA"||m===3&&y.format!=="RGB"&&y.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const r=4;let u=0,h=1,b=2,_=3,x=0,O=t,S=2*t,I=-1;l==="RGBA"?(x=0,O=t,S=2*t,I=3*t):l==="RGB"?(x=0,O=t,S=2*t):l==="RBG"&&(x=0,S=t,O=2*t),f=d.createImageData(g,p);for(let A=0;A<p*g;u+=r,h+=r,b+=r,_+=r,A++)f.data[u]=(c.data[x++]-e[0])*n[0],f.data[h]=(c.data[O++]-e[1])*n[1],f.data[b]=(c.data[S++]-e[2])*n[2],f.data[_]=I===-1?255:(c.data[I++]-e[3])*n[3]}return f}},4866:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tensorFromImage=o.bufferToTensor=void 0;const y=c(963);o.bufferToTensor=(d,f)=>{if(d===void 0)throw new Error("Image buffer must be defined");if(f.height===void 0||f.width===void 0)throw new Error("Image height and width must be defined");if(f.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:g,width:p}=f,m=f.norm??{mean:255,bias:0};let l,a;l=typeof m.mean=="number"?[m.mean,m.mean,m.mean,m.mean]:[m.mean[0],m.mean[1],m.mean[2],m.mean[3]??255],a=typeof m.bias=="number"?[m.bias,m.bias,m.bias,m.bias]:[m.bias[0],m.bias[1],m.bias[2],m.bias[3]??0];const n=f.format!==void 0?f.format:"RGBA",e=f.tensorFormat!==void 0&&f.tensorFormat!==void 0?f.tensorFormat:"RGB",t=g*p,r=e==="RGBA"?new Float32Array(4*t):new Float32Array(3*t);let u=4,h=0,b=1,_=2,x=3,O=0,S=t,I=2*t,A=-1;n==="RGB"&&(u=3,h=0,b=1,_=2,x=-1),e==="RGBA"?A=3*t:e==="RBG"?(O=0,I=t,S=2*t):e==="BGR"&&(I=0,S=t,O=2*t);for(let R=0;R<t;R++,h+=u,_+=u,b+=u,x+=u)r[O++]=(d[h]+a[0])/l[0],r[S++]=(d[b]+a[1])/l[1],r[I++]=(d[_]+a[2])/l[2],A!==-1&&x!==-1&&(r[A++]=(d[x]+a[3])/l[3]);return e==="RGBA"?new y.Tensor("float32",r,[1,4,g,p]):new y.Tensor("float32",r,[1,3,g,p])},o.tensorFromImage=async(d,f)=>{const g=typeof HTMLImageElement<"u"&&d instanceof HTMLImageElement,p=typeof ImageData<"u"&&d instanceof ImageData,m=typeof ImageBitmap<"u"&&d instanceof ImageBitmap,l=typeof d=="string";let a,n=f??{};if(g){const e=document.createElement("canvas");e.width=d.width,e.height=d.height;const t=e.getContext("2d");if(t==null)throw new Error("Can not access image data");{let r=d.height,u=d.width;if(f!==void 0&&f.resizedHeight!==void 0&&f.resizedWidth!==void 0&&(r=f.resizedHeight,u=f.resizedWidth),f!==void 0){if(n=f,f.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");n.tensorFormat="RGBA",n.height=r,n.width=u}else n.tensorFormat="RGBA",n.height=r,n.width=u;t.drawImage(d,0,0),a=t.getImageData(0,0,u,r).data}}else{if(!p){if(m){if(f===void 0)throw new Error("Please provide image config with format for Imagebitmap");const e=document.createElement("canvas");e.width=d.width,e.height=d.height;const t=e.getContext("2d");if(t!=null){const r=d.height,u=d.width;return t.drawImage(d,0,0,u,r),a=t.getImageData(0,0,u,r).data,n.height=r,n.width=u,(0,o.bufferToTensor)(a,n)}throw new Error("Can not access image data")}if(l)return new Promise((e,t)=>{const r=document.createElement("canvas"),u=r.getContext("2d");if(!d||!u)return t();const h=new Image;h.crossOrigin="Anonymous",h.src=d,h.onload=()=>{r.width=h.width,r.height=h.height,u.drawImage(h,0,0,r.width,r.height);const b=u.getImageData(0,0,r.width,r.height);n.height=r.height,n.width=r.width,e((0,o.bufferToTensor)(b.data,n))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let e,t;if(f!==void 0&&f.resizedWidth!==void 0&&f.resizedHeight!==void 0?(e=f.resizedHeight,t=f.resizedWidth):(e=d.height,t=d.width),f!==void 0&&(n=f),n.format="RGBA",n.height=e,n.width=t,f!==void 0){const r=document.createElement("canvas");r.width=t,r.height=e;const u=r.getContext("2d");if(u==null)throw new Error("Can not access image data");u.putImageData(d,0,0),a=u.getImageData(0,0,t,e).data}else a=d.data}}if(a!==void 0)return(0,o.bufferToTensor)(a,n);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Tensor=void 0;const y=c(2350),d=c(4866),f=c(106),g=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),p=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let m=!1;o.Tensor=class{constructor(l,a,n){let e,t,r;if((()=>{if(!m){m=!0;const h=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",b=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";h&&(g.set("int64",BigInt64Array),p.set(BigInt64Array,"int64")),b&&(g.set("uint64",BigUint64Array),p.set(BigUint64Array,"uint64"))}})(),typeof l=="string")if(e=l,r=n,l==="string"){if(!Array.isArray(a))throw new TypeError("A string tensor's data must be a string array.");t=a}else{const h=g.get(l);if(h===void 0)throw new TypeError(`Unsupported tensor type: ${l}.`);if(Array.isArray(a)){if(l==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");t=l==="uint64"||l==="int64"?h.from(a,BigInt):h.from(a)}else{if(!(a instanceof h))throw new TypeError(`A ${e} tensor's data must be type of ${h}`);t=a}}else if(r=a,Array.isArray(l)){if(l.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const h=typeof l[0];if(h==="string")e="string",t=l;else{if(h!=="boolean")throw new TypeError(`Invalid element type of data array: ${h}.`);e="bool",t=Uint8Array.from(l)}}else{const h=p.get(l.constructor);if(h===void 0)throw new TypeError(`Unsupported type for tensor data: ${l.constructor}.`);e=h,t=l}if(r===void 0)r=[t.length];else if(!Array.isArray(r))throw new TypeError("A tensor's dims must be a number array");const u=(0,f.calculateSize)(r);if(u!==t.length)throw new Error(`Tensor's size(${u}) does not match data length(${t.length}).`);this.dims=r,this.type=e,this.data=t,this.size=u}static async fromImage(l,a){return(0,d.tensorFromImage)(l,a)}toDataURL(l){return(0,y.tensorToDataURL)(this,l)}toImageData(l){return(0,y.tensorToImageData)(this,l)}reshape(l){return(0,f.tensorReshape)(this,l)}}},106:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tensorReshape=o.calculateSize=void 0;const y=c(963);o.calculateSize=d=>{let f=1;for(let g=0;g<d.length;g++){const p=d[g];if(typeof p!="number"||!Number.isSafeInteger(p))throw new TypeError(`dims[${g}] must be an integer, got: ${p}`);if(p<0)throw new RangeError(`dims[${g}] must be a non-negative integer, got: ${p}`);f*=p}return f},o.tensorReshape=(d,f)=>new y.Tensor(d.type,d.data,f)},963:(w,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Tensor=void 0;const y=c(5957);o.Tensor=y.Tensor},9104:(w,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.version=void 0,o.version="1.16.1"},1583:(w,o)=>{var c,y=function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f=null;try{f=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function g(C,F,Z){this.low=0|C,this.high=0|F,this.unsigned=!!Z}function p(C){return(C&&C.__isLong__)===!0}function m(C){var F=Math.clz32(C&-C);return C?31-F:F}g.prototype.__isLong__,Object.defineProperty(g.prototype,"__isLong__",{value:!0}),g.isLong=p;var l={},a={};function n(C,F){var Z,le,se;return F?(se=0<=(C>>>=0)&&C<256)&&(le=a[C])?le:(Z=t(C,0,!0),se&&(a[C]=Z),Z):(se=-128<=(C|=0)&&C<128)&&(le=l[C])?le:(Z=t(C,C<0?-1:0,!1),se&&(l[C]=Z),Z)}function e(C,F){if(isNaN(C))return F?I:S;if(F){if(C<0)return I;if(C>=_)return G}else{if(C<=-x)return X;if(C+1>=x)return U}return C<0?e(-C,F).neg():t(C%b|0,C/b|0,F)}function t(C,F,Z){return new g(C,F,Z)}g.fromInt=n,g.fromNumber=e,g.fromBits=t;var r=Math.pow;function u(C,F,Z){if(C.length===0)throw Error("empty string");if(typeof F=="number"?(Z=F,F=!1):F=!!F,C==="NaN"||C==="Infinity"||C==="+Infinity"||C==="-Infinity")return F?I:S;if((Z=Z||10)<2||36<Z)throw RangeError("radix");var le;if((le=C.indexOf("-"))>0)throw Error("interior hyphen");if(le===0)return u(C.substring(1),F,Z).neg();for(var se=e(r(Z,8)),ge=S,ce=0;ce<C.length;ce+=8){var ye=Math.min(8,C.length-ce),_e=parseInt(C.substring(ce,ce+ye),Z);if(ye<8){var Ie=e(r(Z,ye));ge=ge.mul(Ie).add(e(_e))}else ge=(ge=ge.mul(se)).add(e(_e))}return ge.unsigned=F,ge}function h(C,F){return typeof C=="number"?e(C,F):typeof C=="string"?u(C,F):t(C.low,C.high,typeof F=="boolean"?F:C.unsigned)}g.fromString=u,g.fromValue=h;var b=4294967296,_=b*b,x=_/2,O=n(1<<24),S=n(0);g.ZERO=S;var I=n(0,!0);g.UZERO=I;var A=n(1);g.ONE=A;var R=n(1,!0);g.UONE=R;var j=n(-1);g.NEG_ONE=j;var U=t(-1,2147483647,!1);g.MAX_VALUE=U;var G=t(-1,-1,!0);g.MAX_UNSIGNED_VALUE=G;var X=t(0,-2147483648,!1);g.MIN_VALUE=X;var $=g.prototype;$.toInt=function(){return this.unsigned?this.low>>>0:this.low},$.toNumber=function(){return this.unsigned?(this.high>>>0)*b+(this.low>>>0):this.high*b+(this.low>>>0)},$.toString=function(C){if((C=C||10)<2||36<C)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(X)){var F=e(C),Z=this.div(F),le=Z.mul(F).sub(this);return Z.toString(C)+le.toInt().toString(C)}return"-"+this.neg().toString(C)}for(var se=e(r(C,6),this.unsigned),ge=this,ce="";;){var ye=ge.div(se),_e=(ge.sub(ye.mul(se)).toInt()>>>0).toString(C);if((ge=ye).isZero())return _e+ce;for(;_e.length<6;)_e="0"+_e;ce=""+_e+ce}},$.getHighBits=function(){return this.high},$.getHighBitsUnsigned=function(){return this.high>>>0},$.getLowBits=function(){return this.low},$.getLowBitsUnsigned=function(){return this.low>>>0},$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(X)?64:this.neg().getNumBitsAbs();for(var C=this.high!=0?this.high:this.low,F=31;F>0&&!(C&1<<F);F--);return this.high!=0?F+33:F+1},$.isZero=function(){return this.high===0&&this.low===0},$.eqz=$.isZero,$.isNegative=function(){return!this.unsigned&&this.high<0},$.isPositive=function(){return this.unsigned||this.high>=0},$.isOdd=function(){return(1&this.low)==1},$.isEven=function(){return(1&this.low)==0},$.equals=function(C){return p(C)||(C=h(C)),(this.unsigned===C.unsigned||this.high>>>31!=1||C.high>>>31!=1)&&this.high===C.high&&this.low===C.low},$.eq=$.equals,$.notEquals=function(C){return!this.eq(C)},$.neq=$.notEquals,$.ne=$.notEquals,$.lessThan=function(C){return this.comp(C)<0},$.lt=$.lessThan,$.lessThanOrEqual=function(C){return this.comp(C)<=0},$.lte=$.lessThanOrEqual,$.le=$.lessThanOrEqual,$.greaterThan=function(C){return this.comp(C)>0},$.gt=$.greaterThan,$.greaterThanOrEqual=function(C){return this.comp(C)>=0},$.gte=$.greaterThanOrEqual,$.ge=$.greaterThanOrEqual,$.compare=function(C){if(p(C)||(C=h(C)),this.eq(C))return 0;var F=this.isNegative(),Z=C.isNegative();return F&&!Z?-1:!F&&Z?1:this.unsigned?C.high>>>0>this.high>>>0||C.high===this.high&&C.low>>>0>this.low>>>0?-1:1:this.sub(C).isNegative()?-1:1},$.comp=$.compare,$.negate=function(){return!this.unsigned&&this.eq(X)?X:this.not().add(A)},$.neg=$.negate,$.add=function(C){p(C)||(C=h(C));var F=this.high>>>16,Z=65535&this.high,le=this.low>>>16,se=65535&this.low,ge=C.high>>>16,ce=65535&C.high,ye=C.low>>>16,_e=0,Ie=0,xe=0,ke=0;return xe+=(ke+=se+(65535&C.low))>>>16,Ie+=(xe+=le+ye)>>>16,_e+=(Ie+=Z+ce)>>>16,_e+=F+ge,t((xe&=65535)<<16|(ke&=65535),(_e&=65535)<<16|(Ie&=65535),this.unsigned)},$.subtract=function(C){return p(C)||(C=h(C)),this.add(C.neg())},$.sub=$.subtract,$.multiply=function(C){if(this.isZero())return this;if(p(C)||(C=h(C)),f)return t(f.mul(this.low,this.high,C.low,C.high),f.get_high(),this.unsigned);if(C.isZero())return this.unsigned?I:S;if(this.eq(X))return C.isOdd()?X:S;if(C.eq(X))return this.isOdd()?X:S;if(this.isNegative())return C.isNegative()?this.neg().mul(C.neg()):this.neg().mul(C).neg();if(C.isNegative())return this.mul(C.neg()).neg();if(this.lt(O)&&C.lt(O))return e(this.toNumber()*C.toNumber(),this.unsigned);var F=this.high>>>16,Z=65535&this.high,le=this.low>>>16,se=65535&this.low,ge=C.high>>>16,ce=65535&C.high,ye=C.low>>>16,_e=65535&C.low,Ie=0,xe=0,ke=0,je=0;return ke+=(je+=se*_e)>>>16,xe+=(ke+=le*_e)>>>16,ke&=65535,xe+=(ke+=se*ye)>>>16,Ie+=(xe+=Z*_e)>>>16,xe&=65535,Ie+=(xe+=le*ye)>>>16,xe&=65535,Ie+=(xe+=se*ce)>>>16,Ie+=F*_e+Z*ye+le*ce+se*ge,t((ke&=65535)<<16|(je&=65535),(Ie&=65535)<<16|(xe&=65535),this.unsigned)},$.mul=$.multiply,$.divide=function(C){if(p(C)||(C=h(C)),C.isZero())throw Error("division by zero");var F,Z,le;if(f)return this.unsigned||this.high!==-2147483648||C.low!==-1||C.high!==-1?t((this.unsigned?f.div_u:f.div_s)(this.low,this.high,C.low,C.high),f.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?I:S;if(this.unsigned){if(C.unsigned||(C=C.toUnsigned()),C.gt(this))return I;if(C.gt(this.shru(1)))return R;le=I}else{if(this.eq(X))return C.eq(A)||C.eq(j)?X:C.eq(X)?A:(F=this.shr(1).div(C).shl(1)).eq(S)?C.isNegative()?A:j:(Z=this.sub(C.mul(F)),le=F.add(Z.div(C)));if(C.eq(X))return this.unsigned?I:S;if(this.isNegative())return C.isNegative()?this.neg().div(C.neg()):this.neg().div(C).neg();if(C.isNegative())return this.div(C.neg()).neg();le=S}for(Z=this;Z.gte(C);){F=Math.max(1,Math.floor(Z.toNumber()/C.toNumber()));for(var se=Math.ceil(Math.log(F)/Math.LN2),ge=se<=48?1:r(2,se-48),ce=e(F),ye=ce.mul(C);ye.isNegative()||ye.gt(Z);)ye=(ce=e(F-=ge,this.unsigned)).mul(C);ce.isZero()&&(ce=A),le=le.add(ce),Z=Z.sub(ye)}return le},$.div=$.divide,$.modulo=function(C){return p(C)||(C=h(C)),f?t((this.unsigned?f.rem_u:f.rem_s)(this.low,this.high,C.low,C.high),f.get_high(),this.unsigned):this.sub(this.div(C).mul(C))},$.mod=$.modulo,$.rem=$.modulo,$.not=function(){return t(~this.low,~this.high,this.unsigned)},$.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},$.clz=$.countLeadingZeros,$.countTrailingZeros=function(){return this.low?m(this.low):m(this.high)+32},$.ctz=$.countTrailingZeros,$.and=function(C){return p(C)||(C=h(C)),t(this.low&C.low,this.high&C.high,this.unsigned)},$.or=function(C){return p(C)||(C=h(C)),t(this.low|C.low,this.high|C.high,this.unsigned)},$.xor=function(C){return p(C)||(C=h(C)),t(this.low^C.low,this.high^C.high,this.unsigned)},$.shiftLeft=function(C){return p(C)&&(C=C.toInt()),(C&=63)==0?this:C<32?t(this.low<<C,this.high<<C|this.low>>>32-C,this.unsigned):t(0,this.low<<C-32,this.unsigned)},$.shl=$.shiftLeft,$.shiftRight=function(C){return p(C)&&(C=C.toInt()),(C&=63)==0?this:C<32?t(this.low>>>C|this.high<<32-C,this.high>>C,this.unsigned):t(this.high>>C-32,this.high>=0?0:-1,this.unsigned)},$.shr=$.shiftRight,$.shiftRightUnsigned=function(C){return p(C)&&(C=C.toInt()),(C&=63)==0?this:C<32?t(this.low>>>C|this.high<<32-C,this.high>>>C,this.unsigned):t(C===32?this.high:this.high>>>C-32,0,this.unsigned)},$.shru=$.shiftRightUnsigned,$.shr_u=$.shiftRightUnsigned,$.rotateLeft=function(C){var F;return p(C)&&(C=C.toInt()),(C&=63)==0?this:C===32?t(this.high,this.low,this.unsigned):C<32?(F=32-C,t(this.low<<C|this.high>>>F,this.high<<C|this.low>>>F,this.unsigned)):(F=32-(C-=32),t(this.high<<C|this.low>>>F,this.low<<C|this.high>>>F,this.unsigned))},$.rotl=$.rotateLeft,$.rotateRight=function(C){var F;return p(C)&&(C=C.toInt()),(C&=63)==0?this:C===32?t(this.high,this.low,this.unsigned):C<32?(F=32-C,t(this.high<<F|this.low>>>C,this.low<<F|this.high>>>C,this.unsigned)):(F=32-(C-=32),t(this.low<<F|this.high>>>C,this.high<<F|this.low>>>C,this.unsigned))},$.rotr=$.rotateRight,$.toSigned=function(){return this.unsigned?t(this.low,this.high,!1):this},$.toUnsigned=function(){return this.unsigned?this:t(this.low,this.high,!0)},$.toBytes=function(C){return C?this.toBytesLE():this.toBytesBE()},$.toBytesLE=function(){var C=this.high,F=this.low;return[255&F,F>>>8&255,F>>>16&255,F>>>24,255&C,C>>>8&255,C>>>16&255,C>>>24]},$.toBytesBE=function(){var C=this.high,F=this.low;return[C>>>24,C>>>16&255,C>>>8&255,255&C,F>>>24,F>>>16&255,F>>>8&255,255&F]},g.fromBytes=function(C,F,Z){return Z?g.fromBytesLE(C,F):g.fromBytesBE(C,F)},g.fromBytesLE=function(C,F){return new g(C[0]|C[1]<<8|C[2]<<16|C[3]<<24,C[4]|C[5]<<8|C[6]<<16|C[7]<<24,F)},g.fromBytesBE=function(C,F){return new g(C[4]<<24|C[5]<<16|C[6]<<8|C[7],C[0]<<24|C[1]<<16|C[2]<<8|C[3],F)};var Q=g;return d.default=Q,"default"in d?d.default:d}({});(c=(function(){return y}).apply(o,[]))===void 0||(w.exports=c)},5686:(w,o,c)=>{c.r(o),c.d(o,{flatbuffers:()=>y});var y={};y.Offset,y.Table,y.SIZEOF_SHORT=2,y.SIZEOF_INT=4,y.FILE_IDENTIFIER_LENGTH=4,y.SIZE_PREFIX_LENGTH=4,y.Encoding={UTF8_BYTES:1,UTF16_STRING:2},y.int32=new Int32Array(2),y.float32=new Float32Array(y.int32.buffer),y.float64=new Float64Array(y.int32.buffer),y.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,y.Long=function(d,f){this.low=0|d,this.high=0|f},y.Long.create=function(d,f){return d==0&&f==0?y.Long.ZERO:new y.Long(d,f)},y.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},y.Long.prototype.equals=function(d){return this.low==d.low&&this.high==d.high},y.Long.ZERO=new y.Long(0,0),y.Builder=function(d){if(d)f=d;else var f=1024;this.bb=y.ByteBuffer.allocate(f),this.space=f,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},y.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},y.Builder.prototype.forceDefaults=function(d){this.force_defaults=d},y.Builder.prototype.dataBuffer=function(){return this.bb},y.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},y.Builder.prototype.prep=function(d,f){d>this.minalign&&(this.minalign=d);for(var g=1+~(this.bb.capacity()-this.space+f)&d-1;this.space<g+d+f;){var p=this.bb.capacity();this.bb=y.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-p}this.pad(g)},y.Builder.prototype.pad=function(d){for(var f=0;f<d;f++)this.bb.writeInt8(--this.space,0)},y.Builder.prototype.writeInt8=function(d){this.bb.writeInt8(this.space-=1,d)},y.Builder.prototype.writeInt16=function(d){this.bb.writeInt16(this.space-=2,d)},y.Builder.prototype.writeInt32=function(d){this.bb.writeInt32(this.space-=4,d)},y.Builder.prototype.writeInt64=function(d){this.bb.writeInt64(this.space-=8,d)},y.Builder.prototype.writeFloat32=function(d){this.bb.writeFloat32(this.space-=4,d)},y.Builder.prototype.writeFloat64=function(d){this.bb.writeFloat64(this.space-=8,d)},y.Builder.prototype.addInt8=function(d){this.prep(1,0),this.writeInt8(d)},y.Builder.prototype.addInt16=function(d){this.prep(2,0),this.writeInt16(d)},y.Builder.prototype.addInt32=function(d){this.prep(4,0),this.writeInt32(d)},y.Builder.prototype.addInt64=function(d){this.prep(8,0),this.writeInt64(d)},y.Builder.prototype.addFloat32=function(d){this.prep(4,0),this.writeFloat32(d)},y.Builder.prototype.addFloat64=function(d){this.prep(8,0),this.writeFloat64(d)},y.Builder.prototype.addFieldInt8=function(d,f,g){(this.force_defaults||f!=g)&&(this.addInt8(f),this.slot(d))},y.Builder.prototype.addFieldInt16=function(d,f,g){(this.force_defaults||f!=g)&&(this.addInt16(f),this.slot(d))},y.Builder.prototype.addFieldInt32=function(d,f,g){(this.force_defaults||f!=g)&&(this.addInt32(f),this.slot(d))},y.Builder.prototype.addFieldInt64=function(d,f,g){!this.force_defaults&&f.equals(g)||(this.addInt64(f),this.slot(d))},y.Builder.prototype.addFieldFloat32=function(d,f,g){(this.force_defaults||f!=g)&&(this.addFloat32(f),this.slot(d))},y.Builder.prototype.addFieldFloat64=function(d,f,g){(this.force_defaults||f!=g)&&(this.addFloat64(f),this.slot(d))},y.Builder.prototype.addFieldOffset=function(d,f,g){(this.force_defaults||f!=g)&&(this.addOffset(f),this.slot(d))},y.Builder.prototype.addFieldStruct=function(d,f,g){f!=g&&(this.nested(f),this.slot(d))},y.Builder.prototype.nested=function(d){if(d!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},y.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},y.Builder.prototype.slot=function(d){this.vtable[d]=this.offset()},y.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},y.Builder.growByteBuffer=function(d){var f=d.capacity();if(3221225472&f)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var g=f<<1,p=y.ByteBuffer.allocate(g);return p.setPosition(g-f),p.bytes().set(d.bytes(),g-f),p},y.Builder.prototype.addOffset=function(d){this.prep(y.SIZEOF_INT,0),this.writeInt32(this.offset()-d+y.SIZEOF_INT)},y.Builder.prototype.startObject=function(d){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=d;for(var f=0;f<d;f++)this.vtable[f]=0;this.isNested=!0,this.object_start=this.offset()},y.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var d=this.offset(),f=this.vtable_in_use-1;f>=0&&this.vtable[f]==0;f--);for(var g=f+1;f>=0;f--)this.addInt16(this.vtable[f]!=0?d-this.vtable[f]:0);this.addInt16(d-this.object_start);var p=(g+2)*y.SIZEOF_SHORT;this.addInt16(p);var m=0,l=this.space;e:for(f=0;f<this.vtables.length;f++){var a=this.bb.capacity()-this.vtables[f];if(p==this.bb.readInt16(a)){for(var n=y.SIZEOF_SHORT;n<p;n+=y.SIZEOF_SHORT)if(this.bb.readInt16(l+n)!=this.bb.readInt16(a+n))continue e;m=this.vtables[f];break}}return m?(this.space=this.bb.capacity()-d,this.bb.writeInt32(this.space,m-d)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-d,this.offset()-d)),this.isNested=!1,d},y.Builder.prototype.finish=function(d,f,g){var p=g?y.SIZE_PREFIX_LENGTH:0;if(f){var m=f;if(this.prep(this.minalign,y.SIZEOF_INT+y.FILE_IDENTIFIER_LENGTH+p),m.length!=y.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+y.FILE_IDENTIFIER_LENGTH);for(var l=y.FILE_IDENTIFIER_LENGTH-1;l>=0;l--)this.writeInt8(m.charCodeAt(l))}this.prep(this.minalign,y.SIZEOF_INT+p),this.addOffset(d),p&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},y.Builder.prototype.finishSizePrefixed=function(d,f){this.finish(d,f,!0)},y.Builder.prototype.requiredField=function(d,f){var g=this.bb.capacity()-d,p=g-this.bb.readInt32(g);if(this.bb.readInt16(p+f)==0)throw new Error("FlatBuffers: field "+f+" must be set")},y.Builder.prototype.startVector=function(d,f,g){this.notNested(),this.vector_num_elems=f,this.prep(y.SIZEOF_INT,d*f),this.prep(g,d*f)},y.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},y.Builder.prototype.createString=function(d){if(d instanceof Uint8Array)var f=d;else{f=[];for(var g=0;g<d.length;){var p,m=d.charCodeAt(g++);(p=m<55296||m>=56320?m:(m<<10)+d.charCodeAt(g++)+-56613888)<128?f.push(p):(p<2048?f.push(p>>6&31|192):(p<65536?f.push(p>>12&15|224):f.push(p>>18&7|240,p>>12&63|128),f.push(p>>6&63|128)),f.push(63&p|128))}}this.addInt8(0),this.startVector(1,f.length,1),this.bb.setPosition(this.space-=f.length),g=0;for(var l=this.space,a=this.bb.bytes();g<f.length;g++)a[l++]=f[g];return this.endVector()},y.Builder.prototype.createLong=function(d,f){return y.Long.create(d,f)},y.ByteBuffer=function(d){this.bytes_=d,this.position_=0},y.ByteBuffer.allocate=function(d){return new y.ByteBuffer(new Uint8Array(d))},y.ByteBuffer.prototype.clear=function(){this.position_=0},y.ByteBuffer.prototype.bytes=function(){return this.bytes_},y.ByteBuffer.prototype.position=function(){return this.position_},y.ByteBuffer.prototype.setPosition=function(d){this.position_=d},y.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},y.ByteBuffer.prototype.readInt8=function(d){return this.readUint8(d)<<24>>24},y.ByteBuffer.prototype.readUint8=function(d){return this.bytes_[d]},y.ByteBuffer.prototype.readInt16=function(d){return this.readUint16(d)<<16>>16},y.ByteBuffer.prototype.readUint16=function(d){return this.bytes_[d]|this.bytes_[d+1]<<8},y.ByteBuffer.prototype.readInt32=function(d){return this.bytes_[d]|this.bytes_[d+1]<<8|this.bytes_[d+2]<<16|this.bytes_[d+3]<<24},y.ByteBuffer.prototype.readUint32=function(d){return this.readInt32(d)>>>0},y.ByteBuffer.prototype.readInt64=function(d){return new y.Long(this.readInt32(d),this.readInt32(d+4))},y.ByteBuffer.prototype.readUint64=function(d){return new y.Long(this.readUint32(d),this.readUint32(d+4))},y.ByteBuffer.prototype.readFloat32=function(d){return y.int32[0]=this.readInt32(d),y.float32[0]},y.ByteBuffer.prototype.readFloat64=function(d){return y.int32[y.isLittleEndian?0:1]=this.readInt32(d),y.int32[y.isLittleEndian?1:0]=this.readInt32(d+4),y.float64[0]},y.ByteBuffer.prototype.writeInt8=function(d,f){this.bytes_[d]=f},y.ByteBuffer.prototype.writeUint8=function(d,f){this.bytes_[d]=f},y.ByteBuffer.prototype.writeInt16=function(d,f){this.bytes_[d]=f,this.bytes_[d+1]=f>>8},y.ByteBuffer.prototype.writeUint16=function(d,f){this.bytes_[d]=f,this.bytes_[d+1]=f>>8},y.ByteBuffer.prototype.writeInt32=function(d,f){this.bytes_[d]=f,this.bytes_[d+1]=f>>8,this.bytes_[d+2]=f>>16,this.bytes_[d+3]=f>>24},y.ByteBuffer.prototype.writeUint32=function(d,f){this.bytes_[d]=f,this.bytes_[d+1]=f>>8,this.bytes_[d+2]=f>>16,this.bytes_[d+3]=f>>24},y.ByteBuffer.prototype.writeInt64=function(d,f){this.writeInt32(d,f.low),this.writeInt32(d+4,f.high)},y.ByteBuffer.prototype.writeUint64=function(d,f){this.writeUint32(d,f.low),this.writeUint32(d+4,f.high)},y.ByteBuffer.prototype.writeFloat32=function(d,f){y.float32[0]=f,this.writeInt32(d,y.int32[0])},y.ByteBuffer.prototype.writeFloat64=function(d,f){y.float64[0]=f,this.writeInt32(d,y.int32[y.isLittleEndian?0:1]),this.writeInt32(d+4,y.int32[y.isLittleEndian?1:0])},y.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+y.SIZEOF_INT+y.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var d="",f=0;f<y.FILE_IDENTIFIER_LENGTH;f++)d+=String.fromCharCode(this.readInt8(this.position_+y.SIZEOF_INT+f));return d},y.ByteBuffer.prototype.__offset=function(d,f){var g=d-this.readInt32(d);return f<this.readInt16(g)?this.readInt16(g+f):0},y.ByteBuffer.prototype.__union=function(d,f){return d.bb_pos=f+this.readInt32(f),d.bb=this,d},y.ByteBuffer.prototype.__string=function(d,f){d+=this.readInt32(d);var g=this.readInt32(d),p="",m=0;if(d+=y.SIZEOF_INT,f===y.Encoding.UTF8_BYTES)return this.bytes_.subarray(d,d+g);for(;m<g;){var l,a=this.readUint8(d+m++);if(a<192)l=a;else{var n=this.readUint8(d+m++);if(a<224)l=(31&a)<<6|63&n;else{var e=this.readUint8(d+m++);l=a<240?(15&a)<<12|(63&n)<<6|63&e:(7&a)<<18|(63&n)<<12|(63&e)<<6|63&this.readUint8(d+m++)}}l<65536?p+=String.fromCharCode(l):(l-=65536,p+=String.fromCharCode(55296+(l>>10),56320+(1023&l)))}return p},y.ByteBuffer.prototype.__indirect=function(d){return d+this.readInt32(d)},y.ByteBuffer.prototype.__vector=function(d){return d+this.readInt32(d)+y.SIZEOF_INT},y.ByteBuffer.prototype.__vector_len=function(d){return this.readInt32(d+this.readInt32(d))},y.ByteBuffer.prototype.__has_identifier=function(d){if(d.length!=y.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+y.FILE_IDENTIFIER_LENGTH);for(var f=0;f<y.FILE_IDENTIFIER_LENGTH;f++)if(d.charCodeAt(f)!=this.readInt8(this.position_+y.SIZEOF_INT+f))return!1;return!0},y.ByteBuffer.prototype.createLong=function(d,f){return y.Long.create(d,f)}}},__webpack_module_cache__={};function __webpack_require__(w){var o=__webpack_module_cache__[w];if(o!==void 0)return o.exports;var c=__webpack_module_cache__[w]={exports:{}};return __webpack_modules__[w].call(c.exports,c,c.exports,__webpack_require__),c.exports}__webpack_require__.n=w=>{var o=w&&w.__esModule?()=>w.default:()=>w;return __webpack_require__.d(o,{a:o}),o},__webpack_require__.d=(w,o)=>{for(var c in o)__webpack_require__.o(o,c)&&!__webpack_require__.o(w,c)&&Object.defineProperty(w,c,{enumerable:!0,get:o[c]})},__webpack_require__.o=(w,o)=>Object.prototype.hasOwnProperty.call(w,o),__webpack_require__.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports,__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(w,o)=>function(){return o||(0,w[__getOwnPropNames(w)[0]])((o={exports:{}}).exports,o),o.exports},__copyProps=(w,o,c,y)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of __getOwnPropNames(o))!__hasOwnProp.call(w,d)&&d!==c&&__defProp(w,d,{get:()=>o[d],enumerable:!(y=__getOwnPropDesc(o,d))||y.enumerable});return w},__toESM=(w,o,c)=>(c=w!=null?__create(__getProtoOf(w)):{},__copyProps(o||!w||!w.__esModule?__defProp(c,"default",{value:w,enumerable:!0}):c,w)),require_iota=__commonJS({"node_modules/iota-array/iota.js"(w,o){function c(y){for(var d=new Array(y),f=0;f<y;++f)d[f]=f;return d}o.exports=c}}),require_is_buffer=__commonJS({"node_modules/is-buffer/index.js"(w,o){o.exports=function(d){return d!=null&&(c(d)||y(d)||!!d._isBuffer)};function c(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function y(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&c(d.slice(0,0))}}}),require_ndarray=__commonJS({"node_modules/ndarray/ndarray.js"(w,o){var c=require_iota(),y=require_is_buffer(),d=typeof Float64Array<"u";function f(n,e){return n[0]-e[0]}function g(){var n=this.stride,e=new Array(n.length),t;for(t=0;t<e.length;++t)e[t]=[Math.abs(n[t]),t];e.sort(f);var r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=e[t][1];return r}function p(n,e){var t=["View",e,"d",n].join("");e<0&&(t="View_Nil"+n);var r=n==="generic";if(e===-1){var u="function "+t+"(a){this.data=a;};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+t+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+t+"(a){return new "+t+"(a);}",U=new Function(u);return U()}else if(e===0){var u="function "+t+"(a,d) {this.data = a;this.offset = d};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+t+"_copy() {return new "+t+"(this.data,this.offset)};proto.pick=function "+t+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+t+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+t+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+t+"(a,b,c,d){return new "+t+"(a,d)}",U=new Function("TrivialArray",u);return U(l[n][0])}var u=["'use strict'"],h=c(e),b=h.map(function(G){return"i"+G}),_="this.offset+"+h.map(function(G){return"this.stride["+G+"]*i"+G}).join("+"),x=h.map(function(G){return"b"+G}).join(","),O=h.map(function(G){return"c"+G}).join(",");u.push("function "+t+"(a,"+x+","+O+",d){this.data=a","this.shape=["+x+"]","this.stride=["+O+"]","this.offset=d|0}","var proto="+t+".prototype","proto.dtype='"+n+"'","proto.dimension="+e),u.push("Object.defineProperty(proto,'size',{get:function "+t+"_size(){return "+h.map(function(G){return"this.shape["+G+"]"}).join("*"),"}})"),e===1?u.push("proto.order=[0]"):(u.push("Object.defineProperty(proto,'order',{get:"),e<4?(u.push("function "+t+"_order(){"),e===2?u.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):e===3&&u.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):u.push("ORDER})")),u.push("proto.set=function "+t+"_set("+b.join(",")+",v){"),r?u.push("return this.data.set("+_+",v)}"):u.push("return this.data["+_+"]=v}"),u.push("proto.get=function "+t+"_get("+b.join(",")+"){"),r?u.push("return this.data.get("+_+")}"):u.push("return this.data["+_+"]}"),u.push("proto.index=function "+t+"_index(",b.join(),"){return "+_+"}"),u.push("proto.hi=function "+t+"_hi("+b.join(",")+"){return new "+t+"(this.data,"+h.map(function(G){return["(typeof i",G,"!=='number'||i",G,"<0)?this.shape[",G,"]:i",G,"|0"].join("")}).join(",")+","+h.map(function(G){return"this.stride["+G+"]"}).join(",")+",this.offset)}");var S=h.map(function(G){return"a"+G+"=this.shape["+G+"]"}),I=h.map(function(G){return"c"+G+"=this.stride["+G+"]"});u.push("proto.lo=function "+t+"_lo("+b.join(",")+"){var b=this.offset,d=0,"+S.join(",")+","+I.join(","));for(var A=0;A<e;++A)u.push("if(typeof i"+A+"==='number'&&i"+A+">=0){d=i"+A+"|0;b+=c"+A+"*d;a"+A+"-=d}");u.push("return new "+t+"(this.data,"+h.map(function(G){return"a"+G}).join(",")+","+h.map(function(G){return"c"+G}).join(",")+",b)}"),u.push("proto.step=function "+t+"_step("+b.join(",")+"){var "+h.map(function(G){return"a"+G+"=this.shape["+G+"]"}).join(",")+","+h.map(function(G){return"b"+G+"=this.stride["+G+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var A=0;A<e;++A)u.push("if(typeof i"+A+"==='number'){d=i"+A+"|0;if(d<0){c+=b"+A+"*(a"+A+"-1);a"+A+"=ceil(-a"+A+"/d)}else{a"+A+"=ceil(a"+A+"/d)}b"+A+"*=d}");u.push("return new "+t+"(this.data,"+h.map(function(G){return"a"+G}).join(",")+","+h.map(function(G){return"b"+G}).join(",")+",c)}");for(var R=new Array(e),j=new Array(e),A=0;A<e;++A)R[A]="a[i"+A+"]",j[A]="b[i"+A+"]";u.push("proto.transpose=function "+t+"_transpose("+b+"){"+b.map(function(G,X){return G+"=("+G+"===undefined?"+X+":"+G+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+t+"(this.data,"+R.join(",")+","+j.join(",")+",this.offset)}"),u.push("proto.pick=function "+t+"_pick("+b+"){var a=[],b=[],c=this.offset");for(var A=0;A<e;++A)u.push("if(typeof i"+A+"==='number'&&i"+A+">=0){c=(c+this.stride["+A+"]*i"+A+")|0}else{a.push(this.shape["+A+"]);b.push(this.stride["+A+"])}");u.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),u.push("return function construct_"+t+"(data,shape,stride,offset){return new "+t+"(data,"+h.map(function(G){return"shape["+G+"]"}).join(",")+","+h.map(function(G){return"stride["+G+"]"}).join(",")+",offset)}");var U=new Function("CTOR_LIST","ORDER",u.join(`
`));return U(l[n],g)}function m(n){if(y(n))return"buffer";if(d)switch(Object.prototype.toString.call(n)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(n)?"array":"generic"}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function a(n,e,t,r){if(n===void 0){var O=l.array[0];return O([])}else typeof n=="number"&&(n=[n]);e===void 0&&(e=[n.length]);var u=e.length;if(t===void 0){t=new Array(u);for(var h=u-1,b=1;h>=0;--h)t[h]=b,b*=e[h]}if(r===void 0){r=0;for(var h=0;h<u;++h)t[h]<0&&(r-=(e[h]-1)*t[h])}for(var _=m(n),x=l[_];x.length<=u+1;)x.push(p(_,x.length-1));var O=x[u+1];return O(n,e,t,r)}o.exports=a}}),require_lodash=__commonJS({"node_modules/lodash/lodash.js"(w,o){(function(){var c,y="4.17.21",d=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",p="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",l=500,a="__lodash_placeholder__",n=1,e=2,t=4,r=1,u=2,h=1,b=2,_=4,x=8,O=16,S=32,I=64,A=128,R=256,j=512,U=30,G="...",X=800,$=16,Q=1,C=2,F=3,Z=1/0,le=9007199254740991,se=17976931348623157e292,ge=0/0,ce=4294967295,ye=ce-1,_e=ce>>>1,Ie=[["ary",A],["bind",h],["bindKey",b],["curry",x],["curryRight",O],["flip",j],["partial",S],["partialRight",I],["rearg",R]],xe="[object Arguments]",ke="[object Array]",je="[object AsyncFunction]",Je="[object Boolean]",ot="[object Date]",Vt="[object DOMException]",nt="[object Error]",vt="[object Function]",Ge="[object GeneratorFunction]",ze="[object Map]",lt="[object Number]",_t="[object Null]",Ye="[object Object]",xt="[object Promise]",Tt="[object Proxy]",Nt="[object RegExp]",ct="[object Set]",at="[object String]",At="[object Symbol]",Zn="[object Undefined]",cn="[object WeakMap]",gn="[object WeakSet]",Zt="[object ArrayBuffer]",Gt="[object DataView]",mn="[object Float32Array]",Dn="[object Float64Array]",yn="[object Int8Array]",Wt="[object Int16Array]",bn="[object Int32Array]",dn="[object Uint8Array]",we="[object Uint8ClampedArray]",nn="[object Uint16Array]",vn="[object Uint32Array]",N=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ie=/&(?:amp|lt|gt|quot|#39);/g,de=/[&<>"']/g,be=RegExp(ie.source),Ae=RegExp(de.source),rt=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,ft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gn=/^\w*$/,Wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(te.source),Ze=/^\s+/,Ht=/\s/,Hn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qr=/\{\n\/\* \[wrapped with (.+)\] \*/,ei=/,? & /,ro=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Or=/[()=,{}\[\]\/\s]/,sr=/\\(\\)?/g,Cn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sr=/\w*$/,ti=/^[-+]0x[0-9a-f]+$/i,ni=/^0b[01]+$/i,ri=/^\[object .+?Constructor\]$/,ii=/^0o[0-7]+$/i,io=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kn=/($^)/,Ir=/['\n\r\u2028\u2029\\]/g,$n="\\ud800-\\udfff",oi="\\u0300-\\u036f",ai="\\ufe20-\\ufe2f",si="\\u20d0-\\u20ff",Ar=oi+ai+si,Pr="\\u2700-\\u27bf",Er="a-z\\xdf-\\xf6\\xf8-\\xff",oo="\\xac\\xb1\\xd7\\xf7",ui="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",li="\\u2000-\\u206f",ci=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dr="A-Z\\xc0-\\xd6\\xd8-\\xde",di="\\ufe0e\\ufe0f",Cr=oo+ui+li+ci,kr="[']",ao="["+$n+"]",qn="["+Cr+"]",Kn="["+Ar+"]",$r="\\d+",ur="["+Pr+"]",Rr="["+Er+"]",lr="[^"+$n+Cr+$r+Pr+Er+Dr+"]",Yn="\\ud83c[\\udffb-\\udfff]",pi="(?:"+Kn+"|"+Yn+")",Lr="[^"+$n+"]",cr="(?:\\ud83c[\\udde6-\\uddff]){2}",Xn="[\\ud800-\\udbff][\\udc00-\\udfff]",rn="["+Dr+"]",dr="\\u200d",Nr="(?:"+Rr+"|"+lr+")",E="(?:"+rn+"|"+lr+")",L="(?:"+kr+"(?:d|ll|m|re|s|t|ve))?",B="(?:"+kr+"(?:D|LL|M|RE|S|T|VE))?",K=pi+"?",ee="["+di+"]?",pe="(?:"+dr+"(?:"+[Lr,cr,Xn].join("|")+")"+ee+K+")*",ve="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Pt=ee+K+pe,ht="(?:"+[ur,cr,Xn].join("|")+")"+Pt,Ot="(?:"+[Lr+Kn+"?",Kn,cr,Xn,ao].join("|")+")",fi=RegExp(kr,"g"),hi=RegExp(Kn,"g"),ne=RegExp(Yn+"(?="+Yn+")|"+Ot+Pt,"g"),Me=RegExp([rn+"?"+Rr+"+"+L+"(?="+[qn,rn,"$"].join("|")+")",E+"+"+B+"(?="+[qn,rn+Nr,"$"].join("|")+")",rn+"?"+Nr+"+"+L,rn+"+"+B,Qe,ve,$r,ht].join("|"),"g"),et=RegExp("["+dr+$n+Ar+di+"]"),_n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cu=-1,Ke={};Ke[mn]=Ke[Dn]=Ke[yn]=Ke[Wt]=Ke[bn]=Ke[dn]=Ke[we]=Ke[nn]=Ke[vn]=!0,Ke[xe]=Ke[ke]=Ke[Zt]=Ke[Je]=Ke[Gt]=Ke[ot]=Ke[nt]=Ke[vt]=Ke[ze]=Ke[lt]=Ke[Ye]=Ke[Nt]=Ke[ct]=Ke[at]=Ke[cn]=!1;var qe={};qe[xe]=qe[ke]=qe[Zt]=qe[Gt]=qe[Je]=qe[ot]=qe[mn]=qe[Dn]=qe[yn]=qe[Wt]=qe[bn]=qe[ze]=qe[lt]=qe[Ye]=qe[Nt]=qe[ct]=qe[at]=qe[At]=qe[dn]=qe[we]=qe[nn]=qe[vn]=!0,qe[nt]=qe[vt]=qe[cn]=!1;var ku={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},$u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ru={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nu=parseFloat,Fu=parseInt,ba=typeof global=="object"&&global&&global.Object===Object&&global,Mu=typeof self=="object"&&self&&self.Object===Object&&self,yt=ba||Mu||Function("return this")(),so=typeof w=="object"&&w&&!w.nodeType&&w,Jn=so&&typeof o=="object"&&o&&!o.nodeType&&o,va=Jn&&Jn.exports===so,uo=va&&ba.process,qt=function(){try{var W=Jn&&Jn.require&&Jn.require("util").types;return W||uo&&uo.binding&&uo.binding("util")}catch{}}(),_a=qt&&qt.isArrayBuffer,wa=qt&&qt.isDate,xa=qt&&qt.isMap,Ta=qt&&qt.isRegExp,Oa=qt&&qt.isSet,Sa=qt&&qt.isTypedArray;function Ft(W,re,J){switch(J.length){case 0:return W.call(re);case 1:return W.call(re,J[0]);case 2:return W.call(re,J[0],J[1]);case 3:return W.call(re,J[0],J[1],J[2])}return W.apply(re,J)}function ju(W,re,J,he){for(var Pe=-1,Ue=W==null?0:W.length;++Pe<Ue;){var gt=W[Pe];re(he,gt,J(gt),W)}return he}function Kt(W,re){for(var J=-1,he=W==null?0:W.length;++J<he&&re(W[J],J,W)!==!1;);return W}function Uu(W,re){for(var J=W==null?0:W.length;J--&&re(W[J],J,W)!==!1;);return W}function Ia(W,re){for(var J=-1,he=W==null?0:W.length;++J<he;)if(!re(W[J],J,W))return!1;return!0}function Rn(W,re){for(var J=-1,he=W==null?0:W.length,Pe=0,Ue=[];++J<he;){var gt=W[J];re(gt,J,W)&&(Ue[Pe++]=gt)}return Ue}function mi(W,re){var J=W==null?0:W.length;return!!J&&pr(W,re,0)>-1}function lo(W,re,J){for(var he=-1,Pe=W==null?0:W.length;++he<Pe;)if(J(re,W[he]))return!0;return!1}function Xe(W,re){for(var J=-1,he=W==null?0:W.length,Pe=Array(he);++J<he;)Pe[J]=re(W[J],J,W);return Pe}function Ln(W,re){for(var J=-1,he=re.length,Pe=W.length;++J<he;)W[Pe+J]=re[J];return W}function co(W,re,J,he){var Pe=-1,Ue=W==null?0:W.length;for(he&&Ue&&(J=W[++Pe]);++Pe<Ue;)J=re(J,W[Pe],Pe,W);return J}function Bu(W,re,J,he){var Pe=W==null?0:W.length;for(he&&Pe&&(J=W[--Pe]);Pe--;)J=re(J,W[Pe],Pe,W);return J}function po(W,re){for(var J=-1,he=W==null?0:W.length;++J<he;)if(re(W[J],J,W))return!0;return!1}var zu=fo("length");function Vu(W){return W.split("")}function Zu(W){return W.match(ro)||[]}function Aa(W,re,J){var he;return J(W,function(Pe,Ue,gt){if(re(Pe,Ue,gt))return he=Ue,!1}),he}function yi(W,re,J,he){for(var Pe=W.length,Ue=J+(he?1:-1);he?Ue--:++Ue<Pe;)if(re(W[Ue],Ue,W))return Ue;return-1}function pr(W,re,J){return re===re?nl(W,re,J):yi(W,Pa,J)}function Gu(W,re,J,he){for(var Pe=J-1,Ue=W.length;++Pe<Ue;)if(he(W[Pe],re))return Pe;return-1}function Pa(W){return W!==W}function Ea(W,re){var J=W==null?0:W.length;return J?go(W,re)/J:ge}function fo(W){return function(re){return re==null?c:re[W]}}function ho(W){return function(re){return W==null?c:W[re]}}function Da(W,re,J,he,Pe){return Pe(W,function(Ue,gt,We){J=he?(he=!1,Ue):re(J,Ue,gt,We)}),J}function Wu(W,re){var J=W.length;for(W.sort(re);J--;)W[J]=W[J].value;return W}function go(W,re){for(var J,he=-1,Pe=W.length;++he<Pe;){var Ue=re(W[he]);Ue!==c&&(J=J===c?Ue:J+Ue)}return J}function mo(W,re){for(var J=-1,he=Array(W);++J<W;)he[J]=re(J);return he}function Hu(W,re){return Xe(re,function(J){return[J,W[J]]})}function Ca(W){return W&&W.slice(0,La(W)+1).replace(Ze,"")}function Mt(W){return function(re){return W(re)}}function yo(W,re){return Xe(re,function(J){return W[J]})}function Fr(W,re){return W.has(re)}function ka(W,re){for(var J=-1,he=W.length;++J<he&&pr(re,W[J],0)>-1;);return J}function $a(W,re){for(var J=W.length;J--&&pr(re,W[J],0)>-1;);return J}function qu(W,re){for(var J=W.length,he=0;J--;)W[J]===re&&++he;return he}var Ku=ho(ku),Yu=ho($u);function Xu(W){return"\\"+Lu[W]}function Ju(W,re){return W==null?c:W[re]}function fr(W){return et.test(W)}function Qu(W){return _n.test(W)}function el(W){for(var re,J=[];!(re=W.next()).done;)J.push(re.value);return J}function bo(W){var re=-1,J=Array(W.size);return W.forEach(function(he,Pe){J[++re]=[Pe,he]}),J}function Ra(W,re){return function(J){return W(re(J))}}function Nn(W,re){for(var J=-1,he=W.length,Pe=0,Ue=[];++J<he;){var gt=W[J];(gt===re||gt===a)&&(W[J]=a,Ue[Pe++]=J)}return Ue}function bi(W){var re=-1,J=Array(W.size);return W.forEach(function(he){J[++re]=he}),J}function tl(W){var re=-1,J=Array(W.size);return W.forEach(function(he){J[++re]=[he,he]}),J}function nl(W,re,J){for(var he=J-1,Pe=W.length;++he<Pe;)if(W[he]===re)return he;return-1}function rl(W,re,J){for(var he=J+1;he--;)if(W[he]===re)return he;return he}function hr(W){return fr(W)?ol(W):zu(W)}function on(W){return fr(W)?al(W):Vu(W)}function La(W){for(var re=W.length;re--&&Ht.test(W.charAt(re)););return re}var il=ho(Ru);function ol(W){for(var re=ne.lastIndex=0;ne.test(W);)++re;return re}function al(W){return W.match(ne)||[]}function sl(W){return W.match(Me)||[]}var ul=function W(re){re=re==null?yt:Fn.defaults(yt.Object(),re,Fn.pick(yt,gi));var J=re.Array,he=re.Date,Pe=re.Error,Ue=re.Function,gt=re.Math,We=re.Object,vo=re.RegExp,ll=re.String,Yt=re.TypeError,vi=J.prototype,cl=Ue.prototype,gr=We.prototype,_i=re["__core-js_shared__"],wi=cl.toString,Ve=gr.hasOwnProperty,dl=0,Na=function(){var i=/[^.]+$/.exec(_i&&_i.keys&&_i.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),xi=gr.toString,pl=wi.call(We),fl=yt._,hl=vo("^"+wi.call(Ve).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ti=va?re.Buffer:c,Mn=re.Symbol,Oi=re.Uint8Array,Fa=Ti?Ti.allocUnsafe:c,Si=Ra(We.getPrototypeOf,We),Ma=We.create,ja=gr.propertyIsEnumerable,Ii=vi.splice,Ua=Mn?Mn.isConcatSpreadable:c,Mr=Mn?Mn.iterator:c,Qn=Mn?Mn.toStringTag:c,Ai=function(){try{var i=ir(We,"defineProperty");return i({},"",{}),i}catch{}}(),gl=re.clearTimeout!==yt.clearTimeout&&re.clearTimeout,ml=he&&he.now!==yt.Date.now&&he.now,yl=re.setTimeout!==yt.setTimeout&&re.setTimeout,Pi=gt.ceil,Ei=gt.floor,_o=We.getOwnPropertySymbols,bl=Ti?Ti.isBuffer:c,Ba=re.isFinite,vl=vi.join,_l=Ra(We.keys,We),mt=gt.max,St=gt.min,wl=he.now,xl=re.parseInt,za=gt.random,Tl=vi.reverse,wo=ir(re,"DataView"),jr=ir(re,"Map"),xo=ir(re,"Promise"),mr=ir(re,"Set"),Ur=ir(re,"WeakMap"),Br=ir(We,"create"),Di=Ur&&new Ur,yr={},Ol=or(wo),Sl=or(jr),Il=or(xo),Al=or(mr),Pl=or(Ur),Ci=Mn?Mn.prototype:c,zr=Ci?Ci.valueOf:c,Va=Ci?Ci.toString:c;function D(i){if(it(i)&&!Ee(i)&&!(i instanceof Ne)){if(i instanceof Xt)return i;if(Ve.call(i,"__wrapped__"))return Zs(i)}return new Xt(i)}var br=function(){function i(){}return function(s){if(!tt(s))return{};if(Ma)return Ma(s);i.prototype=s;var v=new i;return i.prototype=c,v}}();function ki(){}function Xt(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=c}D.templateSettings={escape:rt,evaluate:dt,interpolate:pt,variable:"",imports:{_:D}},D.prototype=ki.prototype,D.prototype.constructor=D,Xt.prototype=br(ki.prototype),Xt.prototype.constructor=Xt;function Ne(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function El(){var i=new Ne(this.__wrapped__);return i.__actions__=kt(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=kt(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=kt(this.__views__),i}function Dl(){if(this.__filtered__){var i=new Ne(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Cl(){var i=this.__wrapped__.value(),s=this.__dir__,v=Ee(i),T=s<0,P=v?i.length:0,k=Vc(0,P,this.__views__),M=k.start,V=k.end,H=V-M,oe=T?V:M-1,ae=this.__iteratees__,ue=ae.length,fe=0,me=St(H,this.__takeCount__);if(!v||!T&&P==H&&me==H)return fs(i,this.__actions__);var Oe=[];e:for(;H--&&fe<me;){oe+=s;for(var Ce=-1,Se=i[oe];++Ce<ue;){var Re=ae[Ce],Fe=Re.iteratee,Bt=Re.type,Ct=Fe(Se);if(Bt==C)Se=Ct;else if(!Ct){if(Bt==Q)continue e;break e}}Oe[fe++]=Se}return Oe}Ne.prototype=br(ki.prototype),Ne.prototype.constructor=Ne;function er(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var T=i[s];this.set(T[0],T[1])}}function kl(){this.__data__=Br?Br(null):{},this.size=0}function $l(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function Rl(i){var s=this.__data__;if(Br){var v=s[i];return v===m?c:v}return Ve.call(s,i)?s[i]:c}function Ll(i){var s=this.__data__;return Br?s[i]!==c:Ve.call(s,i)}function Nl(i,s){var v=this.__data__;return this.size+=this.has(i)?0:1,v[i]=Br&&s===c?m:s,this}er.prototype.clear=kl,er.prototype.delete=$l,er.prototype.get=Rl,er.prototype.has=Ll,er.prototype.set=Nl;function wn(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var T=i[s];this.set(T[0],T[1])}}function Fl(){this.__data__=[],this.size=0}function Ml(i){var s=this.__data__,v=$i(s,i);if(v<0)return!1;var T=s.length-1;return v==T?s.pop():Ii.call(s,v,1),--this.size,!0}function jl(i){var s=this.__data__,v=$i(s,i);return v<0?c:s[v][1]}function Ul(i){return $i(this.__data__,i)>-1}function Bl(i,s){var v=this.__data__,T=$i(v,i);return T<0?(++this.size,v.push([i,s])):v[T][1]=s,this}wn.prototype.clear=Fl,wn.prototype.delete=Ml,wn.prototype.get=jl,wn.prototype.has=Ul,wn.prototype.set=Bl;function xn(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var T=i[s];this.set(T[0],T[1])}}function zl(){this.size=0,this.__data__={hash:new er,map:new(jr||wn),string:new er}}function Vl(i){var s=Gi(this,i).delete(i);return this.size-=s?1:0,s}function Zl(i){return Gi(this,i).get(i)}function Gl(i){return Gi(this,i).has(i)}function Wl(i,s){var v=Gi(this,i),T=v.size;return v.set(i,s),this.size+=v.size==T?0:1,this}xn.prototype.clear=zl,xn.prototype.delete=Vl,xn.prototype.get=Zl,xn.prototype.has=Gl,xn.prototype.set=Wl;function tr(i){var s=-1,v=i==null?0:i.length;for(this.__data__=new xn;++s<v;)this.add(i[s])}function Hl(i){return this.__data__.set(i,m),this}function ql(i){return this.__data__.has(i)}tr.prototype.add=tr.prototype.push=Hl,tr.prototype.has=ql;function an(i){var s=this.__data__=new wn(i);this.size=s.size}function Kl(){this.__data__=new wn,this.size=0}function Yl(i){var s=this.__data__,v=s.delete(i);return this.size=s.size,v}function Xl(i){return this.__data__.get(i)}function Jl(i){return this.__data__.has(i)}function Ql(i,s){var v=this.__data__;if(v instanceof wn){var T=v.__data__;if(!jr||T.length<d-1)return T.push([i,s]),this.size=++v.size,this;v=this.__data__=new xn(T)}return v.set(i,s),this.size=v.size,this}an.prototype.clear=Kl,an.prototype.delete=Yl,an.prototype.get=Xl,an.prototype.has=Jl,an.prototype.set=Ql;function Za(i,s){var v=Ee(i),T=!v&&ar(i),P=!v&&!T&&Vn(i),k=!v&&!T&&!P&&xr(i),M=v||T||P||k,V=M?mo(i.length,ll):[],H=V.length;for(var oe in i)(s||Ve.call(i,oe))&&!(M&&(oe=="length"||P&&(oe=="offset"||oe=="parent")||k&&(oe=="buffer"||oe=="byteLength"||oe=="byteOffset")||In(oe,H)))&&V.push(oe);return V}function Ga(i){var s=i.length;return s?i[$o(0,s-1)]:c}function ec(i,s){return Wi(kt(i),nr(s,0,i.length))}function tc(i){return Wi(kt(i))}function To(i,s,v){(v!==c&&!sn(i[s],v)||v===c&&!(s in i))&&Tn(i,s,v)}function Vr(i,s,v){var T=i[s];(!(Ve.call(i,s)&&sn(T,v))||v===c&&!(s in i))&&Tn(i,s,v)}function $i(i,s){for(var v=i.length;v--;)if(sn(i[v][0],s))return v;return-1}function nc(i,s,v,T){return jn(i,function(P,k,M){s(T,P,v(P),M)}),T}function Wa(i,s){return i&&fn(s,bt(s),i)}function rc(i,s){return i&&fn(s,Rt(s),i)}function Tn(i,s,v){s=="__proto__"&&Ai?Ai(i,s,{configurable:!0,enumerable:!0,value:v,writable:!0}):i[s]=v}function Oo(i,s){for(var v=-1,T=s.length,P=J(T),k=i==null;++v<T;)P[v]=k?c:ia(i,s[v]);return P}function nr(i,s,v){return i===i&&(v!==c&&(i=i<=v?i:v),s!==c&&(i=i>=s?i:s)),i}function Jt(i,s,v,T,P,k){var M,V=s&n,H=s&e,oe=s&t;if(v&&(M=P?v(i,T,P,k):v(i)),M!==c)return M;if(!tt(i))return i;var ae=Ee(i);if(ae){if(M=Gc(i),!V)return kt(i,M)}else{var ue=It(i),fe=ue==vt||ue==Ge;if(Vn(i))return ms(i,V);if(ue==Ye||ue==xe||fe&&!P){if(M=H||fe?{}:Ls(i),!V)return H?Rc(i,rc(M,i)):$c(i,Wa(M,i))}else{if(!qe[ue])return P?i:{};M=Wc(i,ue,V)}}k||(k=new an);var me=k.get(i);if(me)return me;k.set(i,M),cu(i)?i.forEach(function(Se){M.add(Jt(Se,s,v,Se,i,k))}):uu(i)&&i.forEach(function(Se,Re){M.set(Re,Jt(Se,s,v,Re,i,k))});var Oe=oe?H?Zo:Vo:H?Rt:bt,Ce=ae?c:Oe(i);return Kt(Ce||i,function(Se,Re){Ce&&(Re=Se,Se=i[Re]),Vr(M,Re,Jt(Se,s,v,Re,i,k))}),M}function ic(i){var s=bt(i);return function(v){return Ha(v,i,s)}}function Ha(i,s,v){var T=v.length;if(i==null)return!T;for(i=We(i);T--;){var P=v[T],k=s[P],M=i[P];if(M===c&&!(P in i)||!k(M))return!1}return!0}function qa(i,s,v){if(typeof i!="function")throw new Yt(g);return Yr(function(){i.apply(c,v)},s)}function Zr(i,s,v,T){var P=-1,k=mi,M=!0,V=i.length,H=[],oe=s.length;if(!V)return H;v&&(s=Xe(s,Mt(v))),T?(k=lo,M=!1):s.length>=d&&(k=Fr,M=!1,s=new tr(s));e:for(;++P<V;){var ae=i[P],ue=v==null?ae:v(ae);if(ae=T||ae!==0?ae:0,M&&ue===ue){for(var fe=oe;fe--;)if(s[fe]===ue)continue e;H.push(ae)}else k(s,ue,T)||H.push(ae)}return H}var jn=ws(pn),Ka=ws(Io,!0);function oc(i,s){var v=!0;return jn(i,function(T,P,k){return v=!!s(T,P,k),v}),v}function Ri(i,s,v){for(var T=-1,P=i.length;++T<P;){var k=i[T],M=s(k);if(M!=null&&(V===c?M===M&&!Ut(M):v(M,V)))var V=M,H=k}return H}function ac(i,s,v,T){var P=i.length;for(v=De(v),v<0&&(v=-v>P?0:P+v),T=T===c||T>P?P:De(T),T<0&&(T+=P),T=v>T?0:pu(T);v<T;)i[v++]=s;return i}function Ya(i,s){var v=[];return jn(i,function(T,P,k){s(T,P,k)&&v.push(T)}),v}function wt(i,s,v,T,P){var k=-1,M=i.length;for(v||(v=qc),P||(P=[]);++k<M;){var V=i[k];s>0&&v(V)?s>1?wt(V,s-1,v,T,P):Ln(P,V):T||(P[P.length]=V)}return P}var So=xs(),Xa=xs(!0);function pn(i,s){return i&&So(i,s,bt)}function Io(i,s){return i&&Xa(i,s,bt)}function Li(i,s){return Rn(s,function(v){return An(i[v])})}function rr(i,s){s=Bn(s,i);for(var v=0,T=s.length;i!=null&&v<T;)i=i[hn(s[v++])];return v&&v==T?i:c}function Ja(i,s,v){var T=s(i);return Ee(i)?T:Ln(T,v(i))}function Et(i){return i==null?i===c?Zn:_t:Qn&&Qn in We(i)?zc(i):td(i)}function Ao(i,s){return i>s}function sc(i,s){return i!=null&&Ve.call(i,s)}function uc(i,s){return i!=null&&s in We(i)}function lc(i,s,v){return i>=St(s,v)&&i<mt(s,v)}function Po(i,s,v){for(var T=v?lo:mi,P=i[0].length,k=i.length,M=k,V=J(k),H=1/0,oe=[];M--;){var ae=i[M];M&&s&&(ae=Xe(ae,Mt(s))),H=St(ae.length,H),V[M]=!v&&(s||P>=120&&ae.length>=120)?new tr(M&&ae):c}ae=i[0];var ue=-1,fe=V[0];e:for(;++ue<P&&oe.length<H;){var me=ae[ue],Oe=s?s(me):me;if(me=v||me!==0?me:0,!(fe?Fr(fe,Oe):T(oe,Oe,v))){for(M=k;--M;){var Ce=V[M];if(!(Ce?Fr(Ce,Oe):T(i[M],Oe,v)))continue e}fe&&fe.push(Oe),oe.push(me)}}return oe}function cc(i,s,v,T){return pn(i,function(P,k,M){s(T,v(P),k,M)}),T}function Gr(i,s,v){s=Bn(s,i),i=js(i,s);var T=i==null?i:i[hn(en(s))];return T==null?c:Ft(T,i,v)}function Qa(i){return it(i)&&Et(i)==xe}function dc(i){return it(i)&&Et(i)==Zt}function pc(i){return it(i)&&Et(i)==ot}function Wr(i,s,v,T,P){return i===s?!0:i==null||s==null||!it(i)&&!it(s)?i!==i&&s!==s:fc(i,s,v,T,Wr,P)}function fc(i,s,v,T,P,k){var M=Ee(i),V=Ee(s),H=M?ke:It(i),oe=V?ke:It(s);H=H==xe?Ye:H,oe=oe==xe?Ye:oe;var ae=H==Ye,ue=oe==Ye,fe=H==oe;if(fe&&Vn(i)){if(!Vn(s))return!1;M=!0,ae=!1}if(fe&&!ae)return k||(k=new an),M||xr(i)?ks(i,s,v,T,P,k):Uc(i,s,H,v,T,P,k);if(!(v&r)){var me=ae&&Ve.call(i,"__wrapped__"),Oe=ue&&Ve.call(s,"__wrapped__");if(me||Oe){var Ce=me?i.value():i,Se=Oe?s.value():s;return k||(k=new an),P(Ce,Se,v,T,k)}}return fe?(k||(k=new an),Bc(i,s,v,T,P,k)):!1}function hc(i){return it(i)&&It(i)==ze}function Eo(i,s,v,T){var P=v.length,k=P,M=!T;if(i==null)return!k;for(i=We(i);P--;){var V=v[P];if(M&&V[2]?V[1]!==i[V[0]]:!(V[0]in i))return!1}for(;++P<k;){V=v[P];var H=V[0],oe=i[H],ae=V[1];if(M&&V[2]){if(oe===c&&!(H in i))return!1}else{var ue=new an;if(T)var fe=T(oe,ae,H,i,s,ue);if(!(fe===c?Wr(ae,oe,r|u,T,ue):fe))return!1}}return!0}function es(i){if(!tt(i)||Yc(i))return!1;var s=An(i)?hl:ri;return s.test(or(i))}function gc(i){return it(i)&&Et(i)==Nt}function mc(i){return it(i)&&It(i)==ct}function yc(i){return it(i)&&Ji(i.length)&&!!Ke[Et(i)]}function ts(i){return typeof i=="function"?i:i==null?Lt:typeof i=="object"?Ee(i)?is(i[0],i[1]):rs(i):Tu(i)}function Do(i){if(!Kr(i))return _l(i);var s=[];for(var v in We(i))Ve.call(i,v)&&v!="constructor"&&s.push(v);return s}function bc(i){if(!tt(i))return ed(i);var s=Kr(i),v=[];for(var T in i)T=="constructor"&&(s||!Ve.call(i,T))||v.push(T);return v}function Co(i,s){return i<s}function ns(i,s){var v=-1,T=$t(i)?J(i.length):[];return jn(i,function(P,k,M){T[++v]=s(P,k,M)}),T}function rs(i){var s=Wo(i);return s.length==1&&s[0][2]?Fs(s[0][0],s[0][1]):function(v){return v===i||Eo(v,i,s)}}function is(i,s){return qo(i)&&Ns(s)?Fs(hn(i),s):function(v){var T=ia(v,i);return T===c&&T===s?oa(v,i):Wr(s,T,r|u)}}function Ni(i,s,v,T,P){i!==s&&So(s,function(k,M){if(P||(P=new an),tt(k))vc(i,s,M,v,Ni,T,P);else{var V=T?T(Yo(i,M),k,M+"",i,s,P):c;V===c&&(V=k),To(i,M,V)}},Rt)}function vc(i,s,v,T,P,k,M){var V=Yo(i,v),H=Yo(s,v),oe=M.get(H);if(oe){To(i,v,oe);return}var ae=k?k(V,H,v+"",i,s,M):c,ue=ae===c;if(ue){var fe=Ee(H),me=!fe&&Vn(H),Oe=!fe&&!me&&xr(H);ae=H,fe||me||Oe?Ee(V)?ae=V:st(V)?ae=kt(V):me?(ue=!1,ae=ms(H,!0)):Oe?(ue=!1,ae=ys(H,!0)):ae=[]:Xr(H)||ar(H)?(ae=V,ar(V)?ae=fu(V):(!tt(V)||An(V))&&(ae=Ls(H))):ue=!1}ue&&(M.set(H,ae),P(ae,H,T,k,M),M.delete(H)),To(i,v,ae)}function os(i,s){var v=i.length;if(v)return s+=s<0?v:0,In(s,v)?i[s]:c}function as(i,s,v){s.length?s=Xe(s,function(k){return Ee(k)?function(M){return rr(M,k.length===1?k[0]:k)}:k}):s=[Lt];var T=-1;s=Xe(s,Mt(Te()));var P=ns(i,function(k,M,V){var H=Xe(s,function(oe){return oe(k)});return{criteria:H,index:++T,value:k}});return Wu(P,function(k,M){return kc(k,M,v)})}function _c(i,s){return ss(i,s,function(v,T){return oa(i,T)})}function ss(i,s,v){for(var T=-1,P=s.length,k={};++T<P;){var M=s[T],V=rr(i,M);v(V,M)&&Hr(k,Bn(M,i),V)}return k}function wc(i){return function(s){return rr(s,i)}}function ko(i,s,v,T){var P=T?Gu:pr,k=-1,M=s.length,V=i;for(i===s&&(s=kt(s)),v&&(V=Xe(i,Mt(v)));++k<M;)for(var H=0,oe=s[k],ae=v?v(oe):oe;(H=P(V,ae,H,T))>-1;)V!==i&&Ii.call(V,H,1),Ii.call(i,H,1);return i}function us(i,s){for(var v=i?s.length:0,T=v-1;v--;){var P=s[v];if(v==T||P!==k){var k=P;In(P)?Ii.call(i,P,1):No(i,P)}}return i}function $o(i,s){return i+Ei(za()*(s-i+1))}function xc(i,s,v,T){for(var P=-1,k=mt(Pi((s-i)/(v||1)),0),M=J(k);k--;)M[T?k:++P]=i,i+=v;return M}function Ro(i,s){var v="";if(!i||s<1||s>le)return v;do s%2&&(v+=i),s=Ei(s/2),s&&(i+=i);while(s);return v}function $e(i,s){return Xo(Ms(i,s,Lt),i+"")}function Tc(i){return Ga(Tr(i))}function Oc(i,s){var v=Tr(i);return Wi(v,nr(s,0,v.length))}function Hr(i,s,v,T){if(!tt(i))return i;s=Bn(s,i);for(var P=-1,k=s.length,M=k-1,V=i;V!=null&&++P<k;){var H=hn(s[P]),oe=v;if(H==="__proto__"||H==="constructor"||H==="prototype")return i;if(P!=M){var ae=V[H];oe=T?T(ae,H,V):c,oe===c&&(oe=tt(ae)?ae:In(s[P+1])?[]:{})}Vr(V,H,oe),V=V[H]}return i}var ls=Di?function(i,s){return Di.set(i,s),i}:Lt,Sc=Ai?function(i,s){return Ai(i,"toString",{configurable:!0,enumerable:!1,value:sa(s),writable:!0})}:Lt;function Ic(i){return Wi(Tr(i))}function Qt(i,s,v){var T=-1,P=i.length;s<0&&(s=-s>P?0:P+s),v=v>P?P:v,v<0&&(v+=P),P=s>v?0:v-s>>>0,s>>>=0;for(var k=J(P);++T<P;)k[T]=i[T+s];return k}function Ac(i,s){var v;return jn(i,function(T,P,k){return v=s(T,P,k),!v}),!!v}function Fi(i,s,v){var T=0,P=i==null?T:i.length;if(typeof s=="number"&&s===s&&P<=_e){for(;T<P;){var k=T+P>>>1,M=i[k];M!==null&&!Ut(M)&&(v?M<=s:M<s)?T=k+1:P=k}return P}return Lo(i,s,Lt,v)}function Lo(i,s,v,T){var P=0,k=i==null?0:i.length;if(k===0)return 0;s=v(s);for(var M=s!==s,V=s===null,H=Ut(s),oe=s===c;P<k;){var ae=Ei((P+k)/2),ue=v(i[ae]),fe=ue!==c,me=ue===null,Oe=ue===ue,Ce=Ut(ue);if(M)var Se=T||Oe;else oe?Se=Oe&&(T||fe):V?Se=Oe&&fe&&(T||!me):H?Se=Oe&&fe&&!me&&(T||!Ce):me||Ce?Se=!1:Se=T?ue<=s:ue<s;Se?P=ae+1:k=ae}return St(k,ye)}function cs(i,s){for(var v=-1,T=i.length,P=0,k=[];++v<T;){var M=i[v],V=s?s(M):M;if(!v||!sn(V,H)){var H=V;k[P++]=M===0?0:M}}return k}function ds(i){return typeof i=="number"?i:Ut(i)?ge:+i}function jt(i){if(typeof i=="string")return i;if(Ee(i))return Xe(i,jt)+"";if(Ut(i))return Va?Va.call(i):"";var s=i+"";return s=="0"&&1/i==-Z?"-0":s}function Un(i,s,v){var T=-1,P=mi,k=i.length,M=!0,V=[],H=V;if(v)M=!1,P=lo;else if(k>=d){var oe=s?null:Mc(i);if(oe)return bi(oe);M=!1,P=Fr,H=new tr}else H=s?[]:V;e:for(;++T<k;){var ae=i[T],ue=s?s(ae):ae;if(ae=v||ae!==0?ae:0,M&&ue===ue){for(var fe=H.length;fe--;)if(H[fe]===ue)continue e;s&&H.push(ue),V.push(ae)}else P(H,ue,v)||(H!==V&&H.push(ue),V.push(ae))}return V}function No(i,s){return s=Bn(s,i),i=js(i,s),i==null||delete i[hn(en(s))]}function ps(i,s,v,T){return Hr(i,s,v(rr(i,s)),T)}function Mi(i,s,v,T){for(var P=i.length,k=T?P:-1;(T?k--:++k<P)&&s(i[k],k,i););return v?Qt(i,T?0:k,T?k+1:P):Qt(i,T?k+1:0,T?P:k)}function fs(i,s){var v=i;return v instanceof Ne&&(v=v.value()),co(s,function(T,P){return P.func.apply(P.thisArg,Ln([T],P.args))},v)}function Fo(i,s,v){var T=i.length;if(T<2)return T?Un(i[0]):[];for(var P=-1,k=J(T);++P<T;)for(var M=i[P],V=-1;++V<T;)V!=P&&(k[P]=Zr(k[P]||M,i[V],s,v));return Un(wt(k,1),s,v)}function hs(i,s,v){for(var T=-1,P=i.length,k=s.length,M={};++T<P;){var V=T<k?s[T]:c;v(M,i[T],V)}return M}function Mo(i){return st(i)?i:[]}function jo(i){return typeof i=="function"?i:Lt}function Bn(i,s){return Ee(i)?i:qo(i,s)?[i]:Vs(Be(i))}var Pc=$e;function zn(i,s,v){var T=i.length;return v=v===c?T:v,!s&&v>=T?i:Qt(i,s,v)}var gs=gl||function(i){return yt.clearTimeout(i)};function ms(i,s){if(s)return i.slice();var v=i.length,T=Fa?Fa(v):new i.constructor(v);return i.copy(T),T}function Uo(i){var s=new i.constructor(i.byteLength);return new Oi(s).set(new Oi(i)),s}function Ec(i,s){var v=s?Uo(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.byteLength)}function Dc(i){var s=new i.constructor(i.source,Sr.exec(i));return s.lastIndex=i.lastIndex,s}function Cc(i){return zr?We(zr.call(i)):{}}function ys(i,s){var v=s?Uo(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.length)}function bs(i,s){if(i!==s){var v=i!==c,T=i===null,P=i===i,k=Ut(i),M=s!==c,V=s===null,H=s===s,oe=Ut(s);if(!V&&!oe&&!k&&i>s||k&&M&&H&&!V&&!oe||T&&M&&H||!v&&H||!P)return 1;if(!T&&!k&&!oe&&i<s||oe&&v&&P&&!T&&!k||V&&v&&P||!M&&P||!H)return-1}return 0}function kc(i,s,v){for(var T=-1,P=i.criteria,k=s.criteria,M=P.length,V=v.length;++T<M;){var H=bs(P[T],k[T]);if(H){if(T>=V)return H;var oe=v[T];return H*(oe=="desc"?-1:1)}}return i.index-s.index}function vs(i,s,v,T){for(var P=-1,k=i.length,M=v.length,V=-1,H=s.length,oe=mt(k-M,0),ae=J(H+oe),ue=!T;++V<H;)ae[V]=s[V];for(;++P<M;)(ue||P<k)&&(ae[v[P]]=i[P]);for(;oe--;)ae[V++]=i[P++];return ae}function _s(i,s,v,T){for(var P=-1,k=i.length,M=-1,V=v.length,H=-1,oe=s.length,ae=mt(k-V,0),ue=J(ae+oe),fe=!T;++P<ae;)ue[P]=i[P];for(var me=P;++H<oe;)ue[me+H]=s[H];for(;++M<V;)(fe||P<k)&&(ue[me+v[M]]=i[P++]);return ue}function kt(i,s){var v=-1,T=i.length;for(s||(s=J(T));++v<T;)s[v]=i[v];return s}function fn(i,s,v,T){var P=!v;v||(v={});for(var k=-1,M=s.length;++k<M;){var V=s[k],H=T?T(v[V],i[V],V,v,i):c;H===c&&(H=i[V]),P?Tn(v,V,H):Vr(v,V,H)}return v}function $c(i,s){return fn(i,Ho(i),s)}function Rc(i,s){return fn(i,$s(i),s)}function ji(i,s){return function(v,T){var P=Ee(v)?ju:nc,k=s?s():{};return P(v,i,Te(T,2),k)}}function vr(i){return $e(function(s,v){var T=-1,P=v.length,k=P>1?v[P-1]:c,M=P>2?v[2]:c;for(k=i.length>3&&typeof k=="function"?(P--,k):c,M&&Dt(v[0],v[1],M)&&(k=P<3?c:k,P=1),s=We(s);++T<P;){var V=v[T];V&&i(s,V,T,k)}return s})}function ws(i,s){return function(v,T){if(v==null)return v;if(!$t(v))return i(v,T);for(var P=v.length,k=s?P:-1,M=We(v);(s?k--:++k<P)&&T(M[k],k,M)!==!1;);return v}}function xs(i){return function(s,v,T){for(var P=-1,k=We(s),M=T(s),V=M.length;V--;){var H=M[i?V:++P];if(v(k[H],H,k)===!1)break}return s}}function Lc(i,s,v){var T=s&h,P=qr(i);function k(){var M=this&&this!==yt&&this instanceof k?P:i;return M.apply(T?v:this,arguments)}return k}function Ts(i){return function(s){s=Be(s);var v=fr(s)?on(s):c,T=v?v[0]:s.charAt(0),P=v?zn(v,1).join(""):s.slice(1);return T[i]()+P}}function _r(i){return function(s){return co(wu(_u(s).replace(fi,"")),i,"")}}function qr(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var v=br(i.prototype),T=i.apply(v,s);return tt(T)?T:v}}function Nc(i,s,v){var T=qr(i);function P(){for(var k=arguments.length,M=J(k),V=k,H=wr(P);V--;)M[V]=arguments[V];var oe=k<3&&M[0]!==H&&M[k-1]!==H?[]:Nn(M,H);if(k-=oe.length,k<v)return Ps(i,s,Ui,P.placeholder,c,M,oe,c,c,v-k);var ae=this&&this!==yt&&this instanceof P?T:i;return Ft(ae,this,M)}return P}function Os(i){return function(s,v,T){var P=We(s);if(!$t(s)){var k=Te(v,3);s=bt(s),v=function(V){return k(P[V],V,P)}}var M=i(s,v,T);return M>-1?P[k?s[M]:M]:c}}function Ss(i){return Sn(function(s){var v=s.length,T=v,P=Xt.prototype.thru;for(i&&s.reverse();T--;){var k=s[T];if(typeof k!="function")throw new Yt(g);if(P&&!M&&Zi(k)=="wrapper")var M=new Xt([],!0)}for(T=M?T:v;++T<v;){k=s[T];var V=Zi(k),H=V=="wrapper"?Go(k):c;H&&Ko(H[0])&&H[1]==(A|x|S|R)&&!H[4].length&&H[9]==1?M=M[Zi(H[0])].apply(M,H[3]):M=k.length==1&&Ko(k)?M[V]():M.thru(k)}return function(){var oe=arguments,ae=oe[0];if(M&&oe.length==1&&Ee(ae))return M.plant(ae).value();for(var ue=0,fe=v?s[ue].apply(this,oe):ae;++ue<v;)fe=s[ue].call(this,fe);return fe}})}function Ui(i,s,v,T,P,k,M,V,H,oe){var ae=s&A,ue=s&h,fe=s&b,me=s&(x|O),Oe=s&j,Ce=fe?c:qr(i);function Se(){for(var Re=arguments.length,Fe=J(Re),Bt=Re;Bt--;)Fe[Bt]=arguments[Bt];if(me)var Ct=wr(Se),zt=qu(Fe,Ct);if(T&&(Fe=vs(Fe,T,P,me)),k&&(Fe=_s(Fe,k,M,me)),Re-=zt,me&&Re<oe){var ut=Nn(Fe,Ct);return Ps(i,s,Ui,Se.placeholder,v,Fe,ut,V,H,oe-Re)}var un=ue?v:this,En=fe?un[i]:i;return Re=Fe.length,V?Fe=nd(Fe,V):Oe&&Re>1&&Fe.reverse(),ae&&H<Re&&(Fe.length=H),this&&this!==yt&&this instanceof Se&&(En=Ce||qr(En)),En.apply(un,Fe)}return Se}function Is(i,s){return function(v,T){return cc(v,i,s(T),{})}}function Bi(i,s){return function(v,T){var P;if(v===c&&T===c)return s;if(v!==c&&(P=v),T!==c){if(P===c)return T;typeof v=="string"||typeof T=="string"?(v=jt(v),T=jt(T)):(v=ds(v),T=ds(T)),P=i(v,T)}return P}}function Bo(i){return Sn(function(s){return s=Xe(s,Mt(Te())),$e(function(v){var T=this;return i(s,function(P){return Ft(P,T,v)})})})}function zi(i,s){s=s===c?" ":jt(s);var v=s.length;if(v<2)return v?Ro(s,i):s;var T=Ro(s,Pi(i/hr(s)));return fr(s)?zn(on(T),0,i).join(""):T.slice(0,i)}function Fc(i,s,v,T){var P=s&h,k=qr(i);function M(){for(var V=-1,H=arguments.length,oe=-1,ae=T.length,ue=J(ae+H),fe=this&&this!==yt&&this instanceof M?k:i;++oe<ae;)ue[oe]=T[oe];for(;H--;)ue[oe++]=arguments[++V];return Ft(fe,P?v:this,ue)}return M}function As(i){return function(s,v,T){return T&&typeof T!="number"&&Dt(s,v,T)&&(v=T=c),s=Pn(s),v===c?(v=s,s=0):v=Pn(v),T=T===c?s<v?1:-1:Pn(T),xc(s,v,T,i)}}function Vi(i){return function(s,v){return typeof s=="string"&&typeof v=="string"||(s=tn(s),v=tn(v)),i(s,v)}}function Ps(i,s,v,T,P,k,M,V,H,oe){var ae=s&x,ue=ae?M:c,fe=ae?c:M,me=ae?k:c,Oe=ae?c:k;s|=ae?S:I,s&=~(ae?I:S),s&_||(s&=~(h|b));var Ce=[i,s,P,me,ue,Oe,fe,V,H,oe],Se=v.apply(c,Ce);return Ko(i)&&Us(Se,Ce),Se.placeholder=T,Bs(Se,i,s)}function zo(i){var s=gt[i];return function(v,T){if(v=tn(v),T=T==null?0:St(De(T),292),T&&Ba(v)){var P=(Be(v)+"e").split("e"),k=s(P[0]+"e"+(+P[1]+T));return P=(Be(k)+"e").split("e"),+(P[0]+"e"+(+P[1]-T))}return s(v)}}var Mc=mr&&1/bi(new mr([,-0]))[1]==Z?function(i){return new mr(i)}:ca;function Es(i){return function(s){var v=It(s);return v==ze?bo(s):v==ct?tl(s):Hu(s,i(s))}}function On(i,s,v,T,P,k,M,V){var H=s&b;if(!H&&typeof i!="function")throw new Yt(g);var oe=T?T.length:0;if(oe||(s&=~(S|I),T=P=c),M=M===c?M:mt(De(M),0),V=V===c?V:De(V),oe-=P?P.length:0,s&I){var ae=T,ue=P;T=P=c}var fe=H?c:Go(i),me=[i,s,v,T,P,ae,ue,k,M,V];if(fe&&Qc(me,fe),i=me[0],s=me[1],v=me[2],T=me[3],P=me[4],V=me[9]=me[9]===c?H?0:i.length:mt(me[9]-oe,0),!V&&s&(x|O)&&(s&=~(x|O)),!s||s==h)var Oe=Lc(i,s,v);else s==x||s==O?Oe=Nc(i,s,V):(s==S||s==(h|S))&&!P.length?Oe=Fc(i,s,v,T):Oe=Ui.apply(c,me);var Ce=fe?ls:Us;return Bs(Ce(Oe,me),i,s)}function Ds(i,s,v,T){return i===c||sn(i,gr[v])&&!Ve.call(T,v)?s:i}function Cs(i,s,v,T,P,k){return tt(i)&&tt(s)&&(k.set(s,i),Ni(i,s,c,Cs,k),k.delete(s)),i}function jc(i){return Xr(i)?c:i}function ks(i,s,v,T,P,k){var M=v&r,V=i.length,H=s.length;if(V!=H&&!(M&&H>V))return!1;var oe=k.get(i),ae=k.get(s);if(oe&&ae)return oe==s&&ae==i;var ue=-1,fe=!0,me=v&u?new tr:c;for(k.set(i,s),k.set(s,i);++ue<V;){var Oe=i[ue],Ce=s[ue];if(T)var Se=M?T(Ce,Oe,ue,s,i,k):T(Oe,Ce,ue,i,s,k);if(Se!==c){if(Se)continue;fe=!1;break}if(me){if(!po(s,function(Re,Fe){if(!Fr(me,Fe)&&(Oe===Re||P(Oe,Re,v,T,k)))return me.push(Fe)})){fe=!1;break}}else if(!(Oe===Ce||P(Oe,Ce,v,T,k))){fe=!1;break}}return k.delete(i),k.delete(s),fe}function Uc(i,s,v,T,P,k,M){switch(v){case Gt:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case Zt:return!(i.byteLength!=s.byteLength||!k(new Oi(i),new Oi(s)));case Je:case ot:case lt:return sn(+i,+s);case nt:return i.name==s.name&&i.message==s.message;case Nt:case at:return i==s+"";case ze:var V=bo;case ct:var H=T&r;if(V||(V=bi),i.size!=s.size&&!H)return!1;var oe=M.get(i);if(oe)return oe==s;T|=u,M.set(i,s);var ae=ks(V(i),V(s),T,P,k,M);return M.delete(i),ae;case At:if(zr)return zr.call(i)==zr.call(s)}return!1}function Bc(i,s,v,T,P,k){var M=v&r,V=Vo(i),H=V.length,oe=Vo(s),ae=oe.length;if(H!=ae&&!M)return!1;for(var ue=H;ue--;){var fe=V[ue];if(!(M?fe in s:Ve.call(s,fe)))return!1}var me=k.get(i),Oe=k.get(s);if(me&&Oe)return me==s&&Oe==i;var Ce=!0;k.set(i,s),k.set(s,i);for(var Se=M;++ue<H;){fe=V[ue];var Re=i[fe],Fe=s[fe];if(T)var Bt=M?T(Fe,Re,fe,s,i,k):T(Re,Fe,fe,i,s,k);if(!(Bt===c?Re===Fe||P(Re,Fe,v,T,k):Bt)){Ce=!1;break}Se||(Se=fe=="constructor")}if(Ce&&!Se){var Ct=i.constructor,zt=s.constructor;Ct!=zt&&"constructor"in i&&"constructor"in s&&!(typeof Ct=="function"&&Ct instanceof Ct&&typeof zt=="function"&&zt instanceof zt)&&(Ce=!1)}return k.delete(i),k.delete(s),Ce}function Sn(i){return Xo(Ms(i,c,Hs),i+"")}function Vo(i){return Ja(i,bt,Ho)}function Zo(i){return Ja(i,Rt,$s)}var Go=Di?function(i){return Di.get(i)}:ca;function Zi(i){for(var s=i.name+"",v=yr[s],T=Ve.call(yr,s)?v.length:0;T--;){var P=v[T],k=P.func;if(k==null||k==i)return P.name}return s}function wr(i){var s=Ve.call(D,"placeholder")?D:i;return s.placeholder}function Te(){var i=D.iteratee||ua;return i=i===ua?ts:i,arguments.length?i(arguments[0],arguments[1]):i}function Gi(i,s){var v=i.__data__;return Kc(s)?v[typeof s=="string"?"string":"hash"]:v.map}function Wo(i){for(var s=bt(i),v=s.length;v--;){var T=s[v],P=i[T];s[v]=[T,P,Ns(P)]}return s}function ir(i,s){var v=Ju(i,s);return es(v)?v:c}function zc(i){var s=Ve.call(i,Qn),v=i[Qn];try{i[Qn]=c;var T=!0}catch{}var P=xi.call(i);return T&&(s?i[Qn]=v:delete i[Qn]),P}var Ho=_o?function(i){return i==null?[]:(i=We(i),Rn(_o(i),function(s){return ja.call(i,s)}))}:da,$s=_o?function(i){for(var s=[];i;)Ln(s,Ho(i)),i=Si(i);return s}:da,It=Et;(wo&&It(new wo(new ArrayBuffer(1)))!=Gt||jr&&It(new jr)!=ze||xo&&It(xo.resolve())!=xt||mr&&It(new mr)!=ct||Ur&&It(new Ur)!=cn)&&(It=function(i){var s=Et(i),v=s==Ye?i.constructor:c,T=v?or(v):"";if(T)switch(T){case Ol:return Gt;case Sl:return ze;case Il:return xt;case Al:return ct;case Pl:return cn}return s});function Vc(i,s,v){for(var T=-1,P=v.length;++T<P;){var k=v[T],M=k.size;switch(k.type){case"drop":i+=M;break;case"dropRight":s-=M;break;case"take":s=St(s,i+M);break;case"takeRight":i=mt(i,s-M);break}}return{start:i,end:s}}function Zc(i){var s=i.match(Qr);return s?s[1].split(ei):[]}function Rs(i,s,v){s=Bn(s,i);for(var T=-1,P=s.length,k=!1;++T<P;){var M=hn(s[T]);if(!(k=i!=null&&v(i,M)))break;i=i[M]}return k||++T!=P?k:(P=i==null?0:i.length,!!P&&Ji(P)&&In(M,P)&&(Ee(i)||ar(i)))}function Gc(i){var s=i.length,v=new i.constructor(s);return s&&typeof i[0]=="string"&&Ve.call(i,"index")&&(v.index=i.index,v.input=i.input),v}function Ls(i){return typeof i.constructor=="function"&&!Kr(i)?br(Si(i)):{}}function Wc(i,s,v){var T=i.constructor;switch(s){case Zt:return Uo(i);case Je:case ot:return new T(+i);case Gt:return Ec(i,v);case mn:case Dn:case yn:case Wt:case bn:case dn:case we:case nn:case vn:return ys(i,v);case ze:return new T;case lt:case at:return new T(i);case Nt:return Dc(i);case ct:return new T;case At:return Cc(i)}}function Hc(i,s){var v=s.length;if(!v)return i;var T=v-1;return s[T]=(v>1?"& ":"")+s[T],s=s.join(v>2?", ":" "),i.replace(Hn,`{
/* [wrapped with `+s+`] */
`)}function qc(i){return Ee(i)||ar(i)||!!(Ua&&i&&i[Ua])}function In(i,s){var v=typeof i;return s=s??le,!!s&&(v=="number"||v!="symbol"&&io.test(i))&&i>-1&&i%1==0&&i<s}function Dt(i,s,v){if(!tt(v))return!1;var T=typeof s;return(T=="number"?$t(v)&&In(s,v.length):T=="string"&&s in v)?sn(v[s],i):!1}function qo(i,s){if(Ee(i))return!1;var v=typeof i;return v=="number"||v=="symbol"||v=="boolean"||i==null||Ut(i)?!0:Gn.test(i)||!ft.test(i)||s!=null&&i in We(s)}function Kc(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Ko(i){var s=Zi(i),v=D[s];if(typeof v!="function"||!(s in Ne.prototype))return!1;if(i===v)return!0;var T=Go(v);return!!T&&i===T[0]}function Yc(i){return!!Na&&Na in i}var Xc=_i?An:pa;function Kr(i){var s=i&&i.constructor,v=typeof s=="function"&&s.prototype||gr;return i===v}function Ns(i){return i===i&&!tt(i)}function Fs(i,s){return function(v){return v==null?!1:v[i]===s&&(s!==c||i in We(v))}}function Jc(i){var s=Yi(i,function(T){return v.size===l&&v.clear(),T}),v=s.cache;return s}function Qc(i,s){var v=i[1],T=s[1],P=v|T,k=P<(h|b|A),M=T==A&&v==x||T==A&&v==R&&i[7].length<=s[8]||T==(A|R)&&s[7].length<=s[8]&&v==x;if(!(k||M))return i;T&h&&(i[2]=s[2],P|=v&h?0:_);var V=s[3];if(V){var H=i[3];i[3]=H?vs(H,V,s[4]):V,i[4]=H?Nn(i[3],a):s[4]}return V=s[5],V&&(H=i[5],i[5]=H?_s(H,V,s[6]):V,i[6]=H?Nn(i[5],a):s[6]),V=s[7],V&&(i[7]=V),T&A&&(i[8]=i[8]==null?s[8]:St(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=P,i}function ed(i){var s=[];if(i!=null)for(var v in We(i))s.push(v);return s}function td(i){return xi.call(i)}function Ms(i,s,v){return s=mt(s===c?i.length-1:s,0),function(){for(var T=arguments,P=-1,k=mt(T.length-s,0),M=J(k);++P<k;)M[P]=T[s+P];P=-1;for(var V=J(s+1);++P<s;)V[P]=T[P];return V[s]=v(M),Ft(i,this,V)}}function js(i,s){return s.length<2?i:rr(i,Qt(s,0,-1))}function nd(i,s){for(var v=i.length,T=St(s.length,v),P=kt(i);T--;){var k=s[T];i[T]=In(k,v)?P[k]:c}return i}function Yo(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var Us=zs(ls),Yr=yl||function(i,s){return yt.setTimeout(i,s)},Xo=zs(Sc);function Bs(i,s,v){var T=s+"";return Xo(i,Hc(T,rd(Zc(T),v)))}function zs(i){var s=0,v=0;return function(){var T=wl(),P=$-(T-v);if(v=T,P>0){if(++s>=X)return arguments[0]}else s=0;return i.apply(c,arguments)}}function Wi(i,s){var v=-1,T=i.length,P=T-1;for(s=s===c?T:s;++v<s;){var k=$o(v,P),M=i[k];i[k]=i[v],i[v]=M}return i.length=s,i}var Vs=Jc(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(Wn,function(v,T,P,k){s.push(P?k.replace(sr,"$1"):T||v)}),s});function hn(i){if(typeof i=="string"||Ut(i))return i;var s=i+"";return s=="0"&&1/i==-Z?"-0":s}function or(i){if(i!=null){try{return wi.call(i)}catch{}try{return i+""}catch{}}return""}function rd(i,s){return Kt(Ie,function(v){var T="_."+v[0];s&v[1]&&!mi(i,T)&&i.push(T)}),i.sort()}function Zs(i){if(i instanceof Ne)return i.clone();var s=new Xt(i.__wrapped__,i.__chain__);return s.__actions__=kt(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function id(i,s,v){(v?Dt(i,s,v):s===c)?s=1:s=mt(De(s),0);var T=i==null?0:i.length;if(!T||s<1)return[];for(var P=0,k=0,M=J(Pi(T/s));P<T;)M[k++]=Qt(i,P,P+=s);return M}function od(i){for(var s=-1,v=i==null?0:i.length,T=0,P=[];++s<v;){var k=i[s];k&&(P[T++]=k)}return P}function ad(){var i=arguments.length;if(!i)return[];for(var s=J(i-1),v=arguments[0],T=i;T--;)s[T-1]=arguments[T];return Ln(Ee(v)?kt(v):[v],wt(s,1))}var sd=$e(function(i,s){return st(i)?Zr(i,wt(s,1,st,!0)):[]}),ud=$e(function(i,s){var v=en(s);return st(v)&&(v=c),st(i)?Zr(i,wt(s,1,st,!0),Te(v,2)):[]}),ld=$e(function(i,s){var v=en(s);return st(v)&&(v=c),st(i)?Zr(i,wt(s,1,st,!0),c,v):[]});function cd(i,s,v){var T=i==null?0:i.length;return T?(s=v||s===c?1:De(s),Qt(i,s<0?0:s,T)):[]}function dd(i,s,v){var T=i==null?0:i.length;return T?(s=v||s===c?1:De(s),s=T-s,Qt(i,0,s<0?0:s)):[]}function pd(i,s){return i&&i.length?Mi(i,Te(s,3),!0,!0):[]}function fd(i,s){return i&&i.length?Mi(i,Te(s,3),!0):[]}function hd(i,s,v,T){var P=i==null?0:i.length;return P?(v&&typeof v!="number"&&Dt(i,s,v)&&(v=0,T=P),ac(i,s,v,T)):[]}function Gs(i,s,v){var T=i==null?0:i.length;if(!T)return-1;var P=v==null?0:De(v);return P<0&&(P=mt(T+P,0)),yi(i,Te(s,3),P)}function Ws(i,s,v){var T=i==null?0:i.length;if(!T)return-1;var P=T-1;return v!==c&&(P=De(v),P=v<0?mt(T+P,0):St(P,T-1)),yi(i,Te(s,3),P,!0)}function Hs(i){var s=i==null?0:i.length;return s?wt(i,1):[]}function gd(i){var s=i==null?0:i.length;return s?wt(i,Z):[]}function md(i,s){var v=i==null?0:i.length;return v?(s=s===c?1:De(s),wt(i,s)):[]}function yd(i){for(var s=-1,v=i==null?0:i.length,T={};++s<v;){var P=i[s];T[P[0]]=P[1]}return T}function qs(i){return i&&i.length?i[0]:c}function bd(i,s,v){var T=i==null?0:i.length;if(!T)return-1;var P=v==null?0:De(v);return P<0&&(P=mt(T+P,0)),pr(i,s,P)}function vd(i){var s=i==null?0:i.length;return s?Qt(i,0,-1):[]}var _d=$e(function(i){var s=Xe(i,Mo);return s.length&&s[0]===i[0]?Po(s):[]}),wd=$e(function(i){var s=en(i),v=Xe(i,Mo);return s===en(v)?s=c:v.pop(),v.length&&v[0]===i[0]?Po(v,Te(s,2)):[]}),xd=$e(function(i){var s=en(i),v=Xe(i,Mo);return s=typeof s=="function"?s:c,s&&v.pop(),v.length&&v[0]===i[0]?Po(v,c,s):[]});function Td(i,s){return i==null?"":vl.call(i,s)}function en(i){var s=i==null?0:i.length;return s?i[s-1]:c}function Od(i,s,v){var T=i==null?0:i.length;if(!T)return-1;var P=T;return v!==c&&(P=De(v),P=P<0?mt(T+P,0):St(P,T-1)),s===s?rl(i,s,P):yi(i,Pa,P,!0)}function Sd(i,s){return i&&i.length?os(i,De(s)):c}var Id=$e(Ks);function Ks(i,s){return i&&i.length&&s&&s.length?ko(i,s):i}function Ad(i,s,v){return i&&i.length&&s&&s.length?ko(i,s,Te(v,2)):i}function Pd(i,s,v){return i&&i.length&&s&&s.length?ko(i,s,c,v):i}var Ed=Sn(function(i,s){var v=i==null?0:i.length,T=Oo(i,s);return us(i,Xe(s,function(P){return In(P,v)?+P:P}).sort(bs)),T});function Dd(i,s){var v=[];if(!(i&&i.length))return v;var T=-1,P=[],k=i.length;for(s=Te(s,3);++T<k;){var M=i[T];s(M,T,i)&&(v.push(M),P.push(T))}return us(i,P),v}function Jo(i){return i==null?i:Tl.call(i)}function Cd(i,s,v){var T=i==null?0:i.length;return T?(v&&typeof v!="number"&&Dt(i,s,v)?(s=0,v=T):(s=s==null?0:De(s),v=v===c?T:De(v)),Qt(i,s,v)):[]}function kd(i,s){return Fi(i,s)}function $d(i,s,v){return Lo(i,s,Te(v,2))}function Rd(i,s){var v=i==null?0:i.length;if(v){var T=Fi(i,s);if(T<v&&sn(i[T],s))return T}return-1}function Ld(i,s){return Fi(i,s,!0)}function Nd(i,s,v){return Lo(i,s,Te(v,2),!0)}function Fd(i,s){var v=i==null?0:i.length;if(v){var T=Fi(i,s,!0)-1;if(sn(i[T],s))return T}return-1}function Md(i){return i&&i.length?cs(i):[]}function jd(i,s){return i&&i.length?cs(i,Te(s,2)):[]}function Ud(i){var s=i==null?0:i.length;return s?Qt(i,1,s):[]}function Bd(i,s,v){return i&&i.length?(s=v||s===c?1:De(s),Qt(i,0,s<0?0:s)):[]}function zd(i,s,v){var T=i==null?0:i.length;return T?(s=v||s===c?1:De(s),s=T-s,Qt(i,s<0?0:s,T)):[]}function Vd(i,s){return i&&i.length?Mi(i,Te(s,3),!1,!0):[]}function Zd(i,s){return i&&i.length?Mi(i,Te(s,3)):[]}var Gd=$e(function(i){return Un(wt(i,1,st,!0))}),Wd=$e(function(i){var s=en(i);return st(s)&&(s=c),Un(wt(i,1,st,!0),Te(s,2))}),Hd=$e(function(i){var s=en(i);return s=typeof s=="function"?s:c,Un(wt(i,1,st,!0),c,s)});function qd(i){return i&&i.length?Un(i):[]}function Kd(i,s){return i&&i.length?Un(i,Te(s,2)):[]}function Yd(i,s){return s=typeof s=="function"?s:c,i&&i.length?Un(i,c,s):[]}function Qo(i){if(!(i&&i.length))return[];var s=0;return i=Rn(i,function(v){if(st(v))return s=mt(v.length,s),!0}),mo(s,function(v){return Xe(i,fo(v))})}function Ys(i,s){if(!(i&&i.length))return[];var v=Qo(i);return s==null?v:Xe(v,function(T){return Ft(s,c,T)})}var Xd=$e(function(i,s){return st(i)?Zr(i,s):[]}),Jd=$e(function(i){return Fo(Rn(i,st))}),Qd=$e(function(i){var s=en(i);return st(s)&&(s=c),Fo(Rn(i,st),Te(s,2))}),ep=$e(function(i){var s=en(i);return s=typeof s=="function"?s:c,Fo(Rn(i,st),c,s)}),tp=$e(Qo);function np(i,s){return hs(i||[],s||[],Vr)}function rp(i,s){return hs(i||[],s||[],Hr)}var ip=$e(function(i){var s=i.length,v=s>1?i[s-1]:c;return v=typeof v=="function"?(i.pop(),v):c,Ys(i,v)});function Xs(i){var s=D(i);return s.__chain__=!0,s}function op(i,s){return s(i),i}function Hi(i,s){return s(i)}var ap=Sn(function(i){var s=i.length,v=s?i[0]:0,T=this.__wrapped__,P=function(k){return Oo(k,i)};return s>1||this.__actions__.length||!(T instanceof Ne)||!In(v)?this.thru(P):(T=T.slice(v,+v+(s?1:0)),T.__actions__.push({func:Hi,args:[P],thisArg:c}),new Xt(T,this.__chain__).thru(function(k){return s&&!k.length&&k.push(c),k}))});function sp(){return Xs(this)}function up(){return new Xt(this.value(),this.__chain__)}function lp(){this.__values__===c&&(this.__values__=du(this.value()));var i=this.__index__>=this.__values__.length,s=i?c:this.__values__[this.__index__++];return{done:i,value:s}}function cp(){return this}function dp(i){for(var s,v=this;v instanceof ki;){var T=Zs(v);T.__index__=0,T.__values__=c,s?P.__wrapped__=T:s=T;var P=T;v=v.__wrapped__}return P.__wrapped__=i,s}function pp(){var i=this.__wrapped__;if(i instanceof Ne){var s=i;return this.__actions__.length&&(s=new Ne(this)),s=s.reverse(),s.__actions__.push({func:Hi,args:[Jo],thisArg:c}),new Xt(s,this.__chain__)}return this.thru(Jo)}function fp(){return fs(this.__wrapped__,this.__actions__)}var hp=ji(function(i,s,v){Ve.call(i,v)?++i[v]:Tn(i,v,1)});function gp(i,s,v){var T=Ee(i)?Ia:oc;return v&&Dt(i,s,v)&&(s=c),T(i,Te(s,3))}function mp(i,s){var v=Ee(i)?Rn:Ya;return v(i,Te(s,3))}var yp=Os(Gs),bp=Os(Ws);function vp(i,s){return wt(qi(i,s),1)}function _p(i,s){return wt(qi(i,s),Z)}function wp(i,s,v){return v=v===c?1:De(v),wt(qi(i,s),v)}function Js(i,s){var v=Ee(i)?Kt:jn;return v(i,Te(s,3))}function Qs(i,s){var v=Ee(i)?Uu:Ka;return v(i,Te(s,3))}var xp=ji(function(i,s,v){Ve.call(i,v)?i[v].push(s):Tn(i,v,[s])});function Tp(i,s,v,T){i=$t(i)?i:Tr(i),v=v&&!T?De(v):0;var P=i.length;return v<0&&(v=mt(P+v,0)),Qi(i)?v<=P&&i.indexOf(s,v)>-1:!!P&&pr(i,s,v)>-1}var Op=$e(function(i,s,v){var T=-1,P=typeof s=="function",k=$t(i)?J(i.length):[];return jn(i,function(M){k[++T]=P?Ft(s,M,v):Gr(M,s,v)}),k}),Sp=ji(function(i,s,v){Tn(i,v,s)});function qi(i,s){var v=Ee(i)?Xe:ns;return v(i,Te(s,3))}function Ip(i,s,v,T){return i==null?[]:(Ee(s)||(s=s==null?[]:[s]),v=T?c:v,Ee(v)||(v=v==null?[]:[v]),as(i,s,v))}var Ap=ji(function(i,s,v){i[v?0:1].push(s)},function(){return[[],[]]});function Pp(i,s,v){var T=Ee(i)?co:Da,P=arguments.length<3;return T(i,Te(s,4),v,P,jn)}function Ep(i,s,v){var T=Ee(i)?Bu:Da,P=arguments.length<3;return T(i,Te(s,4),v,P,Ka)}function Dp(i,s){var v=Ee(i)?Rn:Ya;return v(i,Xi(Te(s,3)))}function Cp(i){var s=Ee(i)?Ga:Tc;return s(i)}function kp(i,s,v){(v?Dt(i,s,v):s===c)?s=1:s=De(s);var T=Ee(i)?ec:Oc;return T(i,s)}function $p(i){var s=Ee(i)?tc:Ic;return s(i)}function Rp(i){if(i==null)return 0;if($t(i))return Qi(i)?hr(i):i.length;var s=It(i);return s==ze||s==ct?i.size:Do(i).length}function Lp(i,s,v){var T=Ee(i)?po:Ac;return v&&Dt(i,s,v)&&(s=c),T(i,Te(s,3))}var Np=$e(function(i,s){if(i==null)return[];var v=s.length;return v>1&&Dt(i,s[0],s[1])?s=[]:v>2&&Dt(s[0],s[1],s[2])&&(s=[s[0]]),as(i,wt(s,1),[])}),Ki=ml||function(){return yt.Date.now()};function Fp(i,s){if(typeof s!="function")throw new Yt(g);return i=De(i),function(){if(--i<1)return s.apply(this,arguments)}}function eu(i,s,v){return s=v?c:s,s=i&&s==null?i.length:s,On(i,A,c,c,c,c,s)}function tu(i,s){var v;if(typeof s!="function")throw new Yt(g);return i=De(i),function(){return--i>0&&(v=s.apply(this,arguments)),i<=1&&(s=c),v}}var ea=$e(function(i,s,v){var T=h;if(v.length){var P=Nn(v,wr(ea));T|=S}return On(i,T,s,v,P)}),nu=$e(function(i,s,v){var T=h|b;if(v.length){var P=Nn(v,wr(nu));T|=S}return On(s,T,i,v,P)});function ru(i,s,v){s=v?c:s;var T=On(i,x,c,c,c,c,c,s);return T.placeholder=ru.placeholder,T}function iu(i,s,v){s=v?c:s;var T=On(i,O,c,c,c,c,c,s);return T.placeholder=iu.placeholder,T}function ou(i,s,v){var T,P,k,M,V,H,oe=0,ae=!1,ue=!1,fe=!0;if(typeof i!="function")throw new Yt(g);s=tn(s)||0,tt(v)&&(ae=!!v.leading,ue="maxWait"in v,k=ue?mt(tn(v.maxWait)||0,s):k,fe="trailing"in v?!!v.trailing:fe);function me(ut){var un=T,En=P;return T=P=c,oe=ut,M=i.apply(En,un),M}function Oe(ut){return oe=ut,V=Yr(Re,s),ae?me(ut):M}function Ce(ut){var un=ut-H,En=ut-oe,Ou=s-un;return ue?St(Ou,k-En):Ou}function Se(ut){var un=ut-H,En=ut-oe;return H===c||un>=s||un<0||ue&&En>=k}function Re(){var ut=Ki();if(Se(ut))return Fe(ut);V=Yr(Re,Ce(ut))}function Fe(ut){return V=c,fe&&T?me(ut):(T=P=c,M)}function Bt(){V!==c&&gs(V),oe=0,T=H=P=V=c}function Ct(){return V===c?M:Fe(Ki())}function zt(){var ut=Ki(),un=Se(ut);if(T=arguments,P=this,H=ut,un){if(V===c)return Oe(H);if(ue)return gs(V),V=Yr(Re,s),me(H)}return V===c&&(V=Yr(Re,s)),M}return zt.cancel=Bt,zt.flush=Ct,zt}var Mp=$e(function(i,s){return qa(i,1,s)}),jp=$e(function(i,s,v){return qa(i,tn(s)||0,v)});function Up(i){return On(i,j)}function Yi(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new Yt(g);var v=function(){var T=arguments,P=s?s.apply(this,T):T[0],k=v.cache;if(k.has(P))return k.get(P);var M=i.apply(this,T);return v.cache=k.set(P,M)||k,M};return v.cache=new(Yi.Cache||xn),v}Yi.Cache=xn;function Xi(i){if(typeof i!="function")throw new Yt(g);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function Bp(i){return tu(2,i)}var zp=Pc(function(i,s){s=s.length==1&&Ee(s[0])?Xe(s[0],Mt(Te())):Xe(wt(s,1),Mt(Te()));var v=s.length;return $e(function(T){for(var P=-1,k=St(T.length,v);++P<k;)T[P]=s[P].call(this,T[P]);return Ft(i,this,T)})}),ta=$e(function(i,s){var v=Nn(s,wr(ta));return On(i,S,c,s,v)}),au=$e(function(i,s){var v=Nn(s,wr(au));return On(i,I,c,s,v)}),Vp=Sn(function(i,s){return On(i,R,c,c,c,s)});function Zp(i,s){if(typeof i!="function")throw new Yt(g);return s=s===c?s:De(s),$e(i,s)}function Gp(i,s){if(typeof i!="function")throw new Yt(g);return s=s==null?0:mt(De(s),0),$e(function(v){var T=v[s],P=zn(v,0,s);return T&&Ln(P,T),Ft(i,this,P)})}function Wp(i,s,v){var T=!0,P=!0;if(typeof i!="function")throw new Yt(g);return tt(v)&&(T="leading"in v?!!v.leading:T,P="trailing"in v?!!v.trailing:P),ou(i,s,{leading:T,maxWait:s,trailing:P})}function Hp(i){return eu(i,1)}function qp(i,s){return ta(jo(s),i)}function Kp(){if(!arguments.length)return[];var i=arguments[0];return Ee(i)?i:[i]}function Yp(i){return Jt(i,t)}function Xp(i,s){return s=typeof s=="function"?s:c,Jt(i,t,s)}function Jp(i){return Jt(i,n|t)}function Qp(i,s){return s=typeof s=="function"?s:c,Jt(i,n|t,s)}function ef(i,s){return s==null||Ha(i,s,bt(s))}function sn(i,s){return i===s||i!==i&&s!==s}var tf=Vi(Ao),nf=Vi(function(i,s){return i>=s}),ar=Qa(function(){return arguments}())?Qa:function(i){return it(i)&&Ve.call(i,"callee")&&!ja.call(i,"callee")},Ee=J.isArray,rf=_a?Mt(_a):dc;function $t(i){return i!=null&&Ji(i.length)&&!An(i)}function st(i){return it(i)&&$t(i)}function of(i){return i===!0||i===!1||it(i)&&Et(i)==Je}var Vn=bl||pa,af=wa?Mt(wa):pc;function sf(i){return it(i)&&i.nodeType===1&&!Xr(i)}function uf(i){if(i==null)return!0;if($t(i)&&(Ee(i)||typeof i=="string"||typeof i.splice=="function"||Vn(i)||xr(i)||ar(i)))return!i.length;var s=It(i);if(s==ze||s==ct)return!i.size;if(Kr(i))return!Do(i).length;for(var v in i)if(Ve.call(i,v))return!1;return!0}function lf(i,s){return Wr(i,s)}function cf(i,s,v){v=typeof v=="function"?v:c;var T=v?v(i,s):c;return T===c?Wr(i,s,c,v):!!T}function na(i){if(!it(i))return!1;var s=Et(i);return s==nt||s==Vt||typeof i.message=="string"&&typeof i.name=="string"&&!Xr(i)}function df(i){return typeof i=="number"&&Ba(i)}function An(i){if(!tt(i))return!1;var s=Et(i);return s==vt||s==Ge||s==je||s==Tt}function su(i){return typeof i=="number"&&i==De(i)}function Ji(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=le}function tt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function it(i){return i!=null&&typeof i=="object"}var uu=xa?Mt(xa):hc;function pf(i,s){return i===s||Eo(i,s,Wo(s))}function ff(i,s,v){return v=typeof v=="function"?v:c,Eo(i,s,Wo(s),v)}function hf(i){return lu(i)&&i!=+i}function gf(i){if(Xc(i))throw new Pe(f);return es(i)}function mf(i){return i===null}function yf(i){return i==null}function lu(i){return typeof i=="number"||it(i)&&Et(i)==lt}function Xr(i){if(!it(i)||Et(i)!=Ye)return!1;var s=Si(i);if(s===null)return!0;var v=Ve.call(s,"constructor")&&s.constructor;return typeof v=="function"&&v instanceof v&&wi.call(v)==pl}var ra=Ta?Mt(Ta):gc;function bf(i){return su(i)&&i>=-le&&i<=le}var cu=Oa?Mt(Oa):mc;function Qi(i){return typeof i=="string"||!Ee(i)&&it(i)&&Et(i)==at}function Ut(i){return typeof i=="symbol"||it(i)&&Et(i)==At}var xr=Sa?Mt(Sa):yc;function vf(i){return i===c}function _f(i){return it(i)&&It(i)==cn}function wf(i){return it(i)&&Et(i)==gn}var xf=Vi(Co),Tf=Vi(function(i,s){return i<=s});function du(i){if(!i)return[];if($t(i))return Qi(i)?on(i):kt(i);if(Mr&&i[Mr])return el(i[Mr]());var s=It(i),v=s==ze?bo:s==ct?bi:Tr;return v(i)}function Pn(i){if(!i)return i===0?i:0;if(i=tn(i),i===Z||i===-Z){var s=i<0?-1:1;return s*se}return i===i?i:0}function De(i){var s=Pn(i),v=s%1;return s===s?v?s-v:s:0}function pu(i){return i?nr(De(i),0,ce):0}function tn(i){if(typeof i=="number")return i;if(Ut(i))return ge;if(tt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=tt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=Ca(i);var v=ni.test(i);return v||ii.test(i)?Fu(i.slice(2),v?2:8):ti.test(i)?ge:+i}function fu(i){return fn(i,Rt(i))}function Of(i){return i?nr(De(i),-le,le):i===0?i:0}function Be(i){return i==null?"":jt(i)}var Sf=vr(function(i,s){if(Kr(s)||$t(s)){fn(s,bt(s),i);return}for(var v in s)Ve.call(s,v)&&Vr(i,v,s[v])}),hu=vr(function(i,s){fn(s,Rt(s),i)}),eo=vr(function(i,s,v,T){fn(s,Rt(s),i,T)}),If=vr(function(i,s,v,T){fn(s,bt(s),i,T)}),Af=Sn(Oo);function Pf(i,s){var v=br(i);return s==null?v:Wa(v,s)}var Ef=$e(function(i,s){i=We(i);var v=-1,T=s.length,P=T>2?s[2]:c;for(P&&Dt(s[0],s[1],P)&&(T=1);++v<T;)for(var k=s[v],M=Rt(k),V=-1,H=M.length;++V<H;){var oe=M[V],ae=i[oe];(ae===c||sn(ae,gr[oe])&&!Ve.call(i,oe))&&(i[oe]=k[oe])}return i}),Df=$e(function(i){return i.push(c,Cs),Ft(gu,c,i)});function Cf(i,s){return Aa(i,Te(s,3),pn)}function kf(i,s){return Aa(i,Te(s,3),Io)}function $f(i,s){return i==null?i:So(i,Te(s,3),Rt)}function Rf(i,s){return i==null?i:Xa(i,Te(s,3),Rt)}function Lf(i,s){return i&&pn(i,Te(s,3))}function Nf(i,s){return i&&Io(i,Te(s,3))}function Ff(i){return i==null?[]:Li(i,bt(i))}function Mf(i){return i==null?[]:Li(i,Rt(i))}function ia(i,s,v){var T=i==null?c:rr(i,s);return T===c?v:T}function jf(i,s){return i!=null&&Rs(i,s,sc)}function oa(i,s){return i!=null&&Rs(i,s,uc)}var Uf=Is(function(i,s,v){s!=null&&typeof s.toString!="function"&&(s=xi.call(s)),i[s]=v},sa(Lt)),Bf=Is(function(i,s,v){s!=null&&typeof s.toString!="function"&&(s=xi.call(s)),Ve.call(i,s)?i[s].push(v):i[s]=[v]},Te),zf=$e(Gr);function bt(i){return $t(i)?Za(i):Do(i)}function Rt(i){return $t(i)?Za(i,!0):bc(i)}function Vf(i,s){var v={};return s=Te(s,3),pn(i,function(T,P,k){Tn(v,s(T,P,k),T)}),v}function Zf(i,s){var v={};return s=Te(s,3),pn(i,function(T,P,k){Tn(v,P,s(T,P,k))}),v}var Gf=vr(function(i,s,v){Ni(i,s,v)}),gu=vr(function(i,s,v,T){Ni(i,s,v,T)}),Wf=Sn(function(i,s){var v={};if(i==null)return v;var T=!1;s=Xe(s,function(k){return k=Bn(k,i),T||(T=k.length>1),k}),fn(i,Zo(i),v),T&&(v=Jt(v,n|e|t,jc));for(var P=s.length;P--;)No(v,s[P]);return v});function Hf(i,s){return mu(i,Xi(Te(s)))}var qf=Sn(function(i,s){return i==null?{}:_c(i,s)});function mu(i,s){if(i==null)return{};var v=Xe(Zo(i),function(T){return[T]});return s=Te(s),ss(i,v,function(T,P){return s(T,P[0])})}function Kf(i,s,v){s=Bn(s,i);var T=-1,P=s.length;for(P||(P=1,i=c);++T<P;){var k=i==null?c:i[hn(s[T])];k===c&&(T=P,k=v),i=An(k)?k.call(i):k}return i}function Yf(i,s,v){return i==null?i:Hr(i,s,v)}function Xf(i,s,v,T){return T=typeof T=="function"?T:c,i==null?i:Hr(i,s,v,T)}var yu=Es(bt),bu=Es(Rt);function Jf(i,s,v){var T=Ee(i),P=T||Vn(i)||xr(i);if(s=Te(s,4),v==null){var k=i&&i.constructor;P?v=T?new k:[]:tt(i)?v=An(k)?br(Si(i)):{}:v={}}return(P?Kt:pn)(i,function(M,V,H){return s(v,M,V,H)}),v}function Qf(i,s){return i==null?!0:No(i,s)}function eh(i,s,v){return i==null?i:ps(i,s,jo(v))}function th(i,s,v,T){return T=typeof T=="function"?T:c,i==null?i:ps(i,s,jo(v),T)}function Tr(i){return i==null?[]:yo(i,bt(i))}function nh(i){return i==null?[]:yo(i,Rt(i))}function rh(i,s,v){return v===c&&(v=s,s=c),v!==c&&(v=tn(v),v=v===v?v:0),s!==c&&(s=tn(s),s=s===s?s:0),nr(tn(i),s,v)}function ih(i,s,v){return s=Pn(s),v===c?(v=s,s=0):v=Pn(v),i=tn(i),lc(i,s,v)}function oh(i,s,v){if(v&&typeof v!="boolean"&&Dt(i,s,v)&&(s=v=c),v===c&&(typeof s=="boolean"?(v=s,s=c):typeof i=="boolean"&&(v=i,i=c)),i===c&&s===c?(i=0,s=1):(i=Pn(i),s===c?(s=i,i=0):s=Pn(s)),i>s){var T=i;i=s,s=T}if(v||i%1||s%1){var P=za();return St(i+P*(s-i+Nu("1e-"+((P+"").length-1))),s)}return $o(i,s)}var ah=_r(function(i,s,v){return s=s.toLowerCase(),i+(v?vu(s):s)});function vu(i){return aa(Be(i).toLowerCase())}function _u(i){return i=Be(i),i&&i.replace(He,Ku).replace(hi,"")}function sh(i,s,v){i=Be(i),s=jt(s);var T=i.length;v=v===c?T:nr(De(v),0,T);var P=v;return v-=s.length,v>=0&&i.slice(v,P)==s}function uh(i){return i=Be(i),i&&Ae.test(i)?i.replace(de,Yu):i}function lh(i){return i=Be(i),i&&Le.test(i)?i.replace(te,"\\$&"):i}var ch=_r(function(i,s,v){return i+(v?"-":"")+s.toLowerCase()}),dh=_r(function(i,s,v){return i+(v?" ":"")+s.toLowerCase()}),ph=Ts("toLowerCase");function fh(i,s,v){i=Be(i),s=De(s);var T=s?hr(i):0;if(!s||T>=s)return i;var P=(s-T)/2;return zi(Ei(P),v)+i+zi(Pi(P),v)}function hh(i,s,v){i=Be(i),s=De(s);var T=s?hr(i):0;return s&&T<s?i+zi(s-T,v):i}function gh(i,s,v){i=Be(i),s=De(s);var T=s?hr(i):0;return s&&T<s?zi(s-T,v)+i:i}function mh(i,s,v){return v||s==null?s=0:s&&(s=+s),xl(Be(i).replace(Ze,""),s||0)}function yh(i,s,v){return(v?Dt(i,s,v):s===c)?s=1:s=De(s),Ro(Be(i),s)}function bh(){var i=arguments,s=Be(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var vh=_r(function(i,s,v){return i+(v?"_":"")+s.toLowerCase()});function _h(i,s,v){return v&&typeof v!="number"&&Dt(i,s,v)&&(s=v=c),v=v===c?ce:v>>>0,v?(i=Be(i),i&&(typeof s=="string"||s!=null&&!ra(s))&&(s=jt(s),!s&&fr(i))?zn(on(i),0,v):i.split(s,v)):[]}var wh=_r(function(i,s,v){return i+(v?" ":"")+aa(s)});function xh(i,s,v){return i=Be(i),v=v==null?0:nr(De(v),0,i.length),s=jt(s),i.slice(v,v+s.length)==s}function Th(i,s,v){var T=D.templateSettings;v&&Dt(i,s,v)&&(s=c),i=Be(i),s=eo({},s,T,Ds);var P=eo({},s.imports,T.imports,Ds),k=bt(P),M=yo(P,k),V,H,oe=0,ae=s.interpolate||kn,ue="__p += '",fe=vo((s.escape||kn).source+"|"+ae.source+"|"+(ae===pt?Cn:kn).source+"|"+(s.evaluate||kn).source+"|$","g"),me="//# sourceURL="+(Ve.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cu+"]")+`
`;i.replace(fe,function(Se,Re,Fe,Bt,Ct,zt){return Fe||(Fe=Bt),ue+=i.slice(oe,zt).replace(Ir,Xu),Re&&(V=!0,ue+=`' +
__e(`+Re+`) +
'`),Ct&&(H=!0,ue+=`';
`+Ct+`;
__p += '`),Fe&&(ue+=`' +
((__t = (`+Fe+`)) == null ? '' : __t) +
'`),oe=zt+Se.length,Se}),ue+=`';
`;var Oe=Ve.call(s,"variable")&&s.variable;if(!Oe)ue=`with (obj) {
`+ue+`
}
`;else if(Or.test(Oe))throw new Pe(p);ue=(H?ue.replace(N,""):ue).replace(q,"$1").replace(Y,"$1;"),ue="function("+(Oe||"obj")+`) {
`+(Oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ue+`return __p
}`;var Ce=xu(function(){return Ue(k,me+"return "+ue).apply(c,M)});if(Ce.source=ue,na(Ce))throw Ce;return Ce}function Oh(i){return Be(i).toLowerCase()}function Sh(i){return Be(i).toUpperCase()}function Ih(i,s,v){if(i=Be(i),i&&(v||s===c))return Ca(i);if(!i||!(s=jt(s)))return i;var T=on(i),P=on(s),k=ka(T,P),M=$a(T,P)+1;return zn(T,k,M).join("")}function Ah(i,s,v){if(i=Be(i),i&&(v||s===c))return i.slice(0,La(i)+1);if(!i||!(s=jt(s)))return i;var T=on(i),P=$a(T,on(s))+1;return zn(T,0,P).join("")}function Ph(i,s,v){if(i=Be(i),i&&(v||s===c))return i.replace(Ze,"");if(!i||!(s=jt(s)))return i;var T=on(i),P=ka(T,on(s));return zn(T,P).join("")}function Eh(i,s){var v=U,T=G;if(tt(s)){var P="separator"in s?s.separator:P;v="length"in s?De(s.length):v,T="omission"in s?jt(s.omission):T}i=Be(i);var k=i.length;if(fr(i)){var M=on(i);k=M.length}if(v>=k)return i;var V=v-hr(T);if(V<1)return T;var H=M?zn(M,0,V).join(""):i.slice(0,V);if(P===c)return H+T;if(M&&(V+=H.length-V),ra(P)){if(i.slice(V).search(P)){var oe,ae=H;for(P.global||(P=vo(P.source,Be(Sr.exec(P))+"g")),P.lastIndex=0;oe=P.exec(ae);)var ue=oe.index;H=H.slice(0,ue===c?V:ue)}}else if(i.indexOf(jt(P),V)!=V){var fe=H.lastIndexOf(P);fe>-1&&(H=H.slice(0,fe))}return H+T}function Dh(i){return i=Be(i),i&&be.test(i)?i.replace(ie,il):i}var Ch=_r(function(i,s,v){return i+(v?" ":"")+s.toUpperCase()}),aa=Ts("toUpperCase");function wu(i,s,v){return i=Be(i),s=v?c:s,s===c?Qu(i)?sl(i):Zu(i):i.match(s)||[]}var xu=$e(function(i,s){try{return Ft(i,c,s)}catch(v){return na(v)?v:new Pe(v)}}),kh=Sn(function(i,s){return Kt(s,function(v){v=hn(v),Tn(i,v,ea(i[v],i))}),i});function $h(i){var s=i==null?0:i.length,v=Te();return i=s?Xe(i,function(T){if(typeof T[1]!="function")throw new Yt(g);return[v(T[0]),T[1]]}):[],$e(function(T){for(var P=-1;++P<s;){var k=i[P];if(Ft(k[0],this,T))return Ft(k[1],this,T)}})}function Rh(i){return ic(Jt(i,n))}function sa(i){return function(){return i}}function Lh(i,s){return i==null||i!==i?s:i}var Nh=Ss(),Fh=Ss(!0);function Lt(i){return i}function ua(i){return ts(typeof i=="function"?i:Jt(i,n))}function Mh(i){return rs(Jt(i,n))}function jh(i,s){return is(i,Jt(s,n))}var Uh=$e(function(i,s){return function(v){return Gr(v,i,s)}}),Bh=$e(function(i,s){return function(v){return Gr(i,v,s)}});function la(i,s,v){var T=bt(s),P=Li(s,T);v==null&&!(tt(s)&&(P.length||!T.length))&&(v=s,s=i,i=this,P=Li(s,bt(s)));var k=!(tt(v)&&"chain"in v)||!!v.chain,M=An(i);return Kt(P,function(V){var H=s[V];i[V]=H,M&&(i.prototype[V]=function(){var oe=this.__chain__;if(k||oe){var ae=i(this.__wrapped__),ue=ae.__actions__=kt(this.__actions__);return ue.push({func:H,args:arguments,thisArg:i}),ae.__chain__=oe,ae}return H.apply(i,Ln([this.value()],arguments))})}),i}function zh(){return yt._===this&&(yt._=fl),this}function ca(){}function Vh(i){return i=De(i),$e(function(s){return os(s,i)})}var Zh=Bo(Xe),Gh=Bo(Ia),Wh=Bo(po);function Tu(i){return qo(i)?fo(hn(i)):wc(i)}function Hh(i){return function(s){return i==null?c:rr(i,s)}}var qh=As(),Kh=As(!0);function da(){return[]}function pa(){return!1}function Yh(){return{}}function Xh(){return""}function Jh(){return!0}function Qh(i,s){if(i=De(i),i<1||i>le)return[];var v=ce,T=St(i,ce);s=Te(s),i-=ce;for(var P=mo(T,s);++v<i;)s(v);return P}function eg(i){return Ee(i)?Xe(i,hn):Ut(i)?[i]:kt(Vs(Be(i)))}function tg(i){var s=++dl;return Be(i)+s}var ng=Bi(function(i,s){return i+s},0),rg=zo("ceil"),ig=Bi(function(i,s){return i/s},1),og=zo("floor");function ag(i){return i&&i.length?Ri(i,Lt,Ao):c}function sg(i,s){return i&&i.length?Ri(i,Te(s,2),Ao):c}function ug(i){return Ea(i,Lt)}function lg(i,s){return Ea(i,Te(s,2))}function cg(i){return i&&i.length?Ri(i,Lt,Co):c}function dg(i,s){return i&&i.length?Ri(i,Te(s,2),Co):c}var pg=Bi(function(i,s){return i*s},1),fg=zo("round"),hg=Bi(function(i,s){return i-s},0);function gg(i){return i&&i.length?go(i,Lt):0}function mg(i,s){return i&&i.length?go(i,Te(s,2)):0}return D.after=Fp,D.ary=eu,D.assign=Sf,D.assignIn=hu,D.assignInWith=eo,D.assignWith=If,D.at=Af,D.before=tu,D.bind=ea,D.bindAll=kh,D.bindKey=nu,D.castArray=Kp,D.chain=Xs,D.chunk=id,D.compact=od,D.concat=ad,D.cond=$h,D.conforms=Rh,D.constant=sa,D.countBy=hp,D.create=Pf,D.curry=ru,D.curryRight=iu,D.debounce=ou,D.defaults=Ef,D.defaultsDeep=Df,D.defer=Mp,D.delay=jp,D.difference=sd,D.differenceBy=ud,D.differenceWith=ld,D.drop=cd,D.dropRight=dd,D.dropRightWhile=pd,D.dropWhile=fd,D.fill=hd,D.filter=mp,D.flatMap=vp,D.flatMapDeep=_p,D.flatMapDepth=wp,D.flatten=Hs,D.flattenDeep=gd,D.flattenDepth=md,D.flip=Up,D.flow=Nh,D.flowRight=Fh,D.fromPairs=yd,D.functions=Ff,D.functionsIn=Mf,D.groupBy=xp,D.initial=vd,D.intersection=_d,D.intersectionBy=wd,D.intersectionWith=xd,D.invert=Uf,D.invertBy=Bf,D.invokeMap=Op,D.iteratee=ua,D.keyBy=Sp,D.keys=bt,D.keysIn=Rt,D.map=qi,D.mapKeys=Vf,D.mapValues=Zf,D.matches=Mh,D.matchesProperty=jh,D.memoize=Yi,D.merge=Gf,D.mergeWith=gu,D.method=Uh,D.methodOf=Bh,D.mixin=la,D.negate=Xi,D.nthArg=Vh,D.omit=Wf,D.omitBy=Hf,D.once=Bp,D.orderBy=Ip,D.over=Zh,D.overArgs=zp,D.overEvery=Gh,D.overSome=Wh,D.partial=ta,D.partialRight=au,D.partition=Ap,D.pick=qf,D.pickBy=mu,D.property=Tu,D.propertyOf=Hh,D.pull=Id,D.pullAll=Ks,D.pullAllBy=Ad,D.pullAllWith=Pd,D.pullAt=Ed,D.range=qh,D.rangeRight=Kh,D.rearg=Vp,D.reject=Dp,D.remove=Dd,D.rest=Zp,D.reverse=Jo,D.sampleSize=kp,D.set=Yf,D.setWith=Xf,D.shuffle=$p,D.slice=Cd,D.sortBy=Np,D.sortedUniq=Md,D.sortedUniqBy=jd,D.split=_h,D.spread=Gp,D.tail=Ud,D.take=Bd,D.takeRight=zd,D.takeRightWhile=Vd,D.takeWhile=Zd,D.tap=op,D.throttle=Wp,D.thru=Hi,D.toArray=du,D.toPairs=yu,D.toPairsIn=bu,D.toPath=eg,D.toPlainObject=fu,D.transform=Jf,D.unary=Hp,D.union=Gd,D.unionBy=Wd,D.unionWith=Hd,D.uniq=qd,D.uniqBy=Kd,D.uniqWith=Yd,D.unset=Qf,D.unzip=Qo,D.unzipWith=Ys,D.update=eh,D.updateWith=th,D.values=Tr,D.valuesIn=nh,D.without=Xd,D.words=wu,D.wrap=qp,D.xor=Jd,D.xorBy=Qd,D.xorWith=ep,D.zip=tp,D.zipObject=np,D.zipObjectDeep=rp,D.zipWith=ip,D.entries=yu,D.entriesIn=bu,D.extend=hu,D.extendWith=eo,la(D,D),D.add=ng,D.attempt=xu,D.camelCase=ah,D.capitalize=vu,D.ceil=rg,D.clamp=rh,D.clone=Yp,D.cloneDeep=Jp,D.cloneDeepWith=Qp,D.cloneWith=Xp,D.conformsTo=ef,D.deburr=_u,D.defaultTo=Lh,D.divide=ig,D.endsWith=sh,D.eq=sn,D.escape=uh,D.escapeRegExp=lh,D.every=gp,D.find=yp,D.findIndex=Gs,D.findKey=Cf,D.findLast=bp,D.findLastIndex=Ws,D.findLastKey=kf,D.floor=og,D.forEach=Js,D.forEachRight=Qs,D.forIn=$f,D.forInRight=Rf,D.forOwn=Lf,D.forOwnRight=Nf,D.get=ia,D.gt=tf,D.gte=nf,D.has=jf,D.hasIn=oa,D.head=qs,D.identity=Lt,D.includes=Tp,D.indexOf=bd,D.inRange=ih,D.invoke=zf,D.isArguments=ar,D.isArray=Ee,D.isArrayBuffer=rf,D.isArrayLike=$t,D.isArrayLikeObject=st,D.isBoolean=of,D.isBuffer=Vn,D.isDate=af,D.isElement=sf,D.isEmpty=uf,D.isEqual=lf,D.isEqualWith=cf,D.isError=na,D.isFinite=df,D.isFunction=An,D.isInteger=su,D.isLength=Ji,D.isMap=uu,D.isMatch=pf,D.isMatchWith=ff,D.isNaN=hf,D.isNative=gf,D.isNil=yf,D.isNull=mf,D.isNumber=lu,D.isObject=tt,D.isObjectLike=it,D.isPlainObject=Xr,D.isRegExp=ra,D.isSafeInteger=bf,D.isSet=cu,D.isString=Qi,D.isSymbol=Ut,D.isTypedArray=xr,D.isUndefined=vf,D.isWeakMap=_f,D.isWeakSet=wf,D.join=Td,D.kebabCase=ch,D.last=en,D.lastIndexOf=Od,D.lowerCase=dh,D.lowerFirst=ph,D.lt=xf,D.lte=Tf,D.max=ag,D.maxBy=sg,D.mean=ug,D.meanBy=lg,D.min=cg,D.minBy=dg,D.stubArray=da,D.stubFalse=pa,D.stubObject=Yh,D.stubString=Xh,D.stubTrue=Jh,D.multiply=pg,D.nth=Sd,D.noConflict=zh,D.noop=ca,D.now=Ki,D.pad=fh,D.padEnd=hh,D.padStart=gh,D.parseInt=mh,D.random=oh,D.reduce=Pp,D.reduceRight=Ep,D.repeat=yh,D.replace=bh,D.result=Kf,D.round=fg,D.runInContext=W,D.sample=Cp,D.size=Rp,D.snakeCase=vh,D.some=Lp,D.sortedIndex=kd,D.sortedIndexBy=$d,D.sortedIndexOf=Rd,D.sortedLastIndex=Ld,D.sortedLastIndexBy=Nd,D.sortedLastIndexOf=Fd,D.startCase=wh,D.startsWith=xh,D.subtract=hg,D.sum=gg,D.sumBy=mg,D.template=Th,D.times=Qh,D.toFinite=Pn,D.toInteger=De,D.toLength=pu,D.toLower=Oh,D.toNumber=tn,D.toSafeInteger=Of,D.toString=Be,D.toUpper=Sh,D.trim=Ih,D.trimEnd=Ah,D.trimStart=Ph,D.truncate=Eh,D.unescape=Dh,D.uniqueId=tg,D.upperCase=Ch,D.upperFirst=aa,D.each=Js,D.eachRight=Qs,D.first=qs,la(D,function(){var i={};return pn(D,function(s,v){Ve.call(D.prototype,v)||(i[v]=s)}),i}(),{chain:!1}),D.VERSION=y,Kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){D[i].placeholder=D}),Kt(["drop","take"],function(i,s){Ne.prototype[i]=function(v){v=v===c?1:mt(De(v),0);var T=this.__filtered__&&!s?new Ne(this):this.clone();return T.__filtered__?T.__takeCount__=St(v,T.__takeCount__):T.__views__.push({size:St(v,ce),type:i+(T.__dir__<0?"Right":"")}),T},Ne.prototype[i+"Right"]=function(v){return this.reverse()[i](v).reverse()}}),Kt(["filter","map","takeWhile"],function(i,s){var v=s+1,T=v==Q||v==F;Ne.prototype[i]=function(P){var k=this.clone();return k.__iteratees__.push({iteratee:Te(P,3),type:v}),k.__filtered__=k.__filtered__||T,k}}),Kt(["head","last"],function(i,s){var v="take"+(s?"Right":"");Ne.prototype[i]=function(){return this[v](1).value()[0]}}),Kt(["initial","tail"],function(i,s){var v="drop"+(s?"":"Right");Ne.prototype[i]=function(){return this.__filtered__?new Ne(this):this[v](1)}}),Ne.prototype.compact=function(){return this.filter(Lt)},Ne.prototype.find=function(i){return this.filter(i).head()},Ne.prototype.findLast=function(i){return this.reverse().find(i)},Ne.prototype.invokeMap=$e(function(i,s){return typeof i=="function"?new Ne(this):this.map(function(v){return Gr(v,i,s)})}),Ne.prototype.reject=function(i){return this.filter(Xi(Te(i)))},Ne.prototype.slice=function(i,s){i=De(i);var v=this;return v.__filtered__&&(i>0||s<0)?new Ne(v):(i<0?v=v.takeRight(-i):i&&(v=v.drop(i)),s!==c&&(s=De(s),v=s<0?v.dropRight(-s):v.take(s-i)),v)},Ne.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ne.prototype.toArray=function(){return this.take(ce)},pn(Ne.prototype,function(i,s){var v=/^(?:filter|find|map|reject)|While$/.test(s),T=/^(?:head|last)$/.test(s),P=D[T?"take"+(s=="last"?"Right":""):s],k=T||/^find/.test(s);P&&(D.prototype[s]=function(){var M=this.__wrapped__,V=T?[1]:arguments,H=M instanceof Ne,oe=V[0],ae=H||Ee(M),ue=function(Re){var Fe=P.apply(D,Ln([Re],V));return T&&fe?Fe[0]:Fe};ae&&v&&typeof oe=="function"&&oe.length!=1&&(H=ae=!1);var fe=this.__chain__,me=!!this.__actions__.length,Oe=k&&!fe,Ce=H&&!me;if(!k&&ae){M=Ce?M:new Ne(this);var Se=i.apply(M,V);return Se.__actions__.push({func:Hi,args:[ue],thisArg:c}),new Xt(Se,fe)}return Oe&&Ce?i.apply(this,V):(Se=this.thru(ue),Oe?T?Se.value()[0]:Se.value():Se)})}),Kt(["pop","push","shift","sort","splice","unshift"],function(i){var s=vi[i],v=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",T=/^(?:pop|shift)$/.test(i);D.prototype[i]=function(){var P=arguments;if(T&&!this.__chain__){var k=this.value();return s.apply(Ee(k)?k:[],P)}return this[v](function(M){return s.apply(Ee(M)?M:[],P)})}}),pn(Ne.prototype,function(i,s){var v=D[s];if(v){var T=v.name+"";Ve.call(yr,T)||(yr[T]=[]),yr[T].push({name:s,func:v})}}),yr[Ui(c,b).name]=[{name:"wrapper",func:c}],Ne.prototype.clone=El,Ne.prototype.reverse=Dl,Ne.prototype.value=Cl,D.prototype.at=ap,D.prototype.chain=sp,D.prototype.commit=up,D.prototype.next=lp,D.prototype.plant=dp,D.prototype.reverse=pp,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=fp,D.prototype.first=D.prototype.head,Mr&&(D.prototype[Mr]=cp),D},Fn=ul();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(yt._=Fn,define(function(){return Fn})):Jn?((Jn.exports=Fn)._=Fn,so._=Fn):yt._=Fn}).call(w)}}),import_ndarray2=__toESM(require_ndarray()),import_ndarray=__toESM(require_ndarray());async function imageDecode(w){const o=await createImageBitmap(w),c=imageBitmapToImageData(o);return(0,import_ndarray.default)(c.data,[c.height,c.width,4])}async function imageEncode(w,o=.8,c="image/png"){const[y,d,f]=w.shape,g=new ImageData(new Uint8ClampedArray(w.data),d,y);var p=new OffscreenCanvas(g.width,g.height),m=p.getContext("2d");return m.putImageData(g,0,0),p.convertToBlob({quality:o,type:c})}function imageBitmapToImageData(w){var o=new OffscreenCanvas(w.width,w.height),c=o.getContext("2d");return c.drawImage(w,0,0),c.getImageData(0,0,o.width,o.height)}async function tensorResize(w,o,c){const[y,d,f]=w.shape,g=d/o,p=y/c,m=(0,import_ndarray2.default)(new Uint8Array(f*o*c),[c,o,f]);for(let l=0;l<c;l++)for(let a=0;a<o;a++)for(let n=0;n<f;n++){const e=a*g,t=l*p,r=Math.floor(e),u=Math.ceil(e),h=Math.floor(t),b=Math.ceil(t),_=e-r,x=t-h,O=w.get(h,r,n),S=w.get(h,u,n),I=w.get(b,r,n),A=w.get(b,u,n),R=(1-_)*(1-x)*O+_*(1-x)*S+(1-_)*x*I+_*x*A;m.set(l,a,n,Math.round(R))}return m}function tensorHWCtoBCHW(w,o=[128,128,128],c=[256,256,256]){var y=w.data;const[d,f,g]=w.shape,p=d*f,m=new Float32Array(3*p);for(let l=0,a=0;l<y.length;l+=4,a+=1)m[a]=(y[l]-o[0])/c[0],m[a+p]=(y[l+1]-o[1])/c[1],m[a+p+p]=(y[l+2]-o[2])/c[2];return(0,import_ndarray2.default)(m,[1,3,d,f])}function calculateProportionalSize(w,o,c,y){const d=c/w,f=y/o,g=Math.min(d,f),p=Math.floor(w*g),m=Math.floor(o*g);return[p,m]}var import_ndarray3=__toESM(require_ndarray());async function loadAsUrl(w,o){return URL.createObjectURL(await loadAsBlob(w,o))}async function loadAsBlob(w,o){const c=new URL("resources.json",o.publicPath),y=await fetch(c);if(!y.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const f=(await y.json())[w];if(!f)throw new Error(`Resource ${w} not found. Ensure that the config.publicPath is configured correctly.`);let g=Object.keys(f.chunks);const m=(await Promise.all(g.map(async a=>{o.publicPath&&(a=new URL(a,o.publicPath).toString());const n=await fetch(a,o.fetchArgs);return o.progress?await fetchChunked(n,f,o,w):[await n.blob()]}))).flat(),l=new Blob(m,{type:f.mime});if(l.size!==f.size)throw new Error(`Failed to fetch ${w} with size ${f.size} but got ${l.size}`);return l}async function fetchChunked(w,o,c,y){const d=w.body.getReader(),f=o.size??0;let g=0,p=[];for(;;){const{done:m,value:l}=await d.read();if(m)break;p.push(l),g+=l.length,c.progress&&c.progress(`fetch:${y}`,g,f)}return p}var simd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),threads=()=>(async w=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(w)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));async function createOnnxSession(w,o){const c={simd:await simd(),threads:await threads(),numThreads:navigator.hardwareConcurrency??4,webgpu:navigator.gpu!==void 0};o.debug&&(console.debug("Capabilities:",c),ort_minExports.env.debug=!0,ort_minExports.env.logLevel="verbose"),ort_minExports.env.wasm.numThreads=c.numThreads,ort_minExports.env.wasm.simd=c.simd,ort_minExports.env.wasm.proxy=o.proxyToWorker,ort_minExports.env.wasm.wasmPaths={"ort-wasm-simd-threaded.wasm":c.simd&&c.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-simd-threaded.wasm",o):void 0,"ort-wasm-simd.wasm":c.simd&&!c.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-simd.wasm",o):void 0,"ort-wasm-threaded.wasm":!c.simd&&c.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-threaded.wasm",o):void 0,"ort-wasm.wasm":!c.simd&&!c.threads?await loadAsUrl("/onnxruntime-web/ort-wasm.wasm",o):void 0},o.debug&&console.debug("ort.env.wasm:",ort_minExports.env.wasm);const y={executionProviders:["wasm"],graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await ort_minExports.InferenceSession.create(w,y).catch(f=>{throw new Error(`Failed to create session: ${f}. Please check if the publicPath is set correctly.`)})}async function runOnnxSession(w,o,c){const y={};for(const[g,p]of o)y[g]=new ort_minExports.Tensor("float32",new Float32Array(p.data),p.shape);const d=await w.run(y,{}),f=[];for(const g of c){const p=d[g],m=p.dims,l=p.data,a=(0,import_ndarray3.default)(l,m);f.push(a)}return f}var util;(function(w){w.assertEqual=d=>d;function o(d){}w.assertIs=o;function c(d){throw new Error}w.assertNever=c,w.arrayToEnum=d=>{const f={};for(const g of d)f[g]=g;return f},w.getValidEnumValues=d=>{const f=w.objectKeys(d).filter(p=>typeof d[d[p]]!="number"),g={};for(const p of f)g[p]=d[p];return w.objectValues(g)},w.objectValues=d=>w.objectKeys(d).map(function(f){return d[f]}),w.objectKeys=typeof Object.keys=="function"?d=>Object.keys(d):d=>{const f=[];for(const g in d)Object.prototype.hasOwnProperty.call(d,g)&&f.push(g);return f},w.find=(d,f)=>{for(const g of d)if(f(g))return g},w.isInteger=typeof Number.isInteger=="function"?d=>Number.isInteger(d):d=>typeof d=="number"&&isFinite(d)&&Math.floor(d)===d;function y(d,f=" | "){return d.map(g=>typeof g=="string"?`'${g}'`:g).join(f)}w.joinValues=y,w.jsonStringifyReplacer=(d,f)=>typeof f=="bigint"?f.toString():f})(util||(util={}));var objectUtil;(function(w){w.mergeShapes=(o,c)=>({...o,...c})})(objectUtil||(objectUtil={}));var ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=w=>{switch(typeof w){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(w)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(w)?ZodParsedType.array:w===null?ZodParsedType.null:w.then&&typeof w.then=="function"&&w.catch&&typeof w.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&w instanceof Map?ZodParsedType.map:typeof Set<"u"&&w instanceof Set?ZodParsedType.set:typeof Date<"u"&&w instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=w=>JSON.stringify(w,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError=class extends Error{constructor(w){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=w}get errors(){return this.issues}format(w){const o=w||function(d){return d.message},c={_errors:[]},y=d=>{for(const f of d.issues)if(f.code==="invalid_union")f.unionErrors.map(y);else if(f.code==="invalid_return_type")y(f.returnTypeError);else if(f.code==="invalid_arguments")y(f.argumentsError);else if(f.path.length===0)c._errors.push(o(f));else{let g=c,p=0;for(;p<f.path.length;){const m=f.path[p];p===f.path.length-1?(g[m]=g[m]||{_errors:[]},g[m]._errors.push(o(f))):g[m]=g[m]||{_errors:[]},g=g[m],p++}}};return y(this),c}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(w=o=>o.message){const o={},c=[];for(const y of this.issues)y.path.length>0?(o[y.path[0]]=o[y.path[0]]||[],o[y.path[0]].push(w(y))):c.push(w(y));return{formErrors:c,fieldErrors:o}}get formErrors(){return this.flatten()}};ZodError.create=w=>new ZodError(w);var errorMap=(w,o)=>{let c;switch(w.code){case ZodIssueCode.invalid_type:w.received===ZodParsedType.undefined?c="Required":c=`Expected ${w.expected}, received ${w.received}`;break;case ZodIssueCode.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(w.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:c=`Unrecognized key(s) in object: ${util.joinValues(w.keys,", ")}`;break;case ZodIssueCode.invalid_union:c="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${util.joinValues(w.options)}`;break;case ZodIssueCode.invalid_enum_value:c=`Invalid enum value. Expected ${util.joinValues(w.options)}, received '${w.received}'`;break;case ZodIssueCode.invalid_arguments:c="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:c="Invalid function return type";break;case ZodIssueCode.invalid_date:c="Invalid date";break;case ZodIssueCode.invalid_string:typeof w.validation=="object"?"includes"in w.validation?(c=`Invalid input: must include "${w.validation.includes}"`,typeof w.validation.position=="number"&&(c=`${c} at one or more positions greater than or equal to ${w.validation.position}`)):"startsWith"in w.validation?c=`Invalid input: must start with "${w.validation.startsWith}"`:"endsWith"in w.validation?c=`Invalid input: must end with "${w.validation.endsWith}"`:util.assertNever(w.validation):w.validation!=="regex"?c=`Invalid ${w.validation}`:c="Invalid";break;case ZodIssueCode.too_small:w.type==="array"?c=`Array must contain ${w.exact?"exactly":w.inclusive?"at least":"more than"} ${w.minimum} element(s)`:w.type==="string"?c=`String must contain ${w.exact?"exactly":w.inclusive?"at least":"over"} ${w.minimum} character(s)`:w.type==="number"?c=`Number must be ${w.exact?"exactly equal to ":w.inclusive?"greater than or equal to ":"greater than "}${w.minimum}`:w.type==="date"?c=`Date must be ${w.exact?"exactly equal to ":w.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(w.minimum))}`:c="Invalid input";break;case ZodIssueCode.too_big:w.type==="array"?c=`Array must contain ${w.exact?"exactly":w.inclusive?"at most":"less than"} ${w.maximum} element(s)`:w.type==="string"?c=`String must contain ${w.exact?"exactly":w.inclusive?"at most":"under"} ${w.maximum} character(s)`:w.type==="number"?c=`Number must be ${w.exact?"exactly":w.inclusive?"less than or equal to":"less than"} ${w.maximum}`:w.type==="bigint"?c=`BigInt must be ${w.exact?"exactly":w.inclusive?"less than or equal to":"less than"} ${w.maximum}`:w.type==="date"?c=`Date must be ${w.exact?"exactly":w.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(w.maximum))}`:c="Invalid input";break;case ZodIssueCode.custom:c="Invalid input";break;case ZodIssueCode.invalid_intersection_types:c="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:c=`Number must be a multiple of ${w.multipleOf}`;break;case ZodIssueCode.not_finite:c="Number must be finite";break;default:c=o.defaultError,util.assertNever(w)}return{message:c}},overrideErrorMap=errorMap;function setErrorMap(w){overrideErrorMap=w}function getErrorMap(){return overrideErrorMap}var makeIssue=w=>{const{data:o,path:c,errorMaps:y,issueData:d}=w,f=[...c,...d.path||[]],g={...d,path:f};let p="";const m=y.filter(l=>!!l).slice().reverse();for(const l of m)p=l(g,{data:o,defaultError:p}).message;return{...d,path:f,message:d.message||p}},EMPTY_PATH=[];function addIssueToContext(w,o){const c=makeIssue({issueData:o,data:w.data,path:w.path,errorMaps:[w.common.contextualErrorMap,w.schemaErrorMap,getErrorMap(),errorMap].filter(y=>!!y)});w.common.issues.push(c)}var ParseStatus=class Iu{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(o,c){const y=[];for(const d of c){if(d.status==="aborted")return INVALID;d.status==="dirty"&&o.dirty(),y.push(d.value)}return{status:o.value,value:y}}static async mergeObjectAsync(o,c){const y=[];for(const d of c)y.push({key:await d.key,value:await d.value});return Iu.mergeObjectSync(o,y)}static mergeObjectSync(o,c){const y={};for(const d of c){const{key:f,value:g}=d;if(f.status==="aborted"||g.status==="aborted")return INVALID;f.status==="dirty"&&o.dirty(),g.status==="dirty"&&o.dirty(),(typeof g.value<"u"||d.alwaysSet)&&(y[f.value]=g.value)}return{status:o.value,value:y}}},INVALID=Object.freeze({status:"aborted"}),DIRTY=w=>({status:"dirty",value:w}),OK=w=>({status:"valid",value:w}),isAborted=w=>w.status==="aborted",isDirty=w=>w.status==="dirty",isValid=w=>w.status==="valid",isAsync=w=>typeof Promise<"u"&&w instanceof Promise,errorUtil;(function(w){w.errToObj=o=>typeof o=="string"?{message:o}:o||{},w.toString=o=>typeof o=="string"?o:o==null?void 0:o.message})(errorUtil||(errorUtil={}));var ParseInputLazyPath=class{constructor(w,o,c,y){this._cachedPath=[],this.parent=w,this.data=o,this._path=c,this._key=y}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},handleResult=(w,o)=>{if(isValid(o))return{success:!0,data:o.value};if(!w.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const c=new ZodError(w.common.issues);return this._error=c,this._error}}};function processCreateParams(w){if(!w)return{};const{errorMap:o,invalid_type_error:c,required_error:y,description:d}=w;if(o&&(c||y))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return o?{errorMap:o,description:d}:{errorMap:(g,p)=>g.code!=="invalid_type"?{message:p.defaultError}:typeof p.data>"u"?{message:y??p.defaultError}:{message:c??p.defaultError},description:d}}var ZodType=class{constructor(w){this.spa=this.safeParseAsync,this._def=w,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(w){return getParsedType(w.data)}_getOrReturnCtx(w,o){return o||{common:w.parent.common,data:w.data,parsedType:getParsedType(w.data),schemaErrorMap:this._def.errorMap,path:w.path,parent:w.parent}}_processInputParams(w){return{status:new ParseStatus,ctx:{common:w.parent.common,data:w.data,parsedType:getParsedType(w.data),schemaErrorMap:this._def.errorMap,path:w.path,parent:w.parent}}}_parseSync(w){const o=this._parse(w);if(isAsync(o))throw new Error("Synchronous parse encountered promise.");return o}_parseAsync(w){const o=this._parse(w);return Promise.resolve(o)}parse(w,o){const c=this.safeParse(w,o);if(c.success)return c.data;throw c.error}safeParse(w,o){var c;const y={common:{issues:[],async:(c=o==null?void 0:o.async)!==null&&c!==void 0?c:!1,contextualErrorMap:o==null?void 0:o.errorMap},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:w,parsedType:getParsedType(w)},d=this._parseSync({data:w,path:y.path,parent:y});return handleResult(y,d)}async parseAsync(w,o){const c=await this.safeParseAsync(w,o);if(c.success)return c.data;throw c.error}async safeParseAsync(w,o){const c={common:{issues:[],contextualErrorMap:o==null?void 0:o.errorMap,async:!0},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:w,parsedType:getParsedType(w)},y=this._parse({data:w,path:c.path,parent:c}),d=await(isAsync(y)?y:Promise.resolve(y));return handleResult(c,d)}refine(w,o){const c=y=>typeof o=="string"||typeof o>"u"?{message:o}:typeof o=="function"?o(y):o;return this._refinement((y,d)=>{const f=w(y),g=()=>d.addIssue({code:ZodIssueCode.custom,...c(y)});return typeof Promise<"u"&&f instanceof Promise?f.then(p=>p?!0:(g(),!1)):f?!0:(g(),!1)})}refinement(w,o){return this._refinement((c,y)=>w(c)?!0:(y.addIssue(typeof o=="function"?o(c,y):o),!1))}_refinement(w){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:w}})}superRefine(w){return this._refinement(w)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(w){return ZodUnion.create([this,w],this._def)}and(w){return ZodIntersection.create(this,w,this._def)}transform(w){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:w}})}default(w){const o=typeof w=="function"?w:()=>w;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:o,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(w){const o=typeof w=="function"?w:()=>w;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:o,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(w){const o=this.constructor;return new o({...this._def,description:w})}pipe(w){return ZodPipeline.create(this,w)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=w=>w.precision?w.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${w.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${w.precision}}Z$`):w.precision===0?w.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):w.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(w,o){return!!((o==="v4"||!o)&&ipv4Regex.test(w)||(o==="v6"||!o)&&ipv6Regex.test(w))}var ZodString=class Jr extends ZodType{constructor(){super(...arguments),this._regex=(o,c,y)=>this.refinement(d=>o.test(d),{validation:c,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(y)}),this.nonempty=o=>this.min(1,errorUtil.errToObj(o)),this.trim=()=>new Jr({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Jr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Jr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(o){if(this._def.coerce&&(o.data=String(o.data)),this._getType(o)!==ZodParsedType.string){const f=this._getOrReturnCtx(o);return addIssueToContext(f,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:f.parsedType}),INVALID}const y=new ParseStatus;let d;for(const f of this._def.checks)if(f.kind==="min")o.data.length<f.value&&(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),y.dirty());else if(f.kind==="max")o.data.length>f.value&&(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),y.dirty());else if(f.kind==="length"){const g=o.data.length>f.value,p=o.data.length<f.value;(g||p)&&(d=this._getOrReturnCtx(o,d),g?addIssueToContext(d,{code:ZodIssueCode.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):p&&addIssueToContext(d,{code:ZodIssueCode.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),y.dirty())}else if(f.kind==="email")emailRegex.test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"email",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty());else if(f.kind==="emoji")emojiRegex.test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"emoji",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty());else if(f.kind==="uuid")uuidRegex.test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"uuid",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty());else if(f.kind==="cuid")cuidRegex.test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"cuid",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty());else if(f.kind==="cuid2")cuid2Regex.test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty());else if(f.kind==="ulid")ulidRegex.test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"ulid",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty());else if(f.kind==="url")try{new URL(o.data)}catch{d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"url",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"regex",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty())):f.kind==="trim"?o.data=o.data.trim():f.kind==="includes"?o.data.includes(f.value,f.position)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),y.dirty()):f.kind==="toLowerCase"?o.data=o.data.toLowerCase():f.kind==="toUpperCase"?o.data=o.data.toUpperCase():f.kind==="startsWith"?o.data.startsWith(f.value)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.invalid_string,validation:{startsWith:f.value},message:f.message}),y.dirty()):f.kind==="endsWith"?o.data.endsWith(f.value)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.invalid_string,validation:{endsWith:f.value},message:f.message}),y.dirty()):f.kind==="datetime"?datetimeRegex(f).test(o.data)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.invalid_string,validation:"datetime",message:f.message}),y.dirty()):f.kind==="ip"?isValidIP(o.data,f.version)||(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{validation:"ip",code:ZodIssueCode.invalid_string,message:f.message}),y.dirty()):util.assertNever(f);return{status:y.value,value:o.data}}_addCheck(o){return new Jr({...this._def,checks:[...this._def.checks,o]})}email(o){return this._addCheck({kind:"email",...errorUtil.errToObj(o)})}url(o){return this._addCheck({kind:"url",...errorUtil.errToObj(o)})}emoji(o){return this._addCheck({kind:"emoji",...errorUtil.errToObj(o)})}uuid(o){return this._addCheck({kind:"uuid",...errorUtil.errToObj(o)})}cuid(o){return this._addCheck({kind:"cuid",...errorUtil.errToObj(o)})}cuid2(o){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(o)})}ulid(o){return this._addCheck({kind:"ulid",...errorUtil.errToObj(o)})}ip(o){return this._addCheck({kind:"ip",...errorUtil.errToObj(o)})}datetime(o){var c;return typeof o=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:o}):this._addCheck({kind:"datetime",precision:typeof(o==null?void 0:o.precision)>"u"?null:o==null?void 0:o.precision,offset:(c=o==null?void 0:o.offset)!==null&&c!==void 0?c:!1,...errorUtil.errToObj(o==null?void 0:o.message)})}regex(o,c){return this._addCheck({kind:"regex",regex:o,...errorUtil.errToObj(c)})}includes(o,c){return this._addCheck({kind:"includes",value:o,position:c==null?void 0:c.position,...errorUtil.errToObj(c==null?void 0:c.message)})}startsWith(o,c){return this._addCheck({kind:"startsWith",value:o,...errorUtil.errToObj(c)})}endsWith(o,c){return this._addCheck({kind:"endsWith",value:o,...errorUtil.errToObj(c)})}min(o,c){return this._addCheck({kind:"min",value:o,...errorUtil.errToObj(c)})}max(o,c){return this._addCheck({kind:"max",value:o,...errorUtil.errToObj(c)})}length(o,c){return this._addCheck({kind:"length",value:o,...errorUtil.errToObj(c)})}get isDatetime(){return!!this._def.checks.find(o=>o.kind==="datetime")}get isEmail(){return!!this._def.checks.find(o=>o.kind==="email")}get isURL(){return!!this._def.checks.find(o=>o.kind==="url")}get isEmoji(){return!!this._def.checks.find(o=>o.kind==="emoji")}get isUUID(){return!!this._def.checks.find(o=>o.kind==="uuid")}get isCUID(){return!!this._def.checks.find(o=>o.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(o=>o.kind==="cuid2")}get isULID(){return!!this._def.checks.find(o=>o.kind==="ulid")}get isIP(){return!!this._def.checks.find(o=>o.kind==="ip")}get minLength(){let o=null;for(const c of this._def.checks)c.kind==="min"&&(o===null||c.value>o)&&(o=c.value);return o}get maxLength(){let o=null;for(const c of this._def.checks)c.kind==="max"&&(o===null||c.value<o)&&(o=c.value);return o}};ZodString.create=w=>{var o;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(o=w==null?void 0:w.coerce)!==null&&o!==void 0?o:!1,...processCreateParams(w)})};function floatSafeRemainder(w,o){const c=(w.toString().split(".")[1]||"").length,y=(o.toString().split(".")[1]||"").length,d=c>y?c:y,f=parseInt(w.toFixed(d).replace(".","")),g=parseInt(o.toFixed(d).replace(".",""));return f%g/Math.pow(10,d)}var ZodNumber=class fa extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(o){if(this._def.coerce&&(o.data=Number(o.data)),this._getType(o)!==ZodParsedType.number){const f=this._getOrReturnCtx(o);return addIssueToContext(f,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:f.parsedType}),INVALID}let y;const d=new ParseStatus;for(const f of this._def.checks)f.kind==="int"?util.isInteger(o.data)||(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:f.message}),d.dirty()):f.kind==="min"?(f.inclusive?o.data<f.value:o.data<=f.value)&&(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),d.dirty()):f.kind==="max"?(f.inclusive?o.data>f.value:o.data>=f.value)&&(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),d.dirty()):f.kind==="multipleOf"?floatSafeRemainder(o.data,f.value)!==0&&(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.not_multiple_of,multipleOf:f.value,message:f.message}),d.dirty()):f.kind==="finite"?Number.isFinite(o.data)||(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.not_finite,message:f.message}),d.dirty()):util.assertNever(f);return{status:d.value,value:o.data}}gte(o,c){return this.setLimit("min",o,!0,errorUtil.toString(c))}gt(o,c){return this.setLimit("min",o,!1,errorUtil.toString(c))}lte(o,c){return this.setLimit("max",o,!0,errorUtil.toString(c))}lt(o,c){return this.setLimit("max",o,!1,errorUtil.toString(c))}setLimit(o,c,y,d){return new fa({...this._def,checks:[...this._def.checks,{kind:o,value:c,inclusive:y,message:errorUtil.toString(d)}]})}_addCheck(o){return new fa({...this._def,checks:[...this._def.checks,o]})}int(o){return this._addCheck({kind:"int",message:errorUtil.toString(o)})}positive(o){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(o)})}negative(o){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(o)})}nonpositive(o){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(o)})}nonnegative(o){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(o)})}multipleOf(o,c){return this._addCheck({kind:"multipleOf",value:o,message:errorUtil.toString(c)})}finite(o){return this._addCheck({kind:"finite",message:errorUtil.toString(o)})}safe(o){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(o)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(o)})}get minValue(){let o=null;for(const c of this._def.checks)c.kind==="min"&&(o===null||c.value>o)&&(o=c.value);return o}get maxValue(){let o=null;for(const c of this._def.checks)c.kind==="max"&&(o===null||c.value<o)&&(o=c.value);return o}get isInt(){return!!this._def.checks.find(o=>o.kind==="int"||o.kind==="multipleOf"&&util.isInteger(o.value))}get isFinite(){let o=null,c=null;for(const y of this._def.checks){if(y.kind==="finite"||y.kind==="int"||y.kind==="multipleOf")return!0;y.kind==="min"?(c===null||y.value>c)&&(c=y.value):y.kind==="max"&&(o===null||y.value<o)&&(o=y.value)}return Number.isFinite(c)&&Number.isFinite(o)}};ZodNumber.create=w=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(w==null?void 0:w.coerce)||!1,...processCreateParams(w)});var ZodBigInt=class ha extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(o){if(this._def.coerce&&(o.data=BigInt(o.data)),this._getType(o)!==ZodParsedType.bigint){const f=this._getOrReturnCtx(o);return addIssueToContext(f,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:f.parsedType}),INVALID}let y;const d=new ParseStatus;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?o.data<f.value:o.data<=f.value)&&(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),d.dirty()):f.kind==="max"?(f.inclusive?o.data>f.value:o.data>=f.value)&&(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),d.dirty()):f.kind==="multipleOf"?o.data%f.value!==BigInt(0)&&(y=this._getOrReturnCtx(o,y),addIssueToContext(y,{code:ZodIssueCode.not_multiple_of,multipleOf:f.value,message:f.message}),d.dirty()):util.assertNever(f);return{status:d.value,value:o.data}}gte(o,c){return this.setLimit("min",o,!0,errorUtil.toString(c))}gt(o,c){return this.setLimit("min",o,!1,errorUtil.toString(c))}lte(o,c){return this.setLimit("max",o,!0,errorUtil.toString(c))}lt(o,c){return this.setLimit("max",o,!1,errorUtil.toString(c))}setLimit(o,c,y,d){return new ha({...this._def,checks:[...this._def.checks,{kind:o,value:c,inclusive:y,message:errorUtil.toString(d)}]})}_addCheck(o){return new ha({...this._def,checks:[...this._def.checks,o]})}positive(o){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(o)})}negative(o){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(o)})}nonpositive(o){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(o)})}nonnegative(o){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(o)})}multipleOf(o,c){return this._addCheck({kind:"multipleOf",value:o,message:errorUtil.toString(c)})}get minValue(){let o=null;for(const c of this._def.checks)c.kind==="min"&&(o===null||c.value>o)&&(o=c.value);return o}get maxValue(){let o=null;for(const c of this._def.checks)c.kind==="max"&&(o===null||c.value<o)&&(o=c.value);return o}};ZodBigInt.create=w=>{var o;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(o=w==null?void 0:w.coerce)!==null&&o!==void 0?o:!1,...processCreateParams(w)})};var ZodBoolean=class extends ZodType{_parse(w){if(this._def.coerce&&(w.data=!!w.data),this._getType(w)!==ZodParsedType.boolean){const c=this._getOrReturnCtx(w);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:c.parsedType}),INVALID}return OK(w.data)}};ZodBoolean.create=w=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(w==null?void 0:w.coerce)||!1,...processCreateParams(w)});var ZodDate=class Au extends ZodType{_parse(o){if(this._def.coerce&&(o.data=new Date(o.data)),this._getType(o)!==ZodParsedType.date){const f=this._getOrReturnCtx(o);return addIssueToContext(f,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:f.parsedType}),INVALID}if(isNaN(o.data.getTime())){const f=this._getOrReturnCtx(o);return addIssueToContext(f,{code:ZodIssueCode.invalid_date}),INVALID}const y=new ParseStatus;let d;for(const f of this._def.checks)f.kind==="min"?o.data.getTime()<f.value&&(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),y.dirty()):f.kind==="max"?o.data.getTime()>f.value&&(d=this._getOrReturnCtx(o,d),addIssueToContext(d,{code:ZodIssueCode.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),y.dirty()):util.assertNever(f);return{status:y.value,value:new Date(o.data.getTime())}}_addCheck(o){return new Au({...this._def,checks:[...this._def.checks,o]})}min(o,c){return this._addCheck({kind:"min",value:o.getTime(),message:errorUtil.toString(c)})}max(o,c){return this._addCheck({kind:"max",value:o.getTime(),message:errorUtil.toString(c)})}get minDate(){let o=null;for(const c of this._def.checks)c.kind==="min"&&(o===null||c.value>o)&&(o=c.value);return o!=null?new Date(o):null}get maxDate(){let o=null;for(const c of this._def.checks)c.kind==="max"&&(o===null||c.value<o)&&(o=c.value);return o!=null?new Date(o):null}};ZodDate.create=w=>new ZodDate({checks:[],coerce:(w==null?void 0:w.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(w)});var ZodSymbol=class extends ZodType{_parse(w){if(this._getType(w)!==ZodParsedType.symbol){const c=this._getOrReturnCtx(w);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:c.parsedType}),INVALID}return OK(w.data)}};ZodSymbol.create=w=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(w)});var ZodUndefined=class extends ZodType{_parse(w){if(this._getType(w)!==ZodParsedType.undefined){const c=this._getOrReturnCtx(w);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:c.parsedType}),INVALID}return OK(w.data)}};ZodUndefined.create=w=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(w)});var ZodNull=class extends ZodType{_parse(w){if(this._getType(w)!==ZodParsedType.null){const c=this._getOrReturnCtx(w);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:c.parsedType}),INVALID}return OK(w.data)}};ZodNull.create=w=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(w)});var ZodAny=class extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(w){return OK(w.data)}};ZodAny.create=w=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(w)});var ZodUnknown=class extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(w){return OK(w.data)}};ZodUnknown.create=w=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(w)});var ZodNever=class extends ZodType{_parse(w){const o=this._getOrReturnCtx(w);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:o.parsedType}),INVALID}};ZodNever.create=w=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(w)});var ZodVoid=class extends ZodType{_parse(w){if(this._getType(w)!==ZodParsedType.undefined){const c=this._getOrReturnCtx(w);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:c.parsedType}),INVALID}return OK(w.data)}};ZodVoid.create=w=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(w)});var ZodArray=class to extends ZodType{_parse(o){const{ctx:c,status:y}=this._processInputParams(o),d=this._def;if(c.parsedType!==ZodParsedType.array)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:c.parsedType}),INVALID;if(d.exactLength!==null){const g=c.data.length>d.exactLength.value,p=c.data.length<d.exactLength.value;(g||p)&&(addIssueToContext(c,{code:g?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:p?d.exactLength.value:void 0,maximum:g?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),y.dirty())}if(d.minLength!==null&&c.data.length<d.minLength.value&&(addIssueToContext(c,{code:ZodIssueCode.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),y.dirty()),d.maxLength!==null&&c.data.length>d.maxLength.value&&(addIssueToContext(c,{code:ZodIssueCode.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),y.dirty()),c.common.async)return Promise.all([...c.data].map((g,p)=>d.type._parseAsync(new ParseInputLazyPath(c,g,c.path,p)))).then(g=>ParseStatus.mergeArray(y,g));const f=[...c.data].map((g,p)=>d.type._parseSync(new ParseInputLazyPath(c,g,c.path,p)));return ParseStatus.mergeArray(y,f)}get element(){return this._def.type}min(o,c){return new to({...this._def,minLength:{value:o,message:errorUtil.toString(c)}})}max(o,c){return new to({...this._def,maxLength:{value:o,message:errorUtil.toString(c)}})}length(o,c){return new to({...this._def,exactLength:{value:o,message:errorUtil.toString(c)}})}nonempty(o){return this.min(1,o)}};ZodArray.create=(w,o)=>new ZodArray({type:w,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(o)});function deepPartialify(w){if(w instanceof ZodObject){const o={};for(const c in w.shape){const y=w.shape[c];o[c]=ZodOptional.create(deepPartialify(y))}return new ZodObject({...w._def,shape:()=>o})}else return w instanceof ZodArray?new ZodArray({...w._def,type:deepPartialify(w.element)}):w instanceof ZodOptional?ZodOptional.create(deepPartialify(w.unwrap())):w instanceof ZodNullable?ZodNullable.create(deepPartialify(w.unwrap())):w instanceof ZodTuple?ZodTuple.create(w.items.map(o=>deepPartialify(o))):w}var ZodObject=class ln extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const o=this._def.shape(),c=util.objectKeys(o);return this._cached={shape:o,keys:c}}_parse(o){if(this._getType(o)!==ZodParsedType.object){const l=this._getOrReturnCtx(o);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:l.parsedType}),INVALID}const{status:y,ctx:d}=this._processInputParams(o),{shape:f,keys:g}=this._getCached(),p=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const l in d.data)g.includes(l)||p.push(l);const m=[];for(const l of g){const a=f[l],n=d.data[l];m.push({key:{status:"valid",value:l},value:a._parse(new ParseInputLazyPath(d,n,d.path,l)),alwaysSet:l in d.data})}if(this._def.catchall instanceof ZodNever){const l=this._def.unknownKeys;if(l==="passthrough")for(const a of p)m.push({key:{status:"valid",value:a},value:{status:"valid",value:d.data[a]}});else if(l==="strict")p.length>0&&(addIssueToContext(d,{code:ZodIssueCode.unrecognized_keys,keys:p}),y.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const a of p){const n=d.data[a];m.push({key:{status:"valid",value:a},value:l._parse(new ParseInputLazyPath(d,n,d.path,a)),alwaysSet:a in d.data})}}return d.common.async?Promise.resolve().then(async()=>{const l=[];for(const a of m){const n=await a.key;l.push({key:n,value:await a.value,alwaysSet:a.alwaysSet})}return l}).then(l=>ParseStatus.mergeObjectSync(y,l)):ParseStatus.mergeObjectSync(y,m)}get shape(){return this._def.shape()}strict(o){return errorUtil.errToObj,new ln({...this._def,unknownKeys:"strict",...o!==void 0?{errorMap:(c,y)=>{var d,f,g,p;const m=(g=(f=(d=this._def).errorMap)===null||f===void 0?void 0:f.call(d,c,y).message)!==null&&g!==void 0?g:y.defaultError;return c.code==="unrecognized_keys"?{message:(p=errorUtil.errToObj(o).message)!==null&&p!==void 0?p:m}:{message:m}}}:{}})}strip(){return new ln({...this._def,unknownKeys:"strip"})}passthrough(){return new ln({...this._def,unknownKeys:"passthrough"})}extend(o){return new ln({...this._def,shape:()=>({...this._def.shape(),...o})})}merge(o){return new ln({unknownKeys:o._def.unknownKeys,catchall:o._def.catchall,shape:()=>({...this._def.shape(),...o._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(o,c){return this.augment({[o]:c})}catchall(o){return new ln({...this._def,catchall:o})}pick(o){const c={};return util.objectKeys(o).forEach(y=>{o[y]&&this.shape[y]&&(c[y]=this.shape[y])}),new ln({...this._def,shape:()=>c})}omit(o){const c={};return util.objectKeys(this.shape).forEach(y=>{o[y]||(c[y]=this.shape[y])}),new ln({...this._def,shape:()=>c})}deepPartial(){return deepPartialify(this)}partial(o){const c={};return util.objectKeys(this.shape).forEach(y=>{const d=this.shape[y];o&&!o[y]?c[y]=d:c[y]=d.optional()}),new ln({...this._def,shape:()=>c})}required(o){const c={};return util.objectKeys(this.shape).forEach(y=>{if(o&&!o[y])c[y]=this.shape[y];else{let f=this.shape[y];for(;f instanceof ZodOptional;)f=f._def.innerType;c[y]=f}}),new ln({...this._def,shape:()=>c})}keyof(){return createZodEnum(util.objectKeys(this.shape))}};ZodObject.create=(w,o)=>new ZodObject({shape:()=>w,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(o)});ZodObject.strictCreate=(w,o)=>new ZodObject({shape:()=>w,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(o)});ZodObject.lazycreate=(w,o)=>new ZodObject({shape:w,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(o)});var ZodUnion=class extends ZodType{_parse(w){const{ctx:o}=this._processInputParams(w),c=this._def.options;function y(d){for(const g of d)if(g.result.status==="valid")return g.result;for(const g of d)if(g.result.status==="dirty")return o.common.issues.push(...g.ctx.common.issues),g.result;const f=d.map(g=>new ZodError(g.ctx.common.issues));return addIssueToContext(o,{code:ZodIssueCode.invalid_union,unionErrors:f}),INVALID}if(o.common.async)return Promise.all(c.map(async d=>{const f={...o,common:{...o.common,issues:[]},parent:null};return{result:await d._parseAsync({data:o.data,path:o.path,parent:f}),ctx:f}})).then(y);{let d;const f=[];for(const p of c){const m={...o,common:{...o.common,issues:[]},parent:null},l=p._parseSync({data:o.data,path:o.path,parent:m});if(l.status==="valid")return l;l.status==="dirty"&&!d&&(d={result:l,ctx:m}),m.common.issues.length&&f.push(m.common.issues)}if(d)return o.common.issues.push(...d.ctx.common.issues),d.result;const g=f.map(p=>new ZodError(p));return addIssueToContext(o,{code:ZodIssueCode.invalid_union,unionErrors:g}),INVALID}}get options(){return this._def.options}};ZodUnion.create=(w,o)=>new ZodUnion({options:w,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(o)});var getDiscriminator=w=>w instanceof ZodLazy?getDiscriminator(w.schema):w instanceof ZodEffects?getDiscriminator(w.innerType()):w instanceof ZodLiteral?[w.value]:w instanceof ZodEnum?w.options:w instanceof ZodNativeEnum?Object.keys(w.enum):w instanceof ZodDefault?getDiscriminator(w._def.innerType):w instanceof ZodUndefined?[void 0]:w instanceof ZodNull?[null]:null,ZodDiscriminatedUnion=class Pu extends ZodType{_parse(o){const{ctx:c}=this._processInputParams(o);if(c.parsedType!==ZodParsedType.object)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:c.parsedType}),INVALID;const y=this.discriminator,d=c.data[y],f=this.optionsMap.get(d);return f?c.common.async?f._parseAsync({data:c.data,path:c.path,parent:c}):f._parseSync({data:c.data,path:c.path,parent:c}):(addIssueToContext(c,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[y]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(o,c,y){const d=new Map;for(const f of c){const g=getDiscriminator(f.shape[o]);if(!g)throw new Error(`A discriminator value for key \`${o}\` could not be extracted from all schema options`);for(const p of g){if(d.has(p))throw new Error(`Discriminator property ${String(o)} has duplicate value ${String(p)}`);d.set(p,f)}}return new Pu({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:o,options:c,optionsMap:d,...processCreateParams(y)})}};function mergeValues(w,o){const c=getParsedType(w),y=getParsedType(o);if(w===o)return{valid:!0,data:w};if(c===ZodParsedType.object&&y===ZodParsedType.object){const d=util.objectKeys(o),f=util.objectKeys(w).filter(p=>d.indexOf(p)!==-1),g={...w,...o};for(const p of f){const m=mergeValues(w[p],o[p]);if(!m.valid)return{valid:!1};g[p]=m.data}return{valid:!0,data:g}}else if(c===ZodParsedType.array&&y===ZodParsedType.array){if(w.length!==o.length)return{valid:!1};const d=[];for(let f=0;f<w.length;f++){const g=w[f],p=o[f],m=mergeValues(g,p);if(!m.valid)return{valid:!1};d.push(m.data)}return{valid:!0,data:d}}else return c===ZodParsedType.date&&y===ZodParsedType.date&&+w==+o?{valid:!0,data:w}:{valid:!1}}var ZodIntersection=class extends ZodType{_parse(w){const{status:o,ctx:c}=this._processInputParams(w),y=(d,f)=>{if(isAborted(d)||isAborted(f))return INVALID;const g=mergeValues(d.value,f.value);return g.valid?((isDirty(d)||isDirty(f))&&o.dirty(),{status:o.value,value:g.data}):(addIssueToContext(c,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([d,f])=>y(d,f)):y(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}};ZodIntersection.create=(w,o,c)=>new ZodIntersection({left:w,right:o,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(c)});var ZodTuple=class Eu extends ZodType{_parse(o){const{status:c,ctx:y}=this._processInputParams(o);if(y.parsedType!==ZodParsedType.array)return addIssueToContext(y,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:y.parsedType}),INVALID;if(y.data.length<this._def.items.length)return addIssueToContext(y,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&y.data.length>this._def.items.length&&(addIssueToContext(y,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),c.dirty());const f=[...y.data].map((g,p)=>{const m=this._def.items[p]||this._def.rest;return m?m._parse(new ParseInputLazyPath(y,g,y.path,p)):null}).filter(g=>!!g);return y.common.async?Promise.all(f).then(g=>ParseStatus.mergeArray(c,g)):ParseStatus.mergeArray(c,f)}get items(){return this._def.items}rest(o){return new Eu({...this._def,rest:o})}};ZodTuple.create=(w,o)=>{if(!Array.isArray(w))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:w,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(o)})};var ZodRecord=class ga extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(o){const{status:c,ctx:y}=this._processInputParams(o);if(y.parsedType!==ZodParsedType.object)return addIssueToContext(y,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:y.parsedType}),INVALID;const d=[],f=this._def.keyType,g=this._def.valueType;for(const p in y.data)d.push({key:f._parse(new ParseInputLazyPath(y,p,y.path,p)),value:g._parse(new ParseInputLazyPath(y,y.data[p],y.path,p))});return y.common.async?ParseStatus.mergeObjectAsync(c,d):ParseStatus.mergeObjectSync(c,d)}get element(){return this._def.valueType}static create(o,c,y){return c instanceof ZodType?new ga({keyType:o,valueType:c,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(y)}):new ga({keyType:ZodString.create(),valueType:o,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(c)})}},ZodMap=class extends ZodType{_parse(w){const{status:o,ctx:c}=this._processInputParams(w);if(c.parsedType!==ZodParsedType.map)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:c.parsedType}),INVALID;const y=this._def.keyType,d=this._def.valueType,f=[...c.data.entries()].map(([g,p],m)=>({key:y._parse(new ParseInputLazyPath(c,g,c.path,[m,"key"])),value:d._parse(new ParseInputLazyPath(c,p,c.path,[m,"value"]))}));if(c.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const p of f){const m=await p.key,l=await p.value;if(m.status==="aborted"||l.status==="aborted")return INVALID;(m.status==="dirty"||l.status==="dirty")&&o.dirty(),g.set(m.value,l.value)}return{status:o.value,value:g}})}else{const g=new Map;for(const p of f){const m=p.key,l=p.value;if(m.status==="aborted"||l.status==="aborted")return INVALID;(m.status==="dirty"||l.status==="dirty")&&o.dirty(),g.set(m.value,l.value)}return{status:o.value,value:g}}}};ZodMap.create=(w,o,c)=>new ZodMap({valueType:o,keyType:w,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(c)});var ZodSet=class ma extends ZodType{_parse(o){const{status:c,ctx:y}=this._processInputParams(o);if(y.parsedType!==ZodParsedType.set)return addIssueToContext(y,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:y.parsedType}),INVALID;const d=this._def;d.minSize!==null&&y.data.size<d.minSize.value&&(addIssueToContext(y,{code:ZodIssueCode.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),c.dirty()),d.maxSize!==null&&y.data.size>d.maxSize.value&&(addIssueToContext(y,{code:ZodIssueCode.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),c.dirty());const f=this._def.valueType;function g(m){const l=new Set;for(const a of m){if(a.status==="aborted")return INVALID;a.status==="dirty"&&c.dirty(),l.add(a.value)}return{status:c.value,value:l}}const p=[...y.data.values()].map((m,l)=>f._parse(new ParseInputLazyPath(y,m,y.path,l)));return y.common.async?Promise.all(p).then(m=>g(m)):g(p)}min(o,c){return new ma({...this._def,minSize:{value:o,message:errorUtil.toString(c)}})}max(o,c){return new ma({...this._def,maxSize:{value:o,message:errorUtil.toString(c)}})}size(o,c){return this.min(o,c).max(o,c)}nonempty(o){return this.min(1,o)}};ZodSet.create=(w,o)=>new ZodSet({valueType:w,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(o)});var ZodFunction=class no extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(o){const{ctx:c}=this._processInputParams(o);if(c.parsedType!==ZodParsedType.function)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:c.parsedType}),INVALID;function y(p,m){return makeIssue({data:p,path:c.path,errorMaps:[c.common.contextualErrorMap,c.schemaErrorMap,getErrorMap(),errorMap].filter(l=>!!l),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:m}})}function d(p,m){return makeIssue({data:p,path:c.path,errorMaps:[c.common.contextualErrorMap,c.schemaErrorMap,getErrorMap(),errorMap].filter(l=>!!l),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:m}})}const f={errorMap:c.common.contextualErrorMap},g=c.data;return this._def.returns instanceof ZodPromise?OK(async(...p)=>{const m=new ZodError([]),l=await this._def.args.parseAsync(p,f).catch(e=>{throw m.addIssue(y(p,e)),m}),a=await g(...l);return await this._def.returns._def.type.parseAsync(a,f).catch(e=>{throw m.addIssue(d(a,e)),m})}):OK((...p)=>{const m=this._def.args.safeParse(p,f);if(!m.success)throw new ZodError([y(p,m.error)]);const l=g(...m.data),a=this._def.returns.safeParse(l,f);if(!a.success)throw new ZodError([d(l,a.error)]);return a.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...o){return new no({...this._def,args:ZodTuple.create(o).rest(ZodUnknown.create())})}returns(o){return new no({...this._def,returns:o})}implement(o){return this.parse(o)}strictImplement(o){return this.parse(o)}static create(o,c,y){return new no({args:o||ZodTuple.create([]).rest(ZodUnknown.create()),returns:c||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(y)})}},ZodLazy=class extends ZodType{get schema(){return this._def.getter()}_parse(w){const{ctx:o}=this._processInputParams(w);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}};ZodLazy.create=(w,o)=>new ZodLazy({getter:w,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(o)});var ZodLiteral=class extends ZodType{_parse(w){if(w.data!==this._def.value){const o=this._getOrReturnCtx(w);return addIssueToContext(o,{received:o.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:w.data}}get value(){return this._def.value}};ZodLiteral.create=(w,o)=>new ZodLiteral({value:w,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(o)});function createZodEnum(w,o){return new ZodEnum({values:w,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(o)})}var ZodEnum=class ya extends ZodType{_parse(o){if(typeof o.data!="string"){const c=this._getOrReturnCtx(o),y=this._def.values;return addIssueToContext(c,{expected:util.joinValues(y),received:c.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(o.data)===-1){const c=this._getOrReturnCtx(o),y=this._def.values;return addIssueToContext(c,{received:c.data,code:ZodIssueCode.invalid_enum_value,options:y}),INVALID}return OK(o.data)}get options(){return this._def.values}get enum(){const o={};for(const c of this._def.values)o[c]=c;return o}get Values(){const o={};for(const c of this._def.values)o[c]=c;return o}get Enum(){const o={};for(const c of this._def.values)o[c]=c;return o}extract(o){return ya.create(o)}exclude(o){return ya.create(this.options.filter(c=>!o.includes(c)))}};ZodEnum.create=createZodEnum;var ZodNativeEnum=class extends ZodType{_parse(w){const o=util.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(w);if(c.parsedType!==ZodParsedType.string&&c.parsedType!==ZodParsedType.number){const y=util.objectValues(o);return addIssueToContext(c,{expected:util.joinValues(y),received:c.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(o.indexOf(w.data)===-1){const y=util.objectValues(o);return addIssueToContext(c,{received:c.data,code:ZodIssueCode.invalid_enum_value,options:y}),INVALID}return OK(w.data)}get enum(){return this._def.values}};ZodNativeEnum.create=(w,o)=>new ZodNativeEnum({values:w,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(o)});var ZodPromise=class extends ZodType{unwrap(){return this._def.type}_parse(w){const{ctx:o}=this._processInputParams(w);if(o.parsedType!==ZodParsedType.promise&&o.common.async===!1)return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:o.parsedType}),INVALID;const c=o.parsedType===ZodParsedType.promise?o.data:Promise.resolve(o.data);return OK(c.then(y=>this._def.type.parseAsync(y,{path:o.path,errorMap:o.common.contextualErrorMap})))}};ZodPromise.create=(w,o)=>new ZodPromise({type:w,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(o)});var ZodEffects=class extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(w){const{status:o,ctx:c}=this._processInputParams(w),y=this._def.effect||null;if(y.type==="preprocess"){const f=y.transform(c.data);return c.common.async?Promise.resolve(f).then(g=>this._def.schema._parseAsync({data:g,path:c.path,parent:c})):this._def.schema._parseSync({data:f,path:c.path,parent:c})}const d={addIssue:f=>{addIssueToContext(c,f),f.fatal?o.abort():o.dirty()},get path(){return c.path}};if(d.addIssue=d.addIssue.bind(d),y.type==="refinement"){const f=g=>{const p=y.refinement(g,d);if(c.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(c.common.async===!1){const g=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return g.status==="aborted"?INVALID:(g.status==="dirty"&&o.dirty(),f(g.value),{status:o.value,value:g.value})}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(g=>g.status==="aborted"?INVALID:(g.status==="dirty"&&o.dirty(),f(g.value).then(()=>({status:o.value,value:g.value}))))}if(y.type==="transform")if(c.common.async===!1){const f=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!isValid(f))return f;const g=y.transform(f.value,d);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:o.value,value:g}}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(f=>isValid(f)?Promise.resolve(y.transform(f.value,d)).then(g=>({status:o.value,value:g})):f);util.assertNever(y)}};ZodEffects.create=(w,o,c)=>new ZodEffects({schema:w,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:o,...processCreateParams(c)});ZodEffects.createWithPreprocess=(w,o,c)=>new ZodEffects({schema:o,effect:{type:"preprocess",transform:w},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(c)});var ZodOptional=class extends ZodType{_parse(w){return this._getType(w)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(w)}unwrap(){return this._def.innerType}};ZodOptional.create=(w,o)=>new ZodOptional({innerType:w,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(o)});var ZodNullable=class extends ZodType{_parse(w){return this._getType(w)===ZodParsedType.null?OK(null):this._def.innerType._parse(w)}unwrap(){return this._def.innerType}};ZodNullable.create=(w,o)=>new ZodNullable({innerType:w,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(o)});var ZodDefault=class extends ZodType{_parse(w){const{ctx:o}=this._processInputParams(w);let c=o.data;return o.parsedType===ZodParsedType.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:o.path,parent:o})}removeDefault(){return this._def.innerType}};ZodDefault.create=(w,o)=>new ZodDefault({innerType:w,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof o.default=="function"?o.default:()=>o.default,...processCreateParams(o)});var ZodCatch=class extends ZodType{_parse(w){const{ctx:o}=this._processInputParams(w),c={...o,common:{...o.common,issues:[]}},y=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return isAsync(y)?y.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new ZodError(c.common.issues)},input:c.data})})):{status:"valid",value:y.status==="valid"?y.value:this._def.catchValue({get error(){return new ZodError(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}};ZodCatch.create=(w,o)=>new ZodCatch({innerType:w,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof o.catch=="function"?o.catch:()=>o.catch,...processCreateParams(o)});var ZodNaN=class extends ZodType{_parse(w){if(this._getType(w)!==ZodParsedType.nan){const c=this._getOrReturnCtx(w);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:c.parsedType}),INVALID}return{status:"valid",value:w.data}}};ZodNaN.create=w=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(w)});var BRAND=Symbol("zod_brand"),ZodBranded=class extends ZodType{_parse(w){const{ctx:o}=this._processInputParams(w),c=o.data;return this._def.type._parse({data:c,path:o.path,parent:o})}unwrap(){return this._def.type}},ZodPipeline=class Du extends ZodType{_parse(o){const{status:c,ctx:y}=this._processInputParams(o);if(y.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:y.data,path:y.path,parent:y});return f.status==="aborted"?INVALID:f.status==="dirty"?(c.dirty(),DIRTY(f.value)):this._def.out._parseAsync({data:f.value,path:y.path,parent:y})})();{const d=this._def.in._parseSync({data:y.data,path:y.path,parent:y});return d.status==="aborted"?INVALID:d.status==="dirty"?(c.dirty(),{status:"dirty",value:d.value}):this._def.out._parseSync({data:d.value,path:y.path,parent:y})}}static create(o,c){return new Du({in:o,out:c,typeName:ZodFirstPartyTypeKind.ZodPipeline})}},custom=(w,o={},c)=>w?ZodAny.create().superRefine((y,d)=>{var f,g;if(!w(y)){const p=typeof o=="function"?o(y):typeof o=="string"?{message:o}:o,m=(g=(f=p.fatal)!==null&&f!==void 0?f:c)!==null&&g!==void 0?g:!0,l=typeof p=="string"?{message:p}:p;d.addIssue({code:"custom",...l,fatal:m})}}):ZodAny.create(),late={object:ZodObject.lazycreate},ZodFirstPartyTypeKind;(function(w){w.ZodString="ZodString",w.ZodNumber="ZodNumber",w.ZodNaN="ZodNaN",w.ZodBigInt="ZodBigInt",w.ZodBoolean="ZodBoolean",w.ZodDate="ZodDate",w.ZodSymbol="ZodSymbol",w.ZodUndefined="ZodUndefined",w.ZodNull="ZodNull",w.ZodAny="ZodAny",w.ZodUnknown="ZodUnknown",w.ZodNever="ZodNever",w.ZodVoid="ZodVoid",w.ZodArray="ZodArray",w.ZodObject="ZodObject",w.ZodUnion="ZodUnion",w.ZodDiscriminatedUnion="ZodDiscriminatedUnion",w.ZodIntersection="ZodIntersection",w.ZodTuple="ZodTuple",w.ZodRecord="ZodRecord",w.ZodMap="ZodMap",w.ZodSet="ZodSet",w.ZodFunction="ZodFunction",w.ZodLazy="ZodLazy",w.ZodLiteral="ZodLiteral",w.ZodEnum="ZodEnum",w.ZodEffects="ZodEffects",w.ZodNativeEnum="ZodNativeEnum",w.ZodOptional="ZodOptional",w.ZodNullable="ZodNullable",w.ZodDefault="ZodDefault",w.ZodCatch="ZodCatch",w.ZodPromise="ZodPromise",w.ZodBranded="ZodBranded",w.ZodPipeline="ZodPipeline"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));var instanceOfType=(w,o={message:`Input not instance of ${w.name}`})=>custom(c=>c instanceof w,o),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:w=>ZodString.create({...w,coerce:!0}),number:w=>ZodNumber.create({...w,coerce:!0}),boolean:w=>ZodBoolean.create({...w,coerce:!0}),bigint:w=>ZodBigInt.create({...w,coerce:!0}),date:w=>ZodDate.create({...w,coerce:!0})},NEVER=INVALID,z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),package_default={name:"@imgly/background-removal",version:"1.1.5",description:"Background Removal in the Browser",keywords:["background-removal","client-side","data-privacy","image-segmentation","image-matting","onnx"],repository:{type:"git",url:"git+https://github.com/imgly/background-removal-js.git"},license:"SEE LICENSE IN LICENSE.md",author:{name:"IMG.LY GmbH",email:"support@img.ly",url:"https://img.ly"},bugs:{email:"support@img.ly"},source:"./src/index.ts",main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/index.d.ts",exports:{".":{require:"./dist/index.cjs",import:"./dist/index.mjs",types:"./dist/index.d.ts"}},homepage:"https://img.ly/showcases/cesdk/web/background-removal",files:["LICENSE.md","README.md","dist/"],scripts:{start:"npm run watch",clean:"npx rimraf dist",test:"true",resources:"node ../../scripts/package-resources.mjs",build:"npm run clean && npm run resources && node scripts/build.mjs",watch:"npm run clean && npm run resources && node scripts/watch.mjs",publish:"npm run build && npm publish --access public",lint:"npx prettier --write ."},dependencies:{"onnxruntime-web":"^1.16.0"},devDependencies:{"@types/lodash":"^4.14.195","@types/node":"^20.3.1",lodash:"^4.17.21",ndarray:"^1.0.19",zod:"^3.21.4",assert:"^2.0.0",esbuild:"^0.18.18",glob:"^10.3.3","npm-dts":"^1.3.12",process:"^0.11.10","ts-loader":"^9.4.3",tslib:"^2.5.3",typescript:"^5.1.3",util:"^0.12.5",webpack:"^5.85.1","webpack-cli":"^5.1.4"}},ConfigSchema=z.object({publicPath:z.string().optional().describe("The public path to the wasm files and the onnx model.").default(`https://unpkg.com/${package_default.name}@${package_default.version}/dist/`),debug:z.boolean().default(!1).describe("Whether to enable debug logging."),proxyToWorker:z.boolean().default(!0).describe("Whether to proxy inference to a web worker."),fetchArgs:z.object({}).default({}).describe("Arguments to pass to fetch when loading the model."),progress:z.function().args(z.string(),z.number(),z.number()).returns(z.undefined()).describe("Progress callback.").optional(),model:z.enum(["small","medium"]).default("medium")}).default({});function validateConfig(w){const o=ConfigSchema.parse(w??{});return o.debug&&console.log("Config:",o),o}var import_ndarray4=__toESM(require_ndarray());async function initInference(w){w=validateConfig(w),w.debug&&console.debug("Loading model...");const o=w.model,y=await(await loadAsBlob(`/models/${o}`,w)).arrayBuffer(),d=await createOnnxSession(y,w);return{config:w,session:d}}async function runInference(w,o,c){o.progress&&o.progress("compute:inference",0,1);const y=1024,[d,f,g]=w.shape;let p=await tensorResize(w,y,y);const m=tensorHWCtoBCHW(p),l=await runOnnxSession(c,[["input",m]],["output"]),a=y*y;for(let u=0;u<4*a;u+=4){let h=u/4,b=l[0].data[h];p.data[u+3]=b*255}const[n,e]=calculateProportionalSize(f,d,y,y),t=Math.min(n,f),r=Math.min(e,d);return p=await tensorResize(p,t,r),o.progress&&o.progress("compute:inference",1,1),(0,import_ndarray4.default)(p.data,[r,t,4])}var import_lodash=__toESM(require_lodash());function isAbsoluteURI(w){return new RegExp("^(?:[a-z+]+:)?//","i").test(w)}function ensureAbsoluteURI(w,o){return isAbsoluteURI(w)?w:new URL(w,o).href}var src_default=removeBackground,init=(0,import_lodash.memoize)(initInference,w=>JSON.stringify(w));async function removeBackground(w,o){const{config:c,session:y}=await init(o);c.debug&&(c.progress=c.progress??((f,g,p)=>{console.debug(`Downloading ${f}: ${g} of ${p}`)}),crossOriginIsolated||console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),w=await imageSourceToImageData(w,c);const d=await runInference(w,c,y);return await imageEncode(d)}async function imageSourceToImageData(w,o){return typeof w=="string"&&(w=ensureAbsoluteURI(w,o.publicPath),w=new URL(w)),w instanceof URL&&(w=await(await fetch(w,{})).blob()),(w instanceof ArrayBuffer||ArrayBuffer.isView(w))&&(w=new Blob([w])),w instanceof Blob&&(w=await imageDecode(w)),w}/*! Bundled license information:

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/class Remover{constructor(){Su(this,"refs",{uploadInput:document.querySelector("#upload-input"),blockEmpty:document.querySelector("#upload-empty"),blockProcessing:document.querySelector("#upload-processing"),blockResult:document.querySelector("#result"),blockRestart:document.querySelector("#block-restart"),processingLoader:document.querySelector("#upload-processing-loader"),imagePreview:document.querySelector("#image-preview"),imageResult:document.querySelector("#image-result"),buttonDownload:document.querySelector("#button-download")})}init(){this.refs.uploadInput.addEventListener("change",o=>{this.refs.blockEmpty.style.display="none",this.refs.blockProcessing.style.display="block";const c=o.target.files[0];if(c){const y=window.URL.createObjectURL(c);this.refs.imagePreview.src=y,this.refs.imagePreview.alt=c.name,this.initRemover(c)}else this.refs.imagePreview.src=this.refs.imagePreview.dataset.src})}initRemover(o){src_default(o,{progress:(c,y,d)=>{this.refs.processingLoader.textContent=`Downloading ${c}: ${y} of ${d}`,console.log(`Downloading ${c}: ${y} of ${d}`)}}).then(c=>{const y=URL.createObjectURL(c);this.refs.blockProcessing.style.display="none",this.refs.blockResult.style.display="block",this.refs.imageResult.src=y,this.refs.buttonDownload.href=y,this.refs.blockRestart.style.display="block"})}}const remover=new Remover;remover.init();
